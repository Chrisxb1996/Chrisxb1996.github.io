{"meta":{"title":"xbsNotes","subtitle":"","description":"ğŸƒ","author":"xNotes","url":"https://chrisxb1996.github.io","root":"/"},"pages":[{"title":"","date":"2020-05-12T08:35:33.000Z","updated":"2020-05-12T08:38:56.959Z","comments":false,"path":"about/index.html","permalink":"https://chrisxb1996.github.io/about/index.html","excerpt":"","text":"â€œ â€"},{"title":"","date":"2020-05-10T14:10:33.000Z","updated":"2020-05-11T04:38:23.316Z","comments":false,"path":"categories/index.html","permalink":"https://chrisxb1996.github.io/categories/index.html","excerpt":"","text":""},{"title":"","date":"2020-05-11T03:34:53.000Z","updated":"2020-06-16T12:29:21.101Z","comments":false,"path":"Coding/index.html","permalink":"https://chrisxb1996.github.io/Coding/index.html","excerpt":"","text":"JavaåŸºç¡€Java æ³¨è§£(Annotation)Java åå°„(reflection)Java åŠ¨æ€ç¼–è¯‘JVMæ ¸å¿ƒæœºåˆ¶-ç±»åŠ è½½è¿‡ç¨‹ è®¾è®¡æ¨¡å¼è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼è®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼è®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼è®¾è®¡æ¨¡å¼-æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼è®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼ LeetCodeåˆ·é¢˜å‰‘æŒ‡offerè®¡ç®—æœºç½‘ç»œè®¡ç®—æœºç½‘ç»œæ¦‚è¿°æ•°æ®é“¾è·¯å±‚ç½‘ç»œå±‚ä¼ è¾“å±‚åº”ç”¨å±‚"},{"title":"","date":"2020-05-10T14:25:26.000Z","updated":"2020-05-11T04:42:00.966Z","comments":false,"path":"tags/index.html","permalink":"https://chrisxb1996.github.io/tags/index.html","excerpt":"","text":""},{"title":"","date":"2020-05-11T03:26:51.000Z","updated":"2020-05-12T08:27:56.305Z","comments":false,"path":"scientific/index.html","permalink":"https://chrisxb1996.github.io/scientific/index.html","excerpt":"","text":"å¤©çº¿é˜µåˆ—:è®ºæ–‡ç¬”è®°ï¼šStatistical Analysis of Array Gain for Cooperative MISO Transmitters without CSI"}],"posts":[{"title":"java-åŸºç¡€","slug":"Java/Java-åŸºç¡€","date":"2020-06-16T14:54:27.000Z","updated":"2020-06-17T12:08:45.575Z","comments":true,"path":"2020/06/16/Java/Java-åŸºç¡€/","link":"","permalink":"https://chrisxb1996.github.io/2020/06/16/Java/Java-%E5%9F%BA%E7%A1%80/","excerpt":"","text":"Javaæ•°æ®ç±»å‹ä»¥åŠè‡ªåŠ¨æ‹†ç®±/è£…ç®±Javaè¯­è¨€æ”¯æŒçš„æ•°æ®ç±»å‹åŒ…æ‹¬ä¸¤ç§ï¼š åŸºæœ¬æ•°æ®ç±»å‹ï¼š byteï¼š1å­—èŠ‚(8ä½) short(2)ï¼š2å­—èŠ‚(16ä½) char(2)ï¼š2å­—èŠ‚(16ä½) int(4)ï¼š4å­—èŠ‚(32ä½) float(4)ï¼š4å­—èŠ‚(32ä½) long(8)ï¼š8å­—èŠ‚(64ä½) double(8)ï¼š8å­—èŠ‚(64ä½) Boolean(1)ï¼štrueã€falseï¼Œå¯ä»¥ä½¿ç”¨ 1 ä½(bit) æ¥å­˜å‚¨ï¼Œä½†æ˜¯å…·ä½“å¤§å°æ²¡æœ‰æ˜ç¡®è§„å®šã€‚JVM ä¼šåœ¨ç¼–è¯‘æ—¶æœŸå°† boolean ç±»å‹çš„æ•°æ®è½¬æ¢ä¸º intï¼Œä½¿ç”¨ 1 æ¥è¡¨ç¤º trueï¼Œ0 è¡¨ç¤º falseã€‚JVM æ”¯æŒ boolean æ•°ç»„ï¼Œä½†æ˜¯æ˜¯é€šè¿‡è¯»å†™ byte æ•°ç»„æ¥å®ç°çš„ã€‚ javaé‡‡ç”¨Unicodeç¼–ç ï¼Œä¸è®ºæ±‰å­—ã€å­—æ¯ã€æ•°å­—ï¼Œæ¯ä¸ªå­—ç¬¦éƒ½å ç”¨2å­—èŠ‚ã€‚ è‡ªåŠ¨è£…ç®±æ˜¯Javaç¼–è¯‘å™¨åœ¨åŸºæœ¬æ•°æ®ç±»å‹å’Œå¯¹åº”çš„å¯¹è±¡åŒ…è£…ç±»å‹ä¹‹é—´åšçš„ä¸€ä¸ªè½¬åŒ–ã€‚åä¹‹å°±æ˜¯è‡ªåŠ¨æ‹†ç®±ã€‚è‡ªåŠ¨è£…ç®±å°±æ˜¯Javaç¼–è¯‘å™¨åœ¨åŸºæœ¬æ•°æ®ç±»å‹å’Œå¯¹åº”çš„å¯¹è±¡åŒ…è£…ç±»å‹é—´çš„è½¬åŒ–ï¼Œå³intè½¬åŒ–ä¸ºInteger,è‡ªåŠ¨æ‹†ç®±æ˜¯Integerè°ƒç”¨å…¶æ–¹æ³•å°†å…¶è½¬åŒ–ä¸ºintçš„è¿‡ç¨‹ã€‚ 12Integer x = 2; // è£…ç®± è°ƒç”¨äº† Integer.valueOf(2)int y = x; // æ‹†ç®± è°ƒç”¨äº† X.intValue() Javaå®¹å™¨å®¹å™¨ä¸»è¦åŒ…æ‹¬ Collection å’Œ Map ä¸¤ç§ï¼ŒCollection å­˜å‚¨ç€å¯¹è±¡çš„é›†åˆï¼Œè€Œ Map å­˜å‚¨ç€é”®å€¼å¯¹ï¼ˆä¸¤ä¸ªå¯¹è±¡ï¼‰çš„æ˜ å°„è¡¨ã€‚ Collection æ³¨ï¼šListæ˜¯æœ‰åºå¯é‡å¤å…ƒç´ é›†åˆï¼ŒSetæ˜¯æ— åºä¸å¯é‡å¤å…ƒç´ é›†åˆï¼› Set TreeSetï¼šåŸºäºçº¢é»‘æ ‘å®ç°ï¼Œæ”¯æŒæœ‰åºæ€§æ“ä½œï¼Œä¾‹å¦‚æ ¹æ®ä¸€ä¸ªèŒƒå›´æŸ¥æ‰¾å…ƒç´ çš„æ“ä½œã€‚ä½†æ˜¯æŸ¥æ‰¾æ•ˆç‡ä¸å¦‚ HashSetï¼ŒHashSet æŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦ä¸º O(1)ï¼ŒTreeSet åˆ™ä¸º O(logN)ã€‚ HashSetï¼šåŸºäºå“ˆå¸Œè¡¨å®ç°ï¼Œæ”¯æŒå¿«é€ŸæŸ¥æ‰¾ï¼Œä½†ä¸æ”¯æŒæœ‰åºæ€§æ“ä½œã€‚å¹¶ä¸”å¤±å»äº†å…ƒç´ çš„æ’å…¥é¡ºåºä¿¡æ¯ï¼Œä¹Ÿå°±æ˜¯è¯´ä½¿ç”¨ Iterator éå† HashSet å¾—åˆ°çš„ç»“æœæ˜¯ä¸ç¡®å®šçš„ã€‚ LinkedHashSetï¼šå…·æœ‰ HashSet çš„æŸ¥æ‰¾æ•ˆç‡ï¼Œå¹¶ä¸”å†…éƒ¨ä½¿ç”¨åŒå‘é“¾è¡¨ç»´æŠ¤å…ƒç´ çš„æ’å…¥é¡ºåºã€‚ List ArrayListï¼šåŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼Œæ”¯æŒéšæœºè®¿é—®ã€‚ Vectorï¼šå’Œ ArrayList ç±»ä¼¼ï¼Œä½†å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚ LinkedListï¼šåŸºäºåŒå‘é“¾è¡¨å®ç°ï¼Œåªèƒ½é¡ºåºè®¿é—®ï¼Œä½†æ˜¯å¯ä»¥å¿«é€Ÿåœ°åœ¨é“¾è¡¨ä¸­é—´æ’å…¥å’Œåˆ é™¤å…ƒç´ ã€‚ä¸ä»…å¦‚æ­¤ï¼ŒLinkedList è¿˜å¯ä»¥ç”¨ä½œæ ˆã€é˜Ÿåˆ—å’ŒåŒå‘é˜Ÿåˆ—ã€‚ Queue LinkedListï¼šå¯ä»¥ç”¨å®ƒæ¥å®ç°åŒå‘é˜Ÿåˆ—ã€‚ PriorityQueueï¼šåŸºäºå †ç»“æ„å®ç°ï¼Œå¯ä»¥ç”¨å®ƒæ¥å®ç°ä¼˜å…ˆé˜Ÿåˆ—ã€‚ Map TreeMapï¼šåŸºäºçº¢é»‘æ ‘å®ç°ã€‚ HashMapï¼šåŸºäºå“ˆå¸Œè¡¨å®ç°ã€‚ HashTableï¼šå’Œ HashMap ç±»ä¼¼ï¼Œä½†å®ƒæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™æ„å‘³ç€åŒä¸€æ—¶åˆ»å¤šä¸ªçº¿ç¨‹åŒæ—¶å†™å…¥ HashTable ä¸ä¼šå¯¼è‡´æ•°æ®ä¸ä¸€è‡´ã€‚å®ƒæ˜¯é—ç•™ç±»ï¼Œä¸åº”è¯¥å»ä½¿ç”¨å®ƒï¼Œè€Œæ˜¯ä½¿ç”¨ ConcurrentHashMap æ¥æ”¯æŒçº¿ç¨‹å®‰å…¨ï¼ŒConcurrentHashMap çš„æ•ˆç‡ä¼šæ›´é«˜ï¼Œå› ä¸º ConcurrentHashMap å¼•å…¥äº†åˆ†æ®µé”ã€‚ LinkedHashMapï¼šä½¿ç”¨åŒå‘é“¾è¡¨æ¥ç»´æŠ¤å…ƒç´ çš„é¡ºåºï¼Œé¡ºåºä¸ºæ’å…¥é¡ºåºæˆ–è€…æœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼ˆLRUï¼‰é¡ºåºã€‚ è¿­ä»£å™¨æ¨¡å¼ Collection ç»§æ‰¿äº† Iterable æ¥å£ï¼Œå…¶ä¸­çš„ iterator() æ–¹æ³•èƒ½å¤Ÿäº§ç”Ÿä¸€ä¸ª Iterator å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªå¯¹è±¡å°±å¯ä»¥è¿­ä»£éå† Collection ä¸­çš„å…ƒç´ ã€‚ Javaä¸­çš„IteratoråŠŸèƒ½æ¯”è¾ƒç®€å•ï¼Œå¹¶ä¸”åªèƒ½å•å‘ç§»åŠ¨ï¼š (1) ä½¿ç”¨æ–¹æ³•iterator()è¦æ±‚å®¹å™¨è¿”å›ä¸€ä¸ªIteratorã€‚æ³¨æ„ï¼šiterator()æ–¹æ³•æ˜¯java.lang.Iterableæ¥å£çš„æ–¹æ³•ï¼Œè¢«Collectionç»§æ‰¿ã€‚ (2) ä½¿ç”¨hasNext()æ£€æŸ¥åºåˆ—ä¸­æ˜¯å¦è¿˜æœ‰å…ƒç´ ã€‚ (3) ä½¿ç”¨next()è·å¾—åºåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚ (4) ä½¿ç”¨remove()å°†è¿­ä»£å™¨æ–°è¿”å›çš„å…ƒç´ åˆ é™¤ã€‚ Iteratoråªèƒ½æ­£å‘éå†é›†åˆï¼Œé€‚ç”¨äºè·å–ç§»é™¤å…ƒç´ ã€‚ListIteratorç»§æ‰¿è‡ªIteratorï¼Œä¸“é—¨é’ˆå¯¹Listï¼Œå¯ä»¥ä»ä¸¤ä¸ªæ–¹å‘æ¥éå†Listï¼ŒåŒæ—¶æ”¯æŒå…ƒç´ çš„ä¿®æ”¹(æ’å…¥å’Œåˆ é™¤)ã€‚ä» JDK 1.5 ä¹‹åå¯ä»¥ä½¿ç”¨ for eachæ–¹æ³•æ¥éå†å®ç°äº† Iterable æ¥å£çš„èšåˆå¯¹è±¡ã€‚ æºç åˆ†æArrayList ArrayList æ˜¯åŸºäºæ•°ç»„å®ç°çš„ï¼Œæ‰€ä»¥æ”¯æŒå¿«é€Ÿéšæœºè®¿é—®ã€‚ æ•°ç»„çš„é»˜è®¤å¤§å°ä¸º 10ã€‚ 1private static final int DEFAULT_CAPACITY = 10; æ‰©å®¹ï¼š oldCapacity + (oldCapacity &gt;&gt; 1)ï¼Œä¸ºæ—§å®¹é‡çš„ 1.5 å€ï¼Œæ‰©å®¹æ“ä½œéœ€è¦è°ƒç”¨ Arrays.copyOf() æŠŠåŸæ•°ç»„æ•´ä¸ªå¤åˆ¶åˆ°æ–°æ•°ç»„ä¸­ï¼Œæ“ä½œä»£ä»·å¾ˆé«˜ã€‚ åˆ é™¤å…ƒç´ ï¼šéœ€è¦è°ƒç”¨ System.arraycopy() å°† index+1 åé¢çš„å…ƒç´ éƒ½å¤åˆ¶åˆ° index ä½ç½®ä¸Šï¼Œè¯¥æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸º O(N)ï¼Œå¯ä»¥çœ‹åˆ° ArrayList åˆ é™¤å…ƒç´ çš„ä»£ä»·æ˜¯éå¸¸é«˜çš„ã€‚ Vector åŒæ­¥ï¼šå®ƒçš„å®ç°ä¸ ArrayList ç±»ä¼¼ï¼Œä½†æ˜¯ä½¿ç”¨äº† synchronized è¿›è¡ŒåŒæ­¥ã€‚ ä¸ArrayListæ¯”è¾ƒï¼š ï¼ˆ1ï¼‰Vector æ˜¯åŒæ­¥çš„ï¼Œå› æ­¤å¼€é”€å°±æ¯” ArrayList è¦å¤§ï¼Œè®¿é—®é€Ÿåº¦æ›´æ…¢ã€‚æœ€å¥½ä½¿ç”¨ ArrayList è€Œä¸æ˜¯ Vectorï¼Œå› ä¸ºåŒæ­¥æ“ä½œå®Œå…¨å¯ä»¥ç”±ç¨‹åºå‘˜è‡ªå·±æ¥æ§åˆ¶ï¼› ï¼ˆ2ï¼‰Vector æ¯æ¬¡æ‰©å®¹è¯·æ±‚å…¶å¤§å°çš„ 2 å€ï¼ˆä¹Ÿå¯ä»¥é€šè¿‡æ„é€ å‡½æ•°è®¾ç½®å¢é•¿çš„å®¹é‡ï¼‰ï¼Œè€Œ ArrayList æ˜¯ 1.5 å€ã€‚ æ›¿ä»£æ–¹æ¡ˆï¼šå¯ä»¥ä½¿ç”¨ Collections.synchronizedList(); å¾—åˆ°ä¸€ä¸ªçº¿ç¨‹å®‰å…¨çš„ ArrayListã€‚ 12List&lt;String&gt; list = new ArrayList&lt;&gt;();List&lt;String&gt; synList = Collections.synchronizedList(list); ä¹Ÿå¯ä»¥ä½¿ç”¨ concurrent å¹¶å‘åŒ…ä¸‹çš„ CopyOnWriteArrayList ç±»ã€‚ 1List&lt;String&gt; list = new CopyOnWriteArrayList&lt;&gt;(); CopyOnWriteArrayList è¯»å†™åˆ†ç¦»ï¼šå†™æ“ä½œåœ¨ä¸€ä¸ªå¤åˆ¶çš„æ•°ç»„ä¸Šè¿›è¡Œï¼Œè¯»æ“ä½œè¿˜æ˜¯åœ¨åŸå§‹æ•°ç»„ä¸­è¿›è¡Œï¼Œè¯»å†™åˆ†ç¦»ï¼Œäº’ä¸å½±å“ã€‚ å†™æ“ä½œéœ€è¦åŠ é”ï¼Œé˜²æ­¢å¹¶å‘å†™å…¥æ—¶å¯¼è‡´å†™å…¥æ•°æ®ä¸¢å¤±ã€‚ å†™æ“ä½œç»“æŸä¹‹åéœ€è¦æŠŠåŸå§‹æ•°ç»„æŒ‡å‘æ–°çš„å¤åˆ¶æ•°ç»„ã€‚ ä¼˜ç¼ºç‚¹ï¼š ä¼˜ç‚¹ï¼šCopyOnWriteArrayList åœ¨å†™æ“ä½œçš„åŒæ—¶å…è®¸è¯»æ“ä½œï¼Œå¤§å¤§æé«˜äº†è¯»æ“ä½œçš„æ€§èƒ½ã€‚ ç¼ºç‚¹ï¼š å†…å­˜å ç”¨ï¼šåœ¨å†™æ“ä½œæ—¶éœ€è¦å¤åˆ¶ä¸€ä¸ªæ–°çš„æ•°ç»„ï¼Œä½¿å¾—å†…å­˜å ç”¨ä¸ºåŸæ¥çš„ä¸¤å€å·¦å³ï¼› æ•°æ®ä¸ä¸€è‡´ï¼šè¯»æ“ä½œä¸èƒ½è¯»å–å®æ—¶æ€§çš„æ•°æ®ï¼Œå› ä¸ºéƒ¨åˆ†å†™æ“ä½œçš„æ•°æ®è¿˜æœªåŒæ­¥åˆ°è¯»æ•°ç»„ä¸­ã€‚ é€‚ç”¨åœºæ™¯ï¼šé€‚åˆè¯»å¤šå†™å°‘çš„åº”ç”¨åœºæ™¯ï¼Œä¸é€‚åˆå†…å­˜æ•æ„Ÿä»¥åŠå¯¹å®æ—¶æ€§è¦æ±‚å¾ˆé«˜çš„åœºæ™¯ã€‚ LinkedList ArrayList åŸºäºåŠ¨æ€æ•°ç»„å®ç°ï¼ŒLinkedList åŸºäºåŒå‘é“¾è¡¨å®ç°ã€‚ArrayList å’Œ LinkedList çš„åŒºåˆ«å¯ä»¥å½’ç»“ä¸ºæ•°ç»„å’Œé“¾è¡¨çš„åŒºåˆ«ï¼š æ•°ç»„æ”¯æŒéšæœºè®¿é—®ï¼Œä½†æ’å…¥åˆ é™¤çš„ä»£ä»·å¾ˆé«˜ï¼Œéœ€è¦ç§»åŠ¨å¤§é‡å…ƒç´ ï¼› é“¾è¡¨ä¸æ”¯æŒéšæœºè®¿é—®ï¼Œä½†æ’å…¥åˆ é™¤åªéœ€è¦æ”¹å˜æŒ‡é’ˆã€‚ HashMap å†…éƒ¨åŒ…å«äº†ä¸€ä¸ª Entry ç±»å‹çš„æ•°ç»„ tableã€‚Entry å­˜å‚¨ç€é”®å€¼å¯¹ã€‚å®ƒåŒ…å«äº†å››ä¸ªå­—æ®µï¼Œä» next å­—æ®µæˆ‘ä»¬å¯ä»¥çœ‹å‡º Entry æ˜¯ä¸€ä¸ªé“¾è¡¨ã€‚å³æ•°ç»„ä¸­çš„æ¯ä¸ªä½ç½®è¢«å½“æˆä¸€ä¸ªæ¡¶ï¼Œä¸€ä¸ªæ¡¶å­˜æ”¾ä¸€ä¸ªé“¾è¡¨ã€‚HashMap ä½¿ç”¨æ‹‰é“¾æ³•æ¥è§£å†³å†²çªï¼ŒåŒä¸€ä¸ªé“¾è¡¨ä¸­å­˜æ”¾å“ˆå¸Œå€¼å’Œæ•£åˆ—æ¡¶å–æ¨¡è¿ç®—ç»“æœç›¸åŒçš„ Entryã€‚ æ‹‰é“¾æ³• 1234HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();map.put(\"K1\", \"V1\");map.put(\"K2\", \"V2\");map.put(\"K3\", \"V3\"); ï¼ˆ1ï¼‰æ–°å»ºä¸€ä¸ª HashMapï¼Œé»˜è®¤å¤§å°ä¸º 16 ï¼ˆ2ï¼‰æ’å…¥ &lt;K1,V1&gt; é”®å€¼å¯¹ï¼Œå…ˆè®¡ç®— K1 çš„ hashCode ä¸º 113ï¼Œä½¿ç”¨é™¤ç•™ä½™æ•°æ³•å¾—åˆ°æ‰€åœ¨çš„æ¡¶ä¸‹æ ‡ 113%16=1ã€‚ ï¼ˆ3ï¼‰æ’å…¥ &lt;K2,V2&gt; é”®å€¼å¯¹ï¼Œå…ˆè®¡ç®— K2 çš„ hashCode ä¸º 120ï¼Œä½¿ç”¨é™¤ç•™ä½™æ•°æ³•å¾—åˆ°æ‰€åœ¨çš„æ¡¶ä¸‹æ ‡ 120%16=8ã€‚ ï¼ˆ4ï¼‰æ’å…¥ &lt;K3,V3&gt; é”®å€¼å¯¹ï¼Œå…ˆè®¡ç®— K3 çš„ hashCode ä¸º 120ï¼Œä½¿ç”¨é™¤ç•™ä½™æ•°æ³•å¾—åˆ°æ‰€åœ¨çš„æ¡¶ä¸‹æ ‡ 120%16=8ï¼Œæ’åœ¨ &lt;K2,V2&gt; å‰é¢ã€‚ï¼ˆæ³¨æ„ï¼šå¤´æ’æ³•ï¼‰ æ‰©å®¹ å½“éœ€è¦æ‰©å®¹æ—¶ï¼Œä»¤ capacity ä¸ºåŸæ¥çš„ä¸¤å€ã€‚æ‰©å®¹ä½¿ç”¨ resize() å®ç°ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰©å®¹æ“ä½œåŒæ ·éœ€è¦æŠŠ oldTable çš„æ‰€æœ‰é”®å€¼å¯¹é‡æ–°æ’å…¥ newTable ä¸­ï¼Œå› æ­¤è¿™ä¸€æ­¥æ˜¯å¾ˆè´¹æ—¶çš„ã€‚ é“¾è¡¨è½¬çº¢é»‘æ ‘ ä» JDK 1.8 å¼€å§‹ï¼Œä¸€ä¸ªæ¡¶å­˜å‚¨çš„é“¾è¡¨é•¿åº¦å¤§äºç­‰äº 8 æ—¶ä¼šå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ã€‚ ä¸HashTableæ¯”è¾ƒ ï¼ˆ1ï¼‰Hashtable ä½¿ç”¨ synchronized æ¥è¿›è¡ŒåŒæ­¥ã€‚ ï¼ˆ2ï¼‰HashMap å¯ä»¥æ’å…¥é”®ä¸º null çš„ Entryã€‚(HashMap ä½¿ç”¨ç¬¬ 0 ä¸ªæ¡¶å­˜æ”¾é”®ä¸º null çš„é”®å€¼å¯¹) ï¼ˆ3ï¼‰HashMap çš„è¿­ä»£å™¨æ˜¯ fail-fast è¿­ä»£å™¨ã€‚ ï¼ˆ4ï¼‰HashMap ä¸èƒ½ä¿è¯éšç€æ—¶é—´çš„æ¨ç§» Map ä¸­çš„å…ƒç´ æ¬¡åºæ˜¯ä¸å˜çš„ã€‚ ConcurrentHashMap ConcurrentHashMap å’Œ HashMap å®ç°ä¸Šç±»ä¼¼ï¼Œæœ€ä¸»è¦çš„å·®åˆ«æ˜¯ ConcurrentHashMap é‡‡ç”¨äº†åˆ†æ®µé”ï¼ˆSegmentï¼‰ï¼Œæ¯ä¸ªåˆ†æ®µé”ç»´æŠ¤ç€å‡ ä¸ªæ¡¶ï¼ˆHashEntryï¼‰ï¼Œå¤šä¸ªçº¿ç¨‹å¯ä»¥åŒæ—¶è®¿é—®ä¸åŒåˆ†æ®µé”ä¸Šçš„æ¡¶ï¼Œä»è€Œä½¿å…¶å¹¶å‘åº¦æ›´é«˜ï¼ˆå¹¶å‘åº¦å°±æ˜¯ Segment çš„ä¸ªæ•°ï¼‰ã€‚ sizeæ“ä½œï¼šConcurrentHashMap åœ¨æ‰§è¡Œ size æ“ä½œæ—¶å…ˆå°è¯•ä¸åŠ é”ï¼Œå¦‚æœè¿ç»­ä¸¤æ¬¡ä¸åŠ é”æ“ä½œå¾—åˆ°çš„ç»“æœä¸€è‡´ï¼Œé‚£ä¹ˆå¯ä»¥è®¤ä¸ºè¿™ä¸ªç»“æœæ˜¯æ­£ç¡®çš„ã€‚ JDK1.8åæ”¹åŠ¨ï¼š JDK 1.7 ä½¿ç”¨åˆ†æ®µé”æœºåˆ¶æ¥å®ç°å¹¶å‘æ›´æ–°æ“ä½œï¼Œæ ¸å¿ƒç±»ä¸º Segmentï¼Œå®ƒç»§æ‰¿è‡ªé‡å…¥é” ReentrantLockï¼Œå¹¶å‘åº¦ä¸ Segment æ•°é‡ç›¸ç­‰ã€‚ JDK 1.8 ä½¿ç”¨äº† CAS æ“ä½œæ¥æ”¯æŒæ›´é«˜çš„å¹¶å‘åº¦ï¼Œåœ¨ CAS æ“ä½œå¤±è´¥æ—¶ä½¿ç”¨å†…ç½®é” synchronizedã€‚ å‚è€ƒèµ„æ–™Cyc2018 ï¼šhttps://cyc2018.github.io/CS-Notes/#/README","categories":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"}]},{"title":"å‰‘æŒ‡offer-ä¸­ç­‰ç¯‡","slug":"å‰‘æŒ‡offer/å‰‘æŒ‡offer-ä¸­ç­‰ç¯‡","date":"2020-06-10T13:03:53.000Z","updated":"2020-06-17T15:08:37.776Z","comments":true,"path":"2020/06/10/å‰‘æŒ‡offer/å‰‘æŒ‡offer-ä¸­ç­‰ç¯‡/","link":"","permalink":"https://chrisxb1996.github.io/2020/06/10/%E5%89%91%E6%8C%87offer/%E5%89%91%E6%8C%87offer-%E4%B8%AD%E7%AD%89%E7%AF%87/","excerpt":"å‰ªç»³å­é¢˜ç›®æè¿°ï¼šç»™ä½ ä¸€æ ¹é•¿åº¦ä¸ºnçš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿çš„mæ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn&gt;1å¹¶ä¸”m&gt;1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°ä¸ºk[0],k[1],â€¦,k[m]ã€‚è¯·é—®k[0] x k[1] x â€¦ x k[m]å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚ æ€è·¯ï¼š 5&lt;2x3ï¼Œ6&lt;3x3ï¼Œæ¯”6æ›´å¤§çš„æ•°å­—æˆ‘ä»¬å°±æ›´ä¸ç”¨è€ƒè™‘äº†ï¼Œè‚¯å®šè¦ç»§ç»­åˆ†ã€‚ å…¶æ¬¡çœ‹2å’Œ3çš„æ•°é‡ï¼Œ2çš„æ•°é‡è‚¯å®šå°äº3ä¸ªï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º2x2x2 &lt; 3x3ï¼Œé‚£ä¹ˆé¢˜ç›®å°±ç®€å•äº†ã€‚ ç›´æ¥ç”¨né™¤ä»¥3ï¼Œæ ¹æ®å¾—åˆ°çš„ä½™æ•°åˆ¤æ–­æ˜¯ä¸€ä¸ª2è¿˜æ˜¯ä¸¤ä¸ª2è¿˜æ˜¯æ²¡æœ‰2å°±è¡Œäº†ã€‚","text":"å‰ªç»³å­é¢˜ç›®æè¿°ï¼šç»™ä½ ä¸€æ ¹é•¿åº¦ä¸ºnçš„ç»³å­ï¼Œè¯·æŠŠç»³å­å‰ªæˆæ•´æ•°é•¿çš„mæ®µï¼ˆmã€néƒ½æ˜¯æ•´æ•°ï¼Œn&gt;1å¹¶ä¸”m&gt;1ï¼‰ï¼Œæ¯æ®µç»³å­çš„é•¿åº¦è®°ä¸ºk[0],k[1],â€¦,k[m]ã€‚è¯·é—®k[0] x k[1] x â€¦ x k[m]å¯èƒ½çš„æœ€å¤§ä¹˜ç§¯æ˜¯å¤šå°‘ï¼Ÿä¾‹å¦‚ï¼Œå½“ç»³å­çš„é•¿åº¦æ˜¯8æ—¶ï¼Œæˆ‘ä»¬æŠŠå®ƒå‰ªæˆé•¿åº¦åˆ†åˆ«ä¸º2ã€3ã€3çš„ä¸‰æ®µï¼Œæ­¤æ—¶å¾—åˆ°çš„æœ€å¤§ä¹˜ç§¯æ˜¯18ã€‚ æ€è·¯ï¼š 5&lt;2x3ï¼Œ6&lt;3x3ï¼Œæ¯”6æ›´å¤§çš„æ•°å­—æˆ‘ä»¬å°±æ›´ä¸ç”¨è€ƒè™‘äº†ï¼Œè‚¯å®šè¦ç»§ç»­åˆ†ã€‚ å…¶æ¬¡çœ‹2å’Œ3çš„æ•°é‡ï¼Œ2çš„æ•°é‡è‚¯å®šå°äº3ä¸ªï¼Œä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸º2x2x2 &lt; 3x3ï¼Œé‚£ä¹ˆé¢˜ç›®å°±ç®€å•äº†ã€‚ ç›´æ¥ç”¨né™¤ä»¥3ï¼Œæ ¹æ®å¾—åˆ°çš„ä½™æ•°åˆ¤æ–­æ˜¯ä¸€ä¸ª2è¿˜æ˜¯ä¸¤ä¸ª2è¿˜æ˜¯æ²¡æœ‰2å°±è¡Œäº†ã€‚ 123456789101112131415public int cutRope(int target) &#123; if(target == 2) return 1; if(target == 3) return 2; int x = target % 3; int y = target / 3; if(x == 0)&#123; return (int)Math.pow(3,y); &#125;else if(x == 1)&#123;//7%3=2Â·Â·Â·1 2*2*3 return 2*2*(int)Math.pow(3,y-1); &#125;else&#123;//8%3=2Â·Â·Â·2 3*3*2 return 2*(int)Math.pow(3,y); &#125;&#125; æŠŠäºŒå‰æ ‘æ‰“å°æˆå¤šè¡Œé¢˜ç›®æè¿°ï¼šä»ä¸Šåˆ°ä¸‹æŒ‰å±‚æ‰“å°äºŒå‰æ ‘ï¼ŒåŒä¸€å±‚ç»“ç‚¹ä»å·¦è‡³å³è¾“å‡ºã€‚æ¯ä¸€å±‚è¾“å‡ºä¸€è¡Œã€‚ æ€è·¯ï¼šç”¨é˜Ÿåˆ—å®ç°äºŒå‰æ ‘çš„å±‚æ¬¡éå†(æ ‡å‡†å†™æ³•) 123456789101112131415161718ArrayList&lt;ArrayList&lt;Integer&gt; &gt; Print(TreeNode pRoot) &#123; if(pRoot == null) return new ArrayList(); ArrayList&lt;ArrayList&lt;Integer&gt; &gt; res = new ArrayList&lt;ArrayList&lt;Integer&gt; &gt;(); Queue&lt;TreeNode&gt; queue = new LinkedList&lt;&gt;(); queue.add(pRoot); while(!queue.isEmpty())&#123; ArrayList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;(); int count = queue.size(); for(int i = 0; i&lt;count; i++)&#123; TreeNode node = queue.poll(); list.add(node.val); if(node.left != null) queue.add(node.left); if(node.right != null) queue.add(node.right); &#125; res.add(list); &#125; return res;&#125; äºŒå‰æ ‘çš„ä¸‹ä¸€ä¸ªç»“ç‚¹é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªäºŒå‰æ ‘å’Œå…¶ä¸­çš„ä¸€ä¸ªç»“ç‚¹ï¼Œè¯·æ‰¾å‡ºä¸­åºéå†é¡ºåºçš„ä¸‹ä¸€ä¸ªç»“ç‚¹å¹¶ä¸”è¿”å›ã€‚æ³¨æ„ï¼Œæ ‘ä¸­çš„ç»“ç‚¹ä¸ä»…åŒ…å«å·¦å³å­ç»“ç‚¹ï¼ŒåŒæ—¶åŒ…å«æŒ‡å‘çˆ¶ç»“ç‚¹çš„æŒ‡é’ˆã€‚ æ€è·¯ï¼šåˆ¤æ–­å½“å‰èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹æ˜¯å¦ä¸ºç©º 123456789101112131415161718public TreeLinkNode GetNext(TreeLinkNode pNode)&#123; if(pNode.right != null)&#123;//å½“å‰èŠ‚ç‚¹å³å­èŠ‚ç‚¹ä¸ä¸ºç©º TreeLinkNode node = pNode.right; while(node.left != null)&#123;//æ‰¾åˆ°å³å­èŠ‚ç‚¹çš„æœ€åº•å±‚å·¦å­èŠ‚ç‚¹ node = node.left; &#125; return node; &#125;else&#123;//å½“å‰èŠ‚ç‚¹å³å­èŠ‚ç‚¹ä¸ºç©º while(pNode.next != null)&#123; TreeLinkNode parent = pNode.next;//æŒ‡å‘å½“å‰èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ if(parent.left == pNode)&#123;//åˆ¤æ–­å½“å‰èŠ‚ç‚¹æ˜¯å¦ä¸ºçˆ¶èŠ‚ç‚¹çš„å·¦å­èŠ‚ç‚¹ return parent; &#125; pNode = pNode.next; &#125; &#125; return null;&#125; é“¾è¡¨ä¸­ç¯çš„å…¥å£ç»“ç‚¹é¢˜ç›®æè¿°ï¼šç»™ä¸€ä¸ªé“¾è¡¨ï¼Œè‹¥å…¶ä¸­åŒ…å«ç¯ï¼Œè¯·æ‰¾å‡ºè¯¥é“¾è¡¨çš„ç¯çš„å…¥å£ç»“ç‚¹ï¼Œå¦åˆ™ï¼Œè¾“å‡ºnullã€‚ æ€è·¯ï¼š 12345678910111213141516public ListNode EntryNodeOfLoop(ListNode pHead)&#123; if(pHead == null || pHead.next == null) return null; ListNode fast = pHead; ListNode slow = pHead; do&#123; fast = fast.next.next; slow = slow.next; &#125;while(slow != fast); fast = pHead; while(fast != slow)&#123; fast = fast.next; slow = slow.next; &#125; return fast;&#125; å­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªä¸é‡å¤çš„å­—ç¬¦é¢˜ç›®æè¿°ï¼šè¯·å®ç°ä¸€ä¸ªå‡½æ•°ç”¨æ¥æ‰¾å‡ºå­—ç¬¦æµä¸­ç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ã€‚ä¾‹å¦‚ï¼Œå½“ä»å­—ç¬¦æµä¸­åªè¯»å‡ºå‰ä¸¤ä¸ªå­—ç¬¦â€goâ€æ—¶ï¼Œç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦æ˜¯â€gâ€ã€‚å½“ä»è¯¥å­—ç¬¦æµä¸­è¯»å‡ºå‰å…­ä¸ªå­—ç¬¦â€œgoogleâ€æ—¶ï¼Œç¬¬ä¸€ä¸ªåªå‡ºç°ä¸€æ¬¡çš„å­—ç¬¦æ˜¯â€lâ€ã€‚ å¦‚æœå½“å‰å­—ç¬¦æµæ²¡æœ‰å­˜åœ¨å‡ºç°ä¸€æ¬¡çš„å­—ç¬¦ï¼Œè¿”å› # å­—ç¬¦ã€‚ æ€è·¯ï¼šç”¨æ•°ç»„ç»Ÿè®¡å­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œå¹¶å°†å­—ç¬¦æŒ‰é¡ºåºåŠ å…¥é˜Ÿåˆ—ï¼Œå¦‚æœé˜Ÿåˆ—ä¸­å­—ç¬¦å‡ºç°çš„æ¬¡æ•°å¤§äº1ï¼Œåˆ™å‡ºé˜Ÿï¼›å¦‚æœæœ€åé˜Ÿåˆ—ä¸ä¸ºç©ºï¼Œåˆ™å‡ºé˜Ÿçš„å­—ç¬¦å°±æ˜¯ç¬¬ä¸€ä¸ªå‡ºç°çš„å­—ç¬¦ã€‚ 123456789101112131415161718public class Solution &#123; //Insert one char from stringstream int[] counts = new int[256]; private Queue&lt;Character&gt; queue = new LinkedList&lt;&gt;(); public void Insert(char ch)&#123; counts[ch]++; queue.add(ch); while(!queue.isEmpty() &amp;&amp; counts[queue.peek()] &gt; 1)&#123; queue.poll(); &#125; &#125; //return the first appearence once char in current stringstream public char FirstAppearingOnce()&#123; return queue.isEmpty() ? '#' : queue.peek(); &#125;&#125; æ•°ç»„ä¸­é‡å¤çš„æ•°å­—é¢˜ç›®æè¿°ï¼šåœ¨ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„é‡Œçš„æ‰€æœ‰æ•°å­—éƒ½åœ¨0åˆ°n-1çš„èŒƒå›´å†…ã€‚ æ•°ç»„ä¸­æŸäº›æ•°å­—æ˜¯é‡å¤çš„ï¼Œä½†ä¸çŸ¥é“æœ‰å‡ ä¸ªæ•°å­—æ˜¯é‡å¤çš„ã€‚ä¹Ÿä¸çŸ¥é“æ¯ä¸ªæ•°å­—é‡å¤å‡ æ¬¡ã€‚è¯·æ‰¾å‡ºæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœè¾“å…¥é•¿åº¦ä¸º7çš„æ•°ç»„{2,3,1,0,2,5,3}ï¼Œé‚£ä¹ˆå¯¹åº”çš„è¾“å‡ºæ˜¯ç¬¬ä¸€ä¸ªé‡å¤çš„æ•°å­—2ã€‚ æ€è·¯ï¼š 12345678910111213141516171819public boolean duplicate(int numbers[],int length,int [] duplication)&#123; if(numbers == null || numbers.length == 1) return false; for(int i = 0;i&lt;numbers.length;i++)&#123; while (numbers[i] != i) &#123; if (numbers[i] == numbers[numbers[i]]) &#123; duplication[0] = numbers[i]; return true; &#125; swap(numbers, i, numbers[i]); &#125; &#125; return false;&#125;public static void swap(int numbers[],int i,int j)&#123; int temp = numbers[i]; numbers[i] = numbers[j]; numbers[j] = temp;&#125;","categories":[{"name":"å‰‘æŒ‡offer","slug":"å‰‘æŒ‡offer","permalink":"https://chrisxb1996.github.io/categories/%E5%89%91%E6%8C%87offer/"}],"tags":[{"name":"å‰‘æŒ‡offer","slug":"å‰‘æŒ‡offer","permalink":"https://chrisxb1996.github.io/tags/%E5%89%91%E6%8C%87offer/"},{"name":"æ•°æ®ç»“æ„å’Œç®—æ³•","slug":"æ•°æ®ç»“æ„å’Œç®—æ³•","permalink":"https://chrisxb1996.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/"}]},{"title":"å‰‘æŒ‡offer-ç®€å•ç¯‡","slug":"å‰‘æŒ‡offer/å‰‘æŒ‡offer-ç®€å•ç¯‡","date":"2020-06-07T09:02:50.000Z","updated":"2020-06-12T11:18:20.366Z","comments":true,"path":"2020/06/07/å‰‘æŒ‡offer/å‰‘æŒ‡offer-ç®€å•ç¯‡/","link":"","permalink":"https://chrisxb1996.github.io/2020/06/07/%E5%89%91%E6%8C%87offer/%E5%89%91%E6%8C%87offer-%E7%AE%80%E5%8D%95%E7%AF%87/","excerpt":"æ„å»ºä¹˜ç§¯æ•°ç»„é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæ•°ç»„A[0,1,â€¦,n-1],è¯·æ„å»ºä¸€ä¸ªæ•°ç»„B[0,1,â€¦,n-1],å…¶ä¸­Bä¸­çš„å…ƒç´ B[i]=A[0]A[1]â€¦A[i-1]A[i+1]â€¦A[n-1]ã€‚ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚ï¼ˆæ³¨æ„ï¼šè§„å®šB[0] = A[1] * A[2] * â€¦ * A[n-1]ï¼ŒB[n-1] = A[0] * A[1] * â€¦ * A[n-2];ï¼‰","text":"æ„å»ºä¹˜ç§¯æ•°ç»„é¢˜ç›®æè¿°ï¼šç»™å®šä¸€ä¸ªæ•°ç»„A[0,1,â€¦,n-1],è¯·æ„å»ºä¸€ä¸ªæ•°ç»„B[0,1,â€¦,n-1],å…¶ä¸­Bä¸­çš„å…ƒç´ B[i]=A[0]A[1]â€¦A[i-1]A[i+1]â€¦A[n-1]ã€‚ä¸èƒ½ä½¿ç”¨é™¤æ³•ã€‚ï¼ˆæ³¨æ„ï¼šè§„å®šB[0] = A[1] * A[2] * â€¦ * A[n-1]ï¼ŒB[n-1] = A[0] * A[1] * â€¦ * A[n-2];ï¼‰ æ€è·¯ï¼š1.//ä»å·¦å‘å³ç´¯ä¹˜A[0]A[1]â€¦A[i-1]ï¼›2.//ä»å³å‘å·¦ç´¯ä¹˜A[i+1]â€¦A[n-1] 123456789101112131415161718public int[] multiply(int[] A) &#123; //ä»å·¦å‘å³ç´¯ä¹˜A[0]A[1]...A[i-1] int n = A.length; int[] B = new int[n]; int temp = 1; for(int i = 0;i&lt;n;i++)&#123; B[i] = temp; temp = temp*A[i]; &#125; //ä»å³å‘å·¦ç´¯ä¹˜A[i+1]...A[n-1] temp = 1; for(int i = n-1;i&gt;=0;i--)&#123; B[i] = B[i]*temp; temp = temp*A[i]; &#125; return B;&#125; ä¸ç”¨åŠ å‡ä¹˜é™¤åšåŠ æ³•é¢˜ç›®æè¿°ï¼šå†™ä¸€ä¸ªå‡½æ•°ï¼Œæ±‚ä¸¤ä¸ªæ•´æ•°ä¹‹å’Œï¼Œè¦æ±‚åœ¨å‡½æ•°ä½“å†…ä¸å¾—ä½¿ç”¨+ã€-ã€*ã€/å››åˆ™è¿ç®—ç¬¦å·ã€‚ æ€è·¯ï¼š1.ä¸è€ƒè™‘è¿›ä½ï¼šå¼‚æˆ–æ“ä½œï¼š^ ï¼›ä¾‹å¦‚ï¼š101^111 = 010;â€‹ 2.è®¡ç®—è¿›ä½å€¼ï¼šä¸æ“ä½œï¼š&amp;ï¼Œå†å·¦ç§»ä¸€ä½ï¼›ä¾‹å¦‚ï¼š101&amp;111&lt;&lt;1 = 101&lt;&lt;1 = 1010ï¼›â€‹ 3.é‡å¤ä¸Šè¿°ä¸¤æ­¥ï¼Œç›´åˆ°è¿›ä½å€¼å…¨ä¸º0ï¼Œè¿”å›ç»“æœï¼› 123456789public int Add(int num1,int num2) &#123; while(num2 != 0) &#123; int temp = num1 ^ num2; int carry = (num1 &amp; num2) &lt;&lt; 1; num1 = temp; num2 = carry; &#125; return num1;&#125; äºŒå‰æ ‘çš„æ·±åº¦é¢˜ç›®æè¿°ï¼šè¾“å…¥ä¸€æ£µäºŒå‰æ ‘ï¼Œæ±‚è¯¥æ ‘çš„æ·±åº¦ã€‚ä»æ ¹ç»“ç‚¹åˆ°å¶ç»“ç‚¹ä¾æ¬¡ç»è¿‡çš„ç»“ç‚¹ï¼ˆå«æ ¹ã€å¶ç»“ç‚¹ï¼‰å½¢æˆæ ‘çš„ä¸€æ¡è·¯å¾„ï¼Œæœ€é•¿è·¯å¾„çš„é•¿åº¦ä¸ºæ ‘çš„æ·±åº¦ã€‚ æ€è·¯ï¼šé€’å½’ï¼šç»“æŸæ¡ä»¶ï¼šæ ¹èŠ‚ç‚¹ä½ç©º 1234567public int TreeDepth(TreeNode root) &#123; if(root == null) return 0; int left = TreeDepth(root.left); int right = TreeDepth(root.right); return Math.max(left,right)+1;&#125; äºŒå‰æ ‘çš„é•œåƒé¢˜ç›®æè¿°ï¼šæ“ä½œç»™å®šçš„äºŒå‰æ ‘ï¼Œå°†å…¶å˜æ¢ä¸ºæºäºŒå‰æ ‘çš„é•œåƒã€‚ æ€è·¯ï¼šé€’å½’ï¼šç»“æŸæ¡ä»¶ï¼šæ ¹èŠ‚ç‚¹ä½ç©º 12345678public void Mirror(TreeNode root) &#123; if(root == null) return; if(root.left != null) Mirror(root.left); if(root.right != null) Mirror(root.right); TreeNode temp = root.left; root.left = root.right; root.right = temp; &#125; å˜æ€è·³å°é˜¶é¢˜ç›®æè¿°ï¼šä¸€åªé’è›™ä¸€æ¬¡å¯ä»¥è·³ä¸Š1çº§å°é˜¶ï¼Œä¹Ÿå¯ä»¥è·³ä¸Š2çº§â€¦â€¦å®ƒä¹Ÿå¯ä»¥è·³ä¸Šnçº§ã€‚æ±‚è¯¥é’è›™è·³ä¸Šä¸€ä¸ªnçº§çš„å°é˜¶æ€»å…±æœ‰å¤šå°‘ç§è·³æ³•ã€‚ æ€è·¯ï¼šæ¨å¯¼ï¼š è·³ä¸Š n-1 çº§å°é˜¶ï¼Œå¯ä»¥ä» n-2 çº§è·³ 1 çº§ä¸Šå»ï¼Œä¹Ÿå¯ä»¥ä» n-3 çº§è·³ 2 çº§ä¸Šå»â€¦ï¼Œé‚£ä¹ˆ: 1f(n-1) &#x3D; f(n-2) + f(n-3) + ... + f(0) åŒæ ·ï¼Œè·³ä¸Š n çº§å°é˜¶ï¼Œå¯ä»¥ä» n-1 çº§è·³ 1 çº§ä¸Šå»ï¼Œä¹Ÿå¯ä»¥ä» n-2 çº§è·³ 2 çº§ä¸Šå»â€¦ ï¼Œé‚£ä¹ˆ: 1f(n) &#x3D; f(n-1) + f(n-2) + ... + f(0) ä¸¤å¼ç›¸å‡å¾—åˆ°ï¼š 1f(n) &#x3D; 2*f(n-1) &#x3D; 2*2*f(n-2) &#x3D;...&#x3D; 2^(n-1)*f(1) &#x3D; 2^(n-1) 1234567public int JumpFloorII(int target) &#123; if(target == 0)&#123; return -1; &#125;else&#123; return (int)Math.pow(2,target-1); &#125;&#125; ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—é¢˜ç›®æè¿°ï¼šç”¨ä¸¤ä¸ªæ ˆæ¥å®ç°ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå®Œæˆé˜Ÿåˆ—çš„Pushå’ŒPopæ“ä½œã€‚ é˜Ÿåˆ—ä¸­çš„å…ƒç´ ä¸ºintç±»å‹ã€‚ æ€è·¯ï¼šæ³¨æ„ï¼šstack2ä¸­æœ‰å…ƒç´ æ—¶ï¼Œä¸èƒ½å…¥æ ˆï¼Œç›´æ¥popå‡ºå…ƒç´ å³å¯ï¼› å¿…é¡»stack2ä¸ºç©ºæ—¶ï¼Œæ‰èƒ½å…¥æ ˆï¼› 12345678910111213141516171819public class Solution &#123; Stack&lt;Integer&gt; stack1 = new Stack&lt;Integer&gt;(); Stack&lt;Integer&gt; stack2 = new Stack&lt;Integer&gt;(); public void push(int node) &#123; stack1.push(node); &#125; public int pop() &#123; if(stack2.isEmpty())&#123; while(!stack1.isEmpty())&#123; int node = stack1.pop(); stack2.push(node); &#125; &#125; return stack2.pop(); &#125; &#125;","categories":[{"name":"å‰‘æŒ‡offer","slug":"å‰‘æŒ‡offer","permalink":"https://chrisxb1996.github.io/categories/%E5%89%91%E6%8C%87offer/"}],"tags":[{"name":"å‰‘æŒ‡offer","slug":"å‰‘æŒ‡offer","permalink":"https://chrisxb1996.github.io/tags/%E5%89%91%E6%8C%87offer/"},{"name":"æ•°æ®ç»“æ„å’Œç®—æ³•","slug":"æ•°æ®ç»“æ„å’Œç®—æ³•","permalink":"https://chrisxb1996.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/"}]},{"title":"SpringBoot","slug":"SpringBoot","date":"2020-06-02T07:43:35.000Z","updated":"2020-06-02T08:11:21.766Z","comments":true,"path":"2020/06/02/SpringBoot/","link":"","permalink":"https://chrisxb1996.github.io/2020/06/02/SpringBoot/","excerpt":"","text":"æ—¥å¿—SLF4J + logback å¦‚ä½•è®©ç³»ç»Ÿä¸­æ‰€æœ‰çš„æ—¥å¿—éƒ½ç»Ÿä¸€åˆ°slf4jï¼› 1ã€å°†ç³»ç»Ÿä¸­å…¶ä»–æ—¥å¿—æ¡†æ¶å…ˆæ’é™¤å‡ºå»ï¼› 2ã€ç”¨ä¸­é—´åŒ…æ¥æ›¿æ¢åŸæœ‰çš„æ—¥å¿—æ¡†æ¶ï¼› 3ã€æˆ‘ä»¬å¯¼å…¥slf4jå…¶ä»–çš„å®ç°ï¼›","categories":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"},{"name":"Spring","slug":"Spring","permalink":"https://chrisxb1996.github.io/tags/Spring/"},{"name":"SpringBoot","slug":"SpringBoot","permalink":"https://chrisxb1996.github.io/tags/SpringBoot/"}]},{"title":"Leetcode 167.ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„","slug":"Leetcode/Leetcode-167-ä¸¤æ•°ä¹‹å’Œ-II-è¾“å…¥æœ‰åºæ•°ç»„","date":"2020-05-27T14:52:47.000Z","updated":"2020-05-27T15:01:31.720Z","comments":true,"path":"2020/05/27/Leetcode/Leetcode-167-ä¸¤æ•°ä¹‹å’Œ-II-è¾“å…¥æœ‰åºæ•°ç»„/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/27/Leetcode/Leetcode-167-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C-II-%E8%BE%93%E5%85%A5%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84/","excerpt":"","text":"167ï¼šç»™å®šä¸€ä¸ªå·²æŒ‰ç…§å‡åºæ’åˆ— çš„æœ‰åºæ•°ç»„ï¼Œæ‰¾åˆ°ä¸¤ä¸ªæ•°ä½¿å¾—å®ƒä»¬ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°ã€‚ å‡½æ•°åº”è¯¥è¿”å›è¿™ä¸¤ä¸ªä¸‹æ ‡å€¼ index1 å’Œ index2ï¼Œå…¶ä¸­ index1 å¿…é¡»å°äº index2ã€‚ è¯´æ˜: è¿”å›çš„ä¸‹æ ‡å€¼ï¼ˆindex1 å’Œ index2ï¼‰ä¸æ˜¯ä»é›¶å¼€å§‹çš„ã€‚ ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆï¼Œè€Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚ 123456789101112131415161718192021class Solution &#123; public int[] twoSum(int[] numbers, int target) &#123; if(numbers.length &lt; 2) return null; int[] res = new int[2]; int i = 0; int j = numbers.length-1; while(i &lt; j)&#123; if(numbers[i] + numbers[j] == target)&#123; res[0] = i+1; res[1] = j+1; i++; j--; &#125;else if(numbers[i] + numbers[j] &lt; target)&#123; i++; &#125;else&#123; j--; &#125; &#125; return res; &#125;&#125;","categories":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://chrisxb1996.github.io/categories/Leetcode/"}],"tags":[{"name":"Leetcode","slug":"Leetcode","permalink":"https://chrisxb1996.github.io/tags/Leetcode/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"https://chrisxb1996.github.io/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"}]},{"title":"è®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼","date":"2020-05-21T07:37:11.000Z","updated":"2020-05-21T16:00:22.230Z","comments":true,"path":"2020/05/21/è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼-è§‚å¯Ÿè€…æ¨¡å¼/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/21/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/","excerpt":"é€‚ç”¨äºå¹¿æ’­åœºæ™¯æœºåˆ¶ ï¼šâ€¢ èŠå¤©å®¤ç¨‹åºçš„åˆ›å»ºã€‚æœåŠ¡å™¨åˆ›å»ºå¥½åï¼ŒA,B,Cä¸‰ä¸ªå®¢æˆ·ç«¯è¿ä¸Šæ¥å…¬å¼€èŠå¤©ã€‚Aå‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼ŒæœåŠ¡å™¨ç«¯èŠå¤©æ•°æ®æ”¹å˜ã€‚æˆ‘ä»¬å¸Œæœ›å°†è¿™äº›èŠå¤©æ•°æ®åˆ†åˆ«å‘ç»™å…¶ä»–åœ¨çº¿çš„å®¢æˆ·ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯éœ€è¦æ›´æ–°æœåŠ¡å™¨ç«¯å¾—æ•°æ®ã€‚â€¢ ç½‘ç«™ä¸Šï¼Œå¾ˆå¤šäººè®¢é˜…äº†â€javaä¸»é¢˜â€çš„æ–°é—»ã€‚å½“æœ‰è¿™ä¸ªä¸»é¢˜æ–°é—»æ—¶ï¼Œå°±ä¼šå°†è¿™äº›æ–°é—»å‘ç»™æ‰€æœ‰è®¢é˜…çš„äººã€‚â€¢ ç©CSæ¸¸æˆæ—¶ï¼ŒæœåŠ¡å™¨éœ€è¦å°†æ¯ä¸ªäººçš„æ–¹ä½å˜åŒ–å‘ç»™æ‰€æœ‰çš„å®¢æˆ·ã€‚","text":"é€‚ç”¨äºå¹¿æ’­åœºæ™¯æœºåˆ¶ ï¼šâ€¢ èŠå¤©å®¤ç¨‹åºçš„åˆ›å»ºã€‚æœåŠ¡å™¨åˆ›å»ºå¥½åï¼ŒA,B,Cä¸‰ä¸ªå®¢æˆ·ç«¯è¿ä¸Šæ¥å…¬å¼€èŠå¤©ã€‚Aå‘æœåŠ¡å™¨å‘é€æ•°æ®ï¼ŒæœåŠ¡å™¨ç«¯èŠå¤©æ•°æ®æ”¹å˜ã€‚æˆ‘ä»¬å¸Œæœ›å°†è¿™äº›èŠå¤©æ•°æ®åˆ†åˆ«å‘ç»™å…¶ä»–åœ¨çº¿çš„å®¢æˆ·ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ¯ä¸ªå®¢æˆ·ç«¯éœ€è¦æ›´æ–°æœåŠ¡å™¨ç«¯å¾—æ•°æ®ã€‚â€¢ ç½‘ç«™ä¸Šï¼Œå¾ˆå¤šäººè®¢é˜…äº†â€javaä¸»é¢˜â€çš„æ–°é—»ã€‚å½“æœ‰è¿™ä¸ªä¸»é¢˜æ–°é—»æ—¶ï¼Œå°±ä¼šå°†è¿™äº›æ–°é—»å‘ç»™æ‰€æœ‰è®¢é˜…çš„äººã€‚â€¢ ç©CSæ¸¸æˆæ—¶ï¼ŒæœåŠ¡å™¨éœ€è¦å°†æ¯ä¸ªäººçš„æ–¹ä½å˜åŒ–å‘ç»™æ‰€æœ‰çš„å®¢æˆ·ã€‚ æˆ‘ä»¬å¯ä»¥æŠŠå¤šä¸ªè®¢é˜…è€…ã€å®¢æˆ·ç§°ä¹‹ä¸ºè§‚å¯Ÿè€…ï¼› éœ€è¦åŒæ­¥ç»™å¤šä¸ªè®¢é˜…è€…çš„æ•°æ®å°è£…åˆ°å¯¹è±¡ä¸­ï¼Œç§°ä¹‹ä¸ºç›®æ ‡ã€‚ æ ¸å¿ƒï¼šè§‚å¯Ÿè€…æ¨¡å¼ä¸»è¦ç”¨äº1ï¼šNçš„é€šçŸ¥ã€‚å½“ä¸€ä¸ªå¯¹è±¡(ç›®æ ‡å¯¹è±¡Subjectï¼Œæ¶ˆæ¯å‘å¸ƒ)çš„çŠ¶æ€å˜åŒ–æ—¶ï¼Œä»–éœ€è¦åŠæ—¶å‘ŠçŸ¥ä¸€ç³»åˆ—å¯¹è±¡(è§‚å¯Ÿè€…å¯¹è±¡Observerï¼Œæ¶ˆæ¯è®¢é˜…)ï¼Œä»¤ä»–ä»¬åšå‡ºå“ï¼Œé€šçŸ¥è§‚å¯Ÿè€…çš„æ–¹å¼ä¸»è¦æ˜¯æ¨å’Œæ‹‰ï¼šâ€¢ æ¨ï¼šæ¯æ¬¡éƒ½ä¼šæŠŠé€šçŸ¥ä»¥å¹¿æ’­æ–¹å¼å‘é€ç»™æ‰€æœ‰è§‚å¯Ÿè€…ï¼Œæ‰€æœ‰è§‚å¯Ÿè€…åªèƒ½è¢«åŠ¨æ¥æ”¶ã€‚â€¢ æ‹‰ï¼šè§‚å¯Ÿè€…åªè¦ç›´åˆ°æœ‰æƒ…å†µå³å¯ã€‚è‡³äºä»€ä¹ˆæ—¶å€™è·å–å†…å®¹ï¼Œè·å–ä»€ä¹ˆå†…å®¹ï¼Œéƒ½å¯ä»¥è‡ªä¸»å†³å®šã€‚ ä»£ç å®ç°ï¼š 1234567891011121314151617181920public interface Observer &#123; void update(Subject subject);&#125;public class ObserverA implements Observer&#123; private int myState; @Override public void update(Subject subject) &#123; myState = ((ConcreteSubject)subject).getState(); &#125; public void setMyState(int myState) &#123; this.myState = myState; &#125; public int getMyState() &#123; return myState; &#125;&#125; 123456789101112131415161718192021222324252627282930313233343536public class Subject &#123; protected List&lt;Observer&gt; list = new ArrayList&lt;&gt;(); public void registerObserver(Observer observer)&#123; list.add(observer); &#125; public void deletObserver(Observer observer)&#123; list.remove(observer); &#125; //é€šçŸ¥ æ‰€æœ‰è§‚å¯Ÿè€…æ›´æ–°çŠ¶æ€ public void notifyAllObservers()&#123; for (Observer o : list) &#123; o.update(this); &#125; &#125;&#125;/***å…·ä½“ç›®æ ‡ç±»*/public class ConcreteSubject extends Subject&#123; private int state; public void setState(int state) &#123; this.state = state; //ç›®æ ‡å€¼å‘ç”Ÿå˜æ¢ï¼Œé€šçŸ¥æ‰€æœ‰çš„è§‚å¯Ÿè€… this.notifyAllObservers(); &#125; public int getState() &#123; return state; &#125;&#125; 123456789101112131415161718192021public class test &#123; public static void main(String[] args) &#123; ConcreteSubject concreteSubject = new ConcreteSubject(); //åˆ›å»ºå¤šä¸ªè§‚å¯Ÿè€… ObserverA o1 = new ObserverA(); ObserverA o2 = new ObserverA(); ObserverA o3 = new ObserverA(); //æ·»åŠ åˆ°subjectçš„è§‚å¯Ÿè€…é˜Ÿä¼ä¸­ concreteSubject.registerObserver(o1); concreteSubject.registerObserver(o2); concreteSubject.registerObserver(o3); //ä¸€æ¬¡æ›´æ–°ï¼Œæ‰€æœ‰è§‚å¯Ÿè€…éƒ½æ”¹å˜çŠ¶æ€ï¼ï¼ï¼ concreteSubject.setState(300); System.out.println(o1.getMyState()); System.out.println(o2.getMyState()); System.out.println(o3.getMyState()); &#125;&#125; â€¢ å¼€å‘ä¸­å¸¸è§çš„åœºæ™¯ï¼š èŠå¤©å®¤ç¨‹åºçš„ï¼ŒæœåŠ¡å™¨è½¬å‘ç»™æ‰€æœ‰å®¢æˆ·ç«¯ ç½‘ç»œæ¸¸æˆ(å¤šäººè”æœºå¯¹æˆ˜)åœºæ™¯ä¸­ï¼ŒæœåŠ¡å™¨å°†å®¢æˆ·ç«¯çš„çŠ¶æ€è¿›è¡Œåˆ†å‘ é‚®ä»¶è®¢é˜… Servletä¸­ï¼Œç›‘å¬å™¨çš„å®ç° Androidä¸­ï¼Œå¹¿æ’­æœºåˆ¶ JDKçš„AWTä¸­äº‹ä»¶å¤„ç†æ¨¡å‹,åŸºäºè§‚å¯Ÿè€…æ¨¡å¼çš„å§”æ´¾äº‹ä»¶æ¨¡å‹(Delegation Event Model) äº‹ä»¶æºâ€”â€”â€”â€”â€”-ç›®æ ‡å¯¹è±¡ äº‹ä»¶ç›‘å¬å™¨â€”â€”â€”â€”è§‚å¯Ÿè€… äº¬ä¸œå•†åŸä¸­ï¼Œç¾¤å‘æŸå•†å“æ‰“æŠ˜ä¿¡æ¯","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"è§‚å¯Ÿè€…æ¨¡å¼","slug":"è§‚å¯Ÿè€…æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"}]},{"title":"è®¾è®¡æ¨¡å¼-æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼-æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼","date":"2020-05-20T14:22:50.000Z","updated":"2020-05-20T14:46:48.091Z","comments":true,"path":"2020/05/20/è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼-æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/20/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E6%A8%A1%E7%89%88%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/","excerpt":"æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¹Ÿå«æ–¹æ³•å›è°ƒæˆ–é’©å­æ–¹æ³•ï¼Œæ˜¯ç¼–ç¨‹ä¸­ç»å¸¸ç”¨å¾—åˆ°æ¨¡å¼ã€‚å®ƒå®šä¹‰äº†ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œå°†æŸäº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ã€‚è¿™æ ·ï¼Œæ–°çš„å­ç±»å¯ä»¥åœ¨ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•ç»“æ„çš„å‰æä¸‹é‡æ–°å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ æ ¸å¿ƒï¼šå¤„ç†æ­¥éª¤çˆ¶ç±»ä¸­å®šä¹‰å¥½ï¼Œå…·ä½“å®ç°å»¶è¿Ÿåˆ°å­ç±»ä¸­å®šä¹‰ã€‚","text":"æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¹Ÿå«æ–¹æ³•å›è°ƒæˆ–é’©å­æ–¹æ³•ï¼Œæ˜¯ç¼–ç¨‹ä¸­ç»å¸¸ç”¨å¾—åˆ°æ¨¡å¼ã€‚å®ƒå®šä¹‰äº†ä¸€ä¸ªæ“ä½œä¸­çš„ç®—æ³•éª¨æ¶ï¼Œå°†æŸäº›æ­¥éª¤å»¶è¿Ÿåˆ°å­ç±»ä¸­å®ç°ã€‚è¿™æ ·ï¼Œæ–°çš„å­ç±»å¯ä»¥åœ¨ä¸æ”¹å˜ä¸€ä¸ªç®—æ³•ç»“æ„çš„å‰æä¸‹é‡æ–°å®šä¹‰è¯¥ç®—æ³•çš„æŸäº›ç‰¹å®šæ­¥éª¤ã€‚ æ ¸å¿ƒï¼šå¤„ç†æ­¥éª¤çˆ¶ç±»ä¸­å®šä¹‰å¥½ï¼Œå…·ä½“å®ç°å»¶è¿Ÿåˆ°å­ç±»ä¸­å®šä¹‰ã€‚ 1234567891011121314151617181920public abstract class BankTemplateMethod &#123; //å…·ä½“æ–¹æ³• public void takeNumber()&#123; System.out.println(\"å–å·æ’é˜Ÿ\"); &#125; public abstract void transact(); //åŠç†å…·ä½“çš„ä¸šåŠ¡ //é’©å­æ–¹æ³• public void evaluate()&#123; System.out.println(\"åé¦ˆè¯„åˆ†\"); &#125; public final void process()&#123; this.takeNumber(); this.transact(); this.evaluate(); &#125;&#125; 1234567891011121314151617181920public class test &#123; public static void main(String[] args) &#123; //é‡‡ç”¨åŒ¿åå†…éƒ¨ç±» BankTemplateMethod btm = new BankTemplateMethod()&#123; @Override public void transact() &#123; System.out.println(\"å–é’±ï¼š2000ï¼ï¼ï¼\"); &#125; &#125;; btm.process(); BankTemplateMethod btm2 = new BankTemplateMethod()&#123; @Override public void transact() &#123; System.out.println(\"æˆ‘è¦å­˜é’±ï¼š2000000ï¼ï¼ï¼\"); &#125; &#125;; btm2.process(); &#125;&#125; â€¢ ä»€ä¹ˆæ—¶å€™ç”¨åˆ°æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼šå®ç°ä¸€ä¸ªç®—æ³•æ—¶ï¼Œæ•´ä½“æ­¥éª¤å¾ˆå›ºå®šã€‚ä½†æ˜¯ï¼ŒæŸäº›éƒ¨åˆ†æ˜“å˜ã€‚æ˜“å˜éƒ¨åˆ†å¯ä»¥æŠ½è±¡æˆå‡ºæ¥ï¼Œä¾›å­ç±»å®ç°ã€‚ â€¢ å¼€å‘ä¸­å¸¸è§çš„åœºæ™¯ï¼šéå¸¸é¢‘ç¹ã€‚å„ä¸ªæ¡†æ¶ã€ç±»åº“ä¸­éƒ½æœ‰ä»–çš„å½±å­ã€‚æ¯”å¦‚å¸¸è§çš„æœ‰ï¼š1.æ•°æ®åº“è®¿é—®çš„å°è£…ï¼›2.Junitå•å…ƒæµ‹è¯•ï¼›3.servletä¸­å…³äºdoGet/doPostæ–¹æ³•è°ƒç”¨ï¼›4.Hibernateä¸­æ¨¡æ¿ç¨‹åºï¼›5.springä¸­JDBCTemplateã€HibernateTemplateç­‰ï¼›","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼","slug":"æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E6%A8%A1%E7%89%88%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/"}]},{"title":"è®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼","date":"2020-05-20T06:56:40.000Z","updated":"2020-05-20T07:46:44.167Z","comments":true,"path":"2020/05/20/è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼-ç­–ç•¥æ¨¡å¼/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/20/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/","excerpt":"æŸä¸ªå¸‚åœºäººå‘˜æ¥åˆ°å•åçš„æŠ¥ä»·ç­–ç•¥(CRMç³»ç»Ÿä¸­å¸¸è§é—®é¢˜)ã€‚æŠ¥ä»·ç­–ç•¥å¾ˆå¤æ‚ï¼Œå¯ä»¥ç®€å•ä½œå¦‚ä¸‹åˆ†ç±»ï¼šâ€¢ æ™®é€šå®¢æˆ·å°æ‰¹é‡æŠ¥ä»·â€¢ æ™®é€šå®¢æˆ·å¤§æ‰¹é‡æŠ¥ä»·â€¢ è€å®¢æˆ·å°æ‰¹é‡æŠ¥ä»·â€¢ è€å®¢æˆ·å¤§æ‰¹é‡æŠ¥ä»·å…·ä½“é€‰ç”¨å“ªä¸ªæŠ¥ä»·ç­–ç•¥ï¼Œè¿™éœ€è¦æ ¹æ®å®é™…æƒ…å†µæ¥ç¡®å®šã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬é‡‡ç”¨ç­–ç•¥æ¨¡å¼å³å¯ã€‚","text":"æŸä¸ªå¸‚åœºäººå‘˜æ¥åˆ°å•åçš„æŠ¥ä»·ç­–ç•¥(CRMç³»ç»Ÿä¸­å¸¸è§é—®é¢˜)ã€‚æŠ¥ä»·ç­–ç•¥å¾ˆå¤æ‚ï¼Œå¯ä»¥ç®€å•ä½œå¦‚ä¸‹åˆ†ç±»ï¼šâ€¢ æ™®é€šå®¢æˆ·å°æ‰¹é‡æŠ¥ä»·â€¢ æ™®é€šå®¢æˆ·å¤§æ‰¹é‡æŠ¥ä»·â€¢ è€å®¢æˆ·å°æ‰¹é‡æŠ¥ä»·â€¢ è€å®¢æˆ·å¤§æ‰¹é‡æŠ¥ä»·å…·ä½“é€‰ç”¨å“ªä¸ªæŠ¥ä»·ç­–ç•¥ï¼Œè¿™éœ€è¦æ ¹æ®å®é™…æƒ…å†µæ¥ç¡®å®šã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬é‡‡ç”¨ç­–ç•¥æ¨¡å¼å³å¯ã€‚ æˆ‘ä»¬å…ˆå¯ä»¥é‡‡ç”¨æ¡ä»¶è¯­å¥å¤„ç†ï¼š 12345678910111213141516public double getPrice(String type, double price)&#123; if(type.equals(\"æ™®é€šå®¢æˆ·å°æ‰¹é‡\"))&#123; System.out.println(\"ä¸æ‰“æŠ˜,åŸä»·\"); return price; &#125;else if(type.equals(\"æ™®é€šå®¢æˆ·å¤§æ‰¹é‡\"))&#123; System.out.println(\"æ‰“ä¹æŠ˜\"); return price*0.9; &#125;else if(type.equals(\"è€å®¢æˆ·å°æ‰¹é‡\"))&#123; System.out.println(\"æ‰“å…«äº”æŠ˜\"); return price*0.85; &#125;else if(type.equals(\"è€å®¢æˆ·å¤§æ‰¹é‡\"))&#123; System.out.println(\"æ‰“å…«æŠ˜\"); return price*0.8; &#125; return price; &#125; ä½†ç±»å‹ç‰¹åˆ«å¤šï¼Œç®—æ³•æ¯”è¾ƒå¤æ‚æ—¶ï¼Œæ•´ä¸ªæ¡ä»¶æ§åˆ¶ä»£ç ä¼šå˜å¾—å¾ˆé•¿ï¼Œéš¾äºç»´æŠ¤ã€‚ ç­–ç•¥æ¨¡å¼å¯¹åº”äºè§£å†³æŸä¸€ä¸ªé—®é¢˜çš„ä¸€ä¸ªç®—æ³•æ—ï¼Œå…è®¸ç”¨æˆ·ä»è¯¥ç®—æ³•æ—ä¸­ä»»é€‰ä¸€ä¸ªç®—æ³•è§£å†³æŸä¸€é—®é¢˜ï¼ŒåŒæ—¶å¯ä»¥æ–¹ä¾¿çš„æ›´æ¢ç®—æ³•æˆ–è€…å¢åŠ æ–°çš„ç®—æ³•ã€‚å¹¶ä¸”ç”±å®¢æˆ·ç«¯å†³å®šè°ƒç”¨å“ªä¸ªç®—æ³•ã€‚ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475//ç­–ç•¥æ¥å£public interface Strategy &#123; double getPrice(double standardPrice);&#125;//æ–°å®¢æˆ·å°æ‰¹é‡public class NewCustomerFew implements Strategy&#123; @Override public double getPrice(double standardPrice) &#123; System.out.println(\"ä¸æ‰“æŠ˜åŸä»·\"); return standardPrice; &#125;&#125;//æ–°å®¢æˆ·å¤§æ‰¹é‡public class NewCustomerLarge implements Strategy&#123; @Override public double getPrice(double standardPrice) &#123; System.out.println(\"æ‰“ä¹æŠ˜ï¼\"); return standardPrice*0.9; &#125;&#125;//è€å®¢æˆ·å°æ‰¹é‡public class OldCustomerFew implements Strategy&#123; @Override public double getPrice(double standardPrice) &#123; System.out.println(\"æ‰“85æŠ˜\"); return standardPrice*0.85; &#125;&#125;//è€å®¢æˆ·å¤§æ‰¹é‡public class OldCustomLarge implements Strategy&#123; @Override public double getPrice(double standardPrice) &#123; System.out.println(\"æ‰“8æŠ˜\"); return standardPrice*0.8; &#125;&#125;//ä¸Šä¸‹æ–‡ç±»//è´Ÿè´£å’Œå…·ä½“çš„ç­–ç•¥ç±»äº¤äº’ï¼Œæ˜¯çš„å®¢æˆ·ç«¯å’Œç®—æ³•ç‹¬ç«‹public class Context &#123; private Strategy strategy; //å½“å‰é‡‡ç”¨çš„ç®—æ³•å¯¹è±¡ //é€šè¿‡æ„é€ å™¨æ³¨å…¥ public Context(Strategy strategy) &#123; this.strategy = strategy; &#125; //é€šè¿‡setæ–¹æ³•æ³¨å…¥ public void setStrategy(Strategy strategy) &#123; this.strategy = strategy; &#125; public void printPrice(double s)&#123; System.out.println(\"ä»·æ ¼ï¼š\"+strategy.getPrice(s)); &#125;&#125;//æµ‹è¯•public class test &#123; public static void main(String[] args) &#123; Strategy s1 = new OldCustomerFew(); Strategy s2 = new OldCustomLarge(); Context ctx = new Context(s1); Context ctx2 = new Context(s2); int standardPrice = 1000; ctx.printPrice(standardPrice); ctx2.printPrice(standardPrice); &#125;&#125; â€¢ æœ¬è´¨ï¼šåˆ†ç¦»ç®—æ³•ï¼Œé€‰æ‹©å®ç°ã€‚â€¢ å¼€å‘ä¸­å¸¸è§çš„åœºæ™¯ï¼šJAVASEä¸­GUIç¼–ç¨‹ä¸­ï¼Œå¸ƒå±€ç®¡ç†ï¼›Springæ¡†æ¶ä¸­ï¼ŒResourceæ¥å£ï¼Œèµ„æºè®¿é—®ç­–ç•¥ï¼›javax.servlet.http.HttpServlet#service()","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"ç­–ç•¥æ¨¡å¼","slug":"ç­–ç•¥æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"}]},{"title":"åº”ç”¨å±‚","slug":"è®¡ç®—æœºç½‘ç»œ/åº”ç”¨å±‚","date":"2020-05-18T09:33:32.000Z","updated":"2020-05-20T09:10:26.085Z","comments":true,"path":"2020/05/18/è®¡ç®—æœºç½‘ç»œ/åº”ç”¨å±‚/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/18/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%BA%94%E7%94%A8%E5%B1%82/","excerpt":"æ¦‚è¿°â€¢ æ¯ä¸ªåº”ç”¨å±‚åè®®éƒ½æ˜¯ä¸ºäº†è§£å†³æŸä¸€ç±»åº”ç”¨é—®é¢˜ï¼Œè€Œé—®é¢˜çš„è§£å†³åˆå¾€å¾€æ˜¯é€šè¿‡ä½äºä¸åŒä¸»æœºä¸­çš„å¤šä¸ªåº”ç”¨è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å’ŒååŒå·¥ä½œæ¥å®Œæˆçš„ã€‚åº”ç”¨å±‚çš„å…·ä½“å†…å®¹å°±æ˜¯è§„å®šåº”ç”¨è¿›ç¨‹åœ¨é€šä¿¡æ—¶æ‰€éµå¾ªçš„åè®®ã€‚ â€¢ åº”ç”¨å±‚çš„è®¸å¤šåè®®éƒ½æ˜¯åŸºäºå®¢æˆ·æœåŠ¡å™¨æ–¹å¼ã€‚å®¢æˆ·(client)å’ŒæœåŠ¡å™¨(server)éƒ½æ˜¯æŒ‡é€šä¿¡ä¸­æ‰€æ¶‰åŠçš„ä¸¤ä¸ªåº”ç”¨è¿›ç¨‹ã€‚å®¢æˆ·æœåŠ¡å™¨æ–¹å¼æ‰€æè¿°çš„æ˜¯è¿›ç¨‹ä¹‹é—´æœåŠ¡å’Œè¢«æœåŠ¡çš„å…³ç³»ã€‚å®¢æˆ·æ˜¯æœåŠ¡è¯·æ±‚æ–¹ï¼ŒæœåŠ¡å™¨æ˜¯æœåŠ¡æä¾›æ–¹ã€‚","text":"æ¦‚è¿°â€¢ æ¯ä¸ªåº”ç”¨å±‚åè®®éƒ½æ˜¯ä¸ºäº†è§£å†³æŸä¸€ç±»åº”ç”¨é—®é¢˜ï¼Œè€Œé—®é¢˜çš„è§£å†³åˆå¾€å¾€æ˜¯é€šè¿‡ä½äºä¸åŒä¸»æœºä¸­çš„å¤šä¸ªåº”ç”¨è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡å’ŒååŒå·¥ä½œæ¥å®Œæˆçš„ã€‚åº”ç”¨å±‚çš„å…·ä½“å†…å®¹å°±æ˜¯è§„å®šåº”ç”¨è¿›ç¨‹åœ¨é€šä¿¡æ—¶æ‰€éµå¾ªçš„åè®®ã€‚ â€¢ åº”ç”¨å±‚çš„è®¸å¤šåè®®éƒ½æ˜¯åŸºäºå®¢æˆ·æœåŠ¡å™¨æ–¹å¼ã€‚å®¢æˆ·(client)å’ŒæœåŠ¡å™¨(server)éƒ½æ˜¯æŒ‡é€šä¿¡ä¸­æ‰€æ¶‰åŠçš„ä¸¤ä¸ªåº”ç”¨è¿›ç¨‹ã€‚å®¢æˆ·æœåŠ¡å™¨æ–¹å¼æ‰€æè¿°çš„æ˜¯è¿›ç¨‹ä¹‹é—´æœåŠ¡å’Œè¢«æœåŠ¡çš„å…³ç³»ã€‚å®¢æˆ·æ˜¯æœåŠ¡è¯·æ±‚æ–¹ï¼ŒæœåŠ¡å™¨æ˜¯æœåŠ¡æä¾›æ–¹ã€‚ â€¢ å¸¸ç”¨ç«¯å£ï¼š åŸŸåç³»ç»Ÿ DNSDNS æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ•°æ®åº“ï¼Œæä¾›äº†ä¸»æœºåå’Œ IP åœ°å€ä¹‹é—´ç›¸äº’è½¬æ¢çš„æœåŠ¡ã€‚è¿™é‡Œçš„åˆ†å¸ƒå¼æ•°æ®åº“æ˜¯æŒ‡ï¼Œæ¯ä¸ªç«™ç‚¹åªä¿ç•™å®ƒè‡ªå·±çš„é‚£éƒ¨åˆ†æ•°æ®ã€‚ åŸŸåå…·æœ‰å±‚æ¬¡ç»“æ„ï¼Œä»ä¸Šåˆ°ä¸‹ä¾æ¬¡ä¸ºï¼šæ ¹åŸŸåã€é¡¶çº§åŸŸåã€äºŒçº§åŸŸåâ€¦ åŠ¨æ€ä¸»æœºé…ç½®åè®®DHCPDHCP (Dynamic Host Configuration Protocol) æä¾›äº†å³æ’å³ç”¨çš„è¿ç½‘æ–¹å¼ï¼Œç”¨æˆ·ä¸å†éœ€è¦æ‰‹åŠ¨é…ç½® IP åœ°å€(DHCP é…ç½®çš„å†…å®¹ä¸ä»…æ˜¯ IP åœ°å€ï¼Œè¿˜åŒ…æ‹¬å­ç½‘æ©ç ã€ç½‘å…³ IP åœ°å€)ç­‰ä¿¡æ¯ã€‚ DHCP æœåŠ¡å™¨åˆ†é…ç»™ DHCP å®¢æˆ·çš„ IP åœ°å€çš„ä¸´æ—¶çš„ï¼Œå› æ­¤ DHCP å®¢æˆ·åªèƒ½åœ¨ä¸€æ®µæœ‰é™çš„æ—¶é—´å†…ä½¿ç”¨è¿™ä¸ªåˆ†é…åˆ°çš„ IP åœ°å€ã€‚DHCP åè®®ç§°è¿™æ®µæ—¶é—´ä¸ºç§Ÿç”¨æœŸã€‚ â€¢ DHCP æœåŠ¡å™¨è¢«åŠ¨æ‰“å¼€ UDP ç«¯å£ 67ï¼Œç­‰å¾…å®¢æˆ·ç«¯å‘æ¥çš„æŠ¥æ–‡ã€‚â€¢ DHCP å®¢æˆ·ä» UDP ç«¯å£ 68å‘é€ DHCPå‘ç°æŠ¥æ–‡(DHCPDISCOVER)ã€‚è¯¥æŠ¥æ–‡è¢«æ”¾å…¥ UDP ä¸­ï¼Œå¹¿æ’­åˆ°åŒä¸€ä¸ªå­ç½‘çš„æ‰€æœ‰ä¸»æœºä¸Šã€‚å¦‚æœå®¢æˆ·ç«¯å’Œ DHCP æœåŠ¡å™¨ä¸åœ¨åŒä¸€ä¸ªå­ç½‘ï¼Œå°±éœ€è¦ä½¿ç”¨ä¸­ç»§ä»£ç†ã€‚â€¢ å‡¡æ”¶åˆ° DHCP å‘ç°æŠ¥æ–‡çš„ DHCP æœåŠ¡å™¨éƒ½å‘å‡º DHCP æä¾›æŠ¥æ–‡(DHCPOFFER)ï¼Œå› æ­¤ DHCP å®¢æˆ·å¯èƒ½æ”¶åˆ°å¤šä¸ª DHCP æä¾›æŠ¥æ–‡ã€‚â€¢ DHCP å®¢æˆ·ä»å‡ ä¸ª DHCP æœåŠ¡å™¨ä¸­é€‰æ‹©å…¶ä¸­çš„ä¸€ä¸ªï¼Œå¹¶å‘æ‰€é€‰æ‹©çš„ DHCP æœåŠ¡å™¨å‘é€ DHCP è¯·æ±‚æŠ¥æ–‡(DHCPREQUEST)ã€‚â€¢ è¢«é€‰æ‹©çš„ DHCP æœåŠ¡å™¨å‘é€ç¡®è®¤æŠ¥æ–‡DHCPACKï¼Œè¿›å…¥å·²ç»‘å®šçŠ¶æ€ï¼Œå¹¶å¯å¼€å§‹ä½¿ç”¨å¾—åˆ°çš„ä¸´æ—¶ IP åœ°å€äº†ã€‚ æ–‡ä»¶ä¼ é€åè®® FTPæ–‡ä»¶ä¼ é€åè®® FTP (File Transfer Protocol) æ˜¯å› ç‰¹ç½‘ä¸Šä½¿ç”¨å¾—æœ€å¹¿æ³›çš„æ–‡ä»¶ä¼ é€åè®®ï¼Œ FTPä½¿ç”¨ä¸¤ä¸ªTCPè¿æ¥ï¼šTCPæ§åˆ¶é“¾æ¥ã€TCPæ•°æ®è¿æ¥ï¼š æ§åˆ¶è¿æ¥ï¼šæ ‡å‡†ç«¯å£ä¸º21ï¼Œåœ¨æ•´ä¸ªä¼šè¯æœŸé—´ä¸€ç›´ä¿æŒæ‰“å¼€ï¼ŒFTP å®¢æˆ·å‘å‡ºçš„ä¼ é€è¯·æ±‚é€šè¿‡æ§åˆ¶è¿æ¥å‘é€ç»™æœåŠ¡å™¨ç«¯çš„æ§åˆ¶è¿›ç¨‹ï¼Œä½†æ§åˆ¶è¿æ¥ä¸ç”¨æ¥ä¼ é€æ–‡ä»¶ã€‚ æ•°æ®è¿æ¥ï¼šæ ‡å‡†ç«¯å£ä¸º20ï¼Œå®é™…ç”¨äºä¼ è¾“æ–‡ä»¶ã€‚ æ ¹æ®æ•°æ®è¿æ¥æ˜¯å¦æ˜¯æœåŠ¡å™¨ç«¯ä¸»åŠ¨å»ºç«‹ï¼ŒFTP æœ‰ä¸»åŠ¨å’Œè¢«åŠ¨ä¸¤ç§æ¨¡å¼ï¼š ä¸»åŠ¨æ¨¡å¼ï¼šæœåŠ¡ç«¯ä»20ç«¯å£ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘èµ·è¿æ¥ã€‚ è¢«åŠ¨æ¨¡å¼ï¼šæœåŠ¡ç«¯åœ¨æŒ‡å®šèŒƒå›´å†…çš„æŸä¸ªç«¯å£è¢«åŠ¨ç­‰å¾…å®¢æˆ·ç«¯å‘èµ·è¿æ¥ æ³¨æ„ï¼šä¸»åŠ¨æ¨¡å¼è¦æ±‚å®¢æˆ·ç«¯å¼€æ”¾ç«¯å£å·ç»™æœåŠ¡å™¨ç«¯ï¼Œéœ€è¦å»é…ç½®å®¢æˆ·ç«¯çš„é˜²ç«å¢™(éœ€è¦åœ¨é˜²ç«å¢™ä¸Šå¼€æ”¾20å’Œ21ç«¯å£)ã€‚è¢«åŠ¨æ¨¡å¼åªéœ€è¦æœåŠ¡å™¨ç«¯å¼€æ”¾ç«¯å£å·å³å¯ï¼Œæ— éœ€å®¢æˆ·ç«¯é…ç½®é˜²ç«å¢™ã€‚ä½†æ˜¯è¢«åŠ¨æ¨¡å¼ä¼šå¯¼è‡´æœåŠ¡å™¨ç«¯çš„å®‰å…¨æ€§å‡å¼±ï¼Œå› ä¸ºå¼€æ”¾äº†è¿‡å¤šçš„ç«¯å£å·ã€‚ æŒ‰è¿œç¨‹ç»ˆç«¯åè®® TELNETTELNET æ˜¯ä¸€ä¸ªç®€å•çš„è¿œç¨‹ç»ˆç«¯åè®®ï¼Œä¹Ÿæ˜¯å› ç‰¹ç½‘çš„æ­£å¼æ ‡å‡†ã€‚ â€¢ TELNET ç”¨äºç™»å½•åˆ°è¿œç¨‹ä¸»æœºä¸Šï¼Œå¹¶ä¸”è¿œç¨‹ä¸»æœºä¸Šçš„è¾“å‡ºä¹Ÿä¼šè¿”å›ã€‚â€¢ TELNET å¯ä»¥é€‚åº”è®¸å¤šè®¡ç®—æœºå’Œæ“ä½œç³»ç»Ÿçš„å·®å¼‚ï¼Œä¾‹å¦‚ä¸åŒæ“ä½œç³»ç»Ÿç³»ç»Ÿçš„æ¢è¡Œç¬¦å®šä¹‰ã€‚ ç”µå­é‚®ä»¶åè®®(SMTP, POP3, IMAP) å‘é€é‚®ä»¶çš„åè®®ï¼šSMTPä½¿ç”¨TCP 25ç«¯å£ã€‚ è¯»å–é‚®ä»¶çš„åè®®ï¼šPOP3 ä½¿ç”¨110ç«¯å£å’Œ IMAPä½¿ç”¨çš„ç«¯å£æ˜¯143ã€‚ â€¢ SMTPï¼šSMTP åªèƒ½å‘é€ ASCII ç ï¼Œè€Œäº’è”ç½‘é‚®ä»¶æ‰©å…… MIME å¯ä»¥å‘é€äºŒè¿›åˆ¶æ–‡ä»¶ã€‚MIME å¹¶æ²¡æœ‰æ”¹åŠ¨æˆ–è€…å–ä»£ SMTPï¼Œè€Œæ˜¯å¢åŠ é‚®ä»¶ä¸»ä½“çš„ç»“æ„ï¼Œå®šä¹‰äº†é ASCII ç çš„ç¼–ç è§„åˆ™ã€‚ â€¢ POP3ï¼šPOP3 çš„ç‰¹ç‚¹æ˜¯åªè¦ç”¨æˆ·ä»æœåŠ¡å™¨ä¸Šè¯»å–äº†é‚®ä»¶ï¼Œå°±æŠŠè¯¥é‚®ä»¶åˆ é™¤ã€‚ä½†æœ€æ–°ç‰ˆæœ¬çš„ POP3 å¯ä»¥ä¸åˆ é™¤é‚®ä»¶ã€‚ â€¢ IMAPï¼šIMAP åè®®ä¸­å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ä¿æŒåŒæ­¥ï¼Œå¦‚æœä¸æ‰‹åŠ¨åˆ é™¤é‚®ä»¶ï¼Œé‚£ä¹ˆæœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ä¹Ÿä¸ä¼šè¢«åˆ é™¤ã€‚IMAP è¿™ç§åšæ³•å¯ä»¥è®©ç”¨æˆ·éšæ—¶éšåœ°å»è®¿é—®æœåŠ¡å™¨ä¸Šçš„é‚®ä»¶ã€‚ è¶…æ–‡æœ¬ä¼ é€åè®® HTTPåœ¨ä¸‡ç»´ç½‘å®¢æˆ·ç¨‹åºä¸ä¸‡ç»´ç½‘æœåŠ¡å™¨ç¨‹åºä¹‹é—´è¿›è¡Œäº¤äº’æ‰€ä½¿ç”¨çš„åè®®ï¼Œæ˜¯è¶…æ–‡æœ¬ä¼ é€åè®® HTTP (HyperText Transfer Protocol)ã€‚ HTTP æ˜¯ä¸€ä¸ªåº”ç”¨å±‚åè®®ï¼Œå®ƒä½¿ç”¨ TCP è¿æ¥è¿›è¡Œå¯é çš„ä¼ é€ã€‚ URLä½¿ç”¨ç»Ÿä¸€èµ„æºå®šä½ç¬¦ URL (Uniform Resource Locator)æ¥æ ‡å¿—ä¸‡ç»´ç½‘ä¸Šçš„å„ç§æ–‡æ¡£ã€‚URLæœ‰å¦‚ä¸‹ä¸€èˆ¬å½¢å¼ï¼š &lt;åè®®&gt;://&lt;ä¸»æœº&gt;:&lt;ç«¯å£&gt;/&lt;è·¯å¾„&gt; â€¢ &lt;åè®®&gt; ftpã€httpã€Newsâ€¦â€¢ &lt;ä¸»æœº&gt; æ˜¯å­˜æ”¾èµ„æºçš„ä¸»æœºåœ¨å› ç‰¹ç½‘ä¸­çš„åŸŸå;â€¢ &lt;ç«¯å£&gt;/&lt;è·¯å¾„&gt; æœ‰æ—¶å¯çœç•¥ï¼› è¯·æ±‚webæœåŠ¡çš„è¿‡ç¨‹ï¼š HTTPçš„æŠ¥æ–‡ç»“æ„ï¼šHTTP æœ‰ä¸¤ç±»æŠ¥æ–‡ï¼š â€¢ è¯·æ±‚æŠ¥æ–‡â€”â€”ä»å®¢æˆ·å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æŠ¥æ–‡ã€‚â€¢ å“åº”æŠ¥æ–‡â€”â€”ä»æœåŠ¡å™¨åˆ°å®¢æˆ·çš„å›ç­”ã€‚â€¢ ç”±äº HTTP æ˜¯é¢å‘æ­£æ–‡çš„(text-oriented)ï¼Œå› æ­¤åœ¨æŠ¥æ–‡ä¸­çš„æ¯ä¸€ä¸ªå­—æ®µéƒ½æ˜¯ä¸€äº› ASCII ç ä¸²ï¼Œå› è€Œæ¯ä¸ªå­—æ®µçš„é•¿åº¦éƒ½æ˜¯ä¸ç¡®å®šçš„ã€‚ æŠ¥æ–‡ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼Œå³å¼€å§‹è¡Œã€é¦–éƒ¨è¡Œå’Œå®ä½“ä¸»ä½“ã€‚åœ¨è¯·æ±‚æŠ¥æ–‡ä¸­ï¼Œå¼€å§‹è¡Œå°±æ˜¯è¯·æ±‚è¡Œã€‚åŒ…å«äº†æ–¹æ³•å­—æ®µã€‚ å“åº”æŠ¥æ–‡çš„å¼€å§‹è¡Œæ˜¯çŠ¶æ€è¡Œã€‚çŠ¶æ€è¡ŒåŒ…æ‹¬ä¸‰é¡¹å†…å®¹ï¼Œå³ HTTP çš„ç‰ˆæœ¬ï¼ŒçŠ¶æ€ç ï¼Œä»¥åŠè§£é‡ŠçŠ¶æ€ç çš„ç®€å•çŸ­è¯­ã€‚ â€¢ 1xx ï¼šInformationalï¼ˆä¿¡æ¯æ€§çŠ¶æ€ç ï¼‰ï¼Œè¡¨ç¤ºé€šçŸ¥ä¿¡æ¯çš„ï¼Œå¦‚è¯·æ±‚æ”¶åˆ°äº†æˆ–æ­£åœ¨è¿›è¡Œå¤„ç†ã€‚ 100 Continue ï¼šè¡¨æ˜åˆ°ç›®å‰ä¸ºæ­¢éƒ½å¾ˆæ­£å¸¸ï¼Œå®¢æˆ·ç«¯å¯ä»¥ç»§ç»­å‘é€è¯·æ±‚æˆ–è€…å¿½ç•¥è¿™ä¸ªå“åº”ã€‚ â€¢ 2xx ï¼šSuccessï¼ˆæˆåŠŸçŠ¶æ€ç ï¼‰ï¼Œè¡¨ç¤ºæˆåŠŸï¼Œå¦‚æ¥å—æˆ–çŸ¥é“äº†ã€‚ 200 OK 204 No Content ï¼šè¯·æ±‚å·²ç»æˆåŠŸå¤„ç†ï¼Œä½†æ˜¯è¿”å›çš„å“åº”æŠ¥æ–‡ä¸åŒ…å«å®ä½“çš„ä¸»ä½“éƒ¨åˆ†ã€‚ä¸€èˆ¬åœ¨åªéœ€è¦ä»å®¢æˆ·ç«¯å¾€æœåŠ¡å™¨å‘é€ä¿¡æ¯ï¼Œè€Œä¸éœ€è¦è¿”å›æ•°æ®æ—¶ä½¿ç”¨ã€‚ 206 Partial Content ï¼šè¡¨ç¤ºå®¢æˆ·ç«¯è¿›è¡Œäº†èŒƒå›´è¯·æ±‚ï¼Œå“åº”æŠ¥æ–‡åŒ…å«ç”± Content-Range æŒ‡å®šèŒƒå›´çš„å®ä½“å†…å®¹ã€‚ â€¢ 3xx ï¼šRedirectionï¼ˆé‡å®šå‘çŠ¶æ€ç ï¼‰ï¼Œè¡¨ç¤ºé‡å®šå‘ï¼Œè¡¨ç¤ºè¦å®Œæˆè¯·æ±‚è¿˜å¿…é¡»é‡‡å–è¿›ä¸€æ­¥çš„è¡ŒåŠ¨ã€‚ 301 Moved Permanently ï¼šæ°¸ä¹…æ€§é‡å®šå‘ 302 Found ï¼šä¸´æ—¶æ€§é‡å®šå‘ 303 See Other ï¼šå’Œ 302 æœ‰ç€ç›¸åŒçš„åŠŸèƒ½ï¼Œä½†æ˜¯ 303 æ˜ç¡®è¦æ±‚å®¢æˆ·ç«¯åº”è¯¥é‡‡ç”¨ GET æ–¹æ³•è·å–èµ„æºã€‚ æ³¨ï¼šè™½ç„¶ HTTP åè®®è§„å®š 301ã€302 çŠ¶æ€ä¸‹é‡å®šå‘æ—¶ä¸å…è®¸æŠŠ POST æ–¹æ³•æ”¹æˆ GET æ–¹æ³•ï¼Œä½†æ˜¯å¤§å¤šæ•°æµè§ˆå™¨éƒ½ä¼šåœ¨ 301ã€302 å’Œ 303 çŠ¶æ€ä¸‹çš„é‡å®šå‘æŠŠ POST æ–¹æ³•æ”¹æˆ GET æ–¹æ³•ã€‚ 304 Not Modified ï¼šå¦‚æœè¯·æ±‚æŠ¥æ–‡é¦–éƒ¨åŒ…å«ä¸€äº›æ¡ä»¶ï¼Œä¾‹å¦‚ï¼šIf-Matchï¼ŒIf-Modified-Sinceï¼ŒIf-None-Matchï¼ŒIf-Rangeï¼ŒIf-Unmodified-Sinceï¼Œå¦‚æœä¸æ»¡è¶³æ¡ä»¶ï¼Œåˆ™æœåŠ¡å™¨ä¼šè¿”å› 304 çŠ¶æ€ç ã€‚ 307 Temporary Redirect ï¼šä¸´æ—¶é‡å®šå‘ï¼Œä¸ 302 çš„å«ä¹‰ç±»ä¼¼ï¼Œä½†æ˜¯ 307 è¦æ±‚æµè§ˆå™¨ä¸ä¼šæŠŠé‡å®šå‘è¯·æ±‚çš„ POST æ–¹æ³•æ”¹æˆ GET æ–¹æ³•ã€‚ â€¢ 4xx ï¼šClient Errorï¼ˆå®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç ï¼‰ï¼Œè¡¨ç¤ºå®¢æˆ·çš„å·®é”™ï¼Œå¦‚è¯·æ±‚ä¸­æœ‰é”™è¯¯çš„è¯­æ³•æˆ–ä¸èƒ½å®Œæˆã€‚ 400 Bad Request ï¼šè¯·æ±‚æŠ¥æ–‡ä¸­å­˜åœ¨è¯­æ³•é”™è¯¯ã€‚ 401 Unauthorized ï¼šè¯¥çŠ¶æ€ç è¡¨ç¤ºå‘é€çš„è¯·æ±‚éœ€è¦æœ‰è®¤è¯ä¿¡æ¯ï¼ˆBASIC è®¤è¯ã€DIGEST è®¤è¯ï¼‰ã€‚å¦‚æœä¹‹å‰å·²è¿›è¡Œè¿‡ä¸€æ¬¡è¯·æ±‚ï¼Œåˆ™è¡¨ç¤ºç”¨æˆ·è®¤è¯å¤±è´¥ã€‚ 403 Forbidden ï¼šè¯·æ±‚è¢«æ‹’ç»ã€‚ 404 Not Found â€¢ 5xx ï¼šServer Errorï¼ˆæœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç ï¼‰ï¼Œè¡¨ç¤ºæœåŠ¡å™¨çš„å·®é”™ï¼Œå¦‚æœåŠ¡å™¨å¤±æ•ˆæ— æ³•å®Œæˆè¯·æ±‚ã€‚ 500 Internal Server Error ï¼šæœåŠ¡å™¨æ­£åœ¨æ‰§è¡Œè¯·æ±‚æ—¶å‘ç”Ÿé”™è¯¯ã€‚ 503 Service Unavailable ï¼šæœåŠ¡å™¨æš‚æ—¶å¤„äºè¶…è´Ÿè½½æˆ–æ­£åœ¨è¿›è¡Œåœæœºç»´æŠ¤ï¼Œç°åœ¨æ— æ³•å¤„ç†è¯·æ±‚ã€‚ Cookie","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"åº”ç”¨å±‚","slug":"åº”ç”¨å±‚","permalink":"https://chrisxb1996.github.io/tags/%E5%BA%94%E7%94%A8%E5%B1%82/"}]},{"title":"ä¼ è¾“å±‚","slug":"è®¡ç®—æœºç½‘ç»œ/ä¼ è¾“å±‚","date":"2020-05-17T08:06:11.000Z","updated":"2020-05-18T09:30:30.678Z","comments":true,"path":"2020/05/17/è®¡ç®—æœºç½‘ç»œ/ä¼ è¾“å±‚/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/17/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E4%BC%A0%E8%BE%93%E5%B1%82/","excerpt":"æ¦‚è¿°è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡: ç½‘ç»œå±‚åªæŠŠåˆ†ç»„å‘é€åˆ°ç›®çš„ä¸»æœºï¼Œä½†æ˜¯çœŸæ­£é€šä¿¡çš„å¹¶ä¸æ˜¯ä¸»æœºè€Œæ˜¯ä¸»æœºä¸­çš„è¿›ç¨‹ã€‚ä¼ è¾“å±‚æä¾›äº†è¿›ç¨‹é—´çš„é€»è¾‘é€šä¿¡ï¼Œä¼ è¾“å±‚å‘é«˜å±‚ç”¨æˆ·å±è”½äº†ä¸‹é¢ç½‘ç»œå±‚çš„æ ¸å¿ƒç»†èŠ‚ï¼Œä½¿åº”ç”¨ç¨‹åºçœ‹èµ·æ¥åƒæ˜¯åœ¨ä¸¤ä¸ªä¼ è¾“å±‚å®ä½“ä¹‹é—´æœ‰ä¸€æ¡ç«¯åˆ°ç«¯çš„é€»è¾‘é€šä¿¡ä¿¡é“ã€‚ ä¼ è¾“å±‚å‘å®ƒä¸Šé¢çš„åº”ç”¨å±‚æä¾›é€šä¿¡æœåŠ¡ï¼Œå®ƒå±äºé¢å‘é€šä¿¡éƒ¨åˆ†çš„æœ€é«˜å±‚ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç”¨æˆ·åŠŸèƒ½ä¸­çš„æœ€ä½å±‚ã€‚ å½“ç½‘ç»œçš„è¾¹ç¼˜éƒ¨åˆ†ä¸­çš„ä¸¤ä¸ªä¸»æœºä½¿ç”¨ç½‘ç»œçš„æ ¸å¿ƒéƒ¨åˆ†çš„åŠŸèƒ½è¿›è¡Œç«¯åˆ°ç«¯çš„é€šä¿¡æ—¶ï¼Œåªæœ‰ä½äºç½‘ç»œè¾¹ç¼˜éƒ¨åˆ†çš„ä¸»æœºçš„åè®®æ ˆæ‰æœ‰è¿è¾“å±‚ï¼Œè€Œç½‘ç»œæ ¸å¿ƒéƒ¨åˆ†ä¸­çš„è·¯ç”±å™¨åœ¨è½¬å‘åˆ†ç»„æ—¶éƒ½åªç”¨åˆ°ä¸‹ä¸‰å±‚çš„åŠŸèƒ½ã€‚","text":"æ¦‚è¿°è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡: ç½‘ç»œå±‚åªæŠŠåˆ†ç»„å‘é€åˆ°ç›®çš„ä¸»æœºï¼Œä½†æ˜¯çœŸæ­£é€šä¿¡çš„å¹¶ä¸æ˜¯ä¸»æœºè€Œæ˜¯ä¸»æœºä¸­çš„è¿›ç¨‹ã€‚ä¼ è¾“å±‚æä¾›äº†è¿›ç¨‹é—´çš„é€»è¾‘é€šä¿¡ï¼Œä¼ è¾“å±‚å‘é«˜å±‚ç”¨æˆ·å±è”½äº†ä¸‹é¢ç½‘ç»œå±‚çš„æ ¸å¿ƒç»†èŠ‚ï¼Œä½¿åº”ç”¨ç¨‹åºçœ‹èµ·æ¥åƒæ˜¯åœ¨ä¸¤ä¸ªä¼ è¾“å±‚å®ä½“ä¹‹é—´æœ‰ä¸€æ¡ç«¯åˆ°ç«¯çš„é€»è¾‘é€šä¿¡ä¿¡é“ã€‚ ä¼ è¾“å±‚å‘å®ƒä¸Šé¢çš„åº”ç”¨å±‚æä¾›é€šä¿¡æœåŠ¡ï¼Œå®ƒå±äºé¢å‘é€šä¿¡éƒ¨åˆ†çš„æœ€é«˜å±‚ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç”¨æˆ·åŠŸèƒ½ä¸­çš„æœ€ä½å±‚ã€‚ å½“ç½‘ç»œçš„è¾¹ç¼˜éƒ¨åˆ†ä¸­çš„ä¸¤ä¸ªä¸»æœºä½¿ç”¨ç½‘ç»œçš„æ ¸å¿ƒéƒ¨åˆ†çš„åŠŸèƒ½è¿›è¡Œç«¯åˆ°ç«¯çš„é€šä¿¡æ—¶ï¼Œåªæœ‰ä½äºç½‘ç»œè¾¹ç¼˜éƒ¨åˆ†çš„ä¸»æœºçš„åè®®æ ˆæ‰æœ‰è¿è¾“å±‚ï¼Œè€Œç½‘ç»œæ ¸å¿ƒéƒ¨åˆ†ä¸­çš„è·¯ç”±å™¨åœ¨è½¬å‘åˆ†ç»„æ—¶éƒ½åªç”¨åˆ°ä¸‹ä¸‰å±‚çš„åŠŸèƒ½ã€‚ TCPå’ŒUDP:è¿è¾“å±‚éœ€è¦æœ‰ä¸¤ç§ä¸åŒçš„è¿è¾“åè®®ï¼Œå³é¢å‘è¿æ¥çš„ TCP å’Œæ— è¿æ¥çš„ UDPã€‚ ç”¨æˆ·æ•°æ®æŠ¥åè®® UDP (User Datagram Protocol)ï¼šæ˜¯æ— è¿æ¥çš„ï¼Œå°½æœ€å¤§å¯èƒ½äº¤ä»˜ï¼Œæ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œé¢å‘æŠ¥æ–‡ï¼ˆå¯¹äºåº”ç”¨ç¨‹åºä¼ ä¸‹æ¥çš„æŠ¥æ–‡ä¸åˆå¹¶ä¹Ÿä¸æ‹†åˆ†ï¼Œåªæ˜¯æ·»åŠ  UDP é¦–éƒ¨ï¼‰ï¼Œæ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ã€‚ ä¼ è¾“æ§åˆ¶åè®® TCP (Transmission Control Protocol)ï¼šæ˜¯é¢å‘è¿æ¥çš„ï¼Œæä¾›å¯é äº¤ä»˜ï¼Œæœ‰æµé‡æ§åˆ¶ï¼Œæ‹¥å¡æ§åˆ¶ï¼Œæä¾›å…¨åŒå·¥é€šä¿¡ï¼Œé¢å‘å­—èŠ‚æµï¼ˆæŠŠåº”ç”¨å±‚ä¼ ä¸‹æ¥çš„æŠ¥æ–‡çœ‹æˆå­—èŠ‚æµï¼ŒæŠŠå­—èŠ‚æµç»„ç»‡æˆå¤§å°ä¸ç­‰çš„æ•°æ®å—ï¼‰ï¼Œæ¯ä¸€æ¡ TCP è¿æ¥åªèƒ½æ˜¯ç‚¹å¯¹ç‚¹çš„ï¼ˆä¸€å¯¹ä¸€ï¼‰ã€‚ ä¼ è¾“å±‚çš„ç«¯å£:è¿è¡Œåœ¨è®¡ç®—æœºä¸­çš„è¿›ç¨‹æ˜¯ç”¨è¿›ç¨‹æ ‡è¯†ç¬¦æ¥æ ‡å¿—çš„ï¼Œä¸ºäº†ä½¿è¿è¡Œä¸åŒæ“ä½œç³»ç»Ÿçš„è®¡ç®—æœºçš„åº”ç”¨è¿›ç¨‹èƒ½å¤Ÿäº’ç›¸é€šä¿¡ï¼Œå°±å¿…é¡»ç”¨ç»Ÿä¸€çš„æ–¹æ³•å¯¹ TCP/IP ä½“ç³»çš„åº”ç”¨è¿›ç¨‹è¿›è¡Œæ ‡å¿—ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•å°±æ˜¯åœ¨è¿è¾“å±‚ä½¿ç”¨åè®®ç«¯å£å·(protocol port number)ï¼Œæˆ–é€šå¸¸ç®€ç§°ä¸ºç«¯å£(port)ã€‚ ç«¯å£ç”¨ä¸€ä¸ª 16 ä½ç«¯å£å·è¿›è¡Œæ ‡å¿—ã€‚ ç«¯å£å·åªå…·æœ‰æœ¬åœ°æ„ä¹‰ï¼Œå³ç«¯å£å·åªæ˜¯ä¸ºäº†æ ‡å¿—æœ¬è®¡ç®—æœºåº”ç”¨å±‚ä¸­çš„å„è¿›ç¨‹ã€‚åœ¨å› ç‰¹ç½‘ä¸­ä¸åŒè®¡ç®—æœºçš„ç›¸åŒç«¯å£å·æ˜¯æ²¡æœ‰è”ç³»çš„ã€‚ ä¸‰ç±»ç«¯å£ ï¼š1.ç†ŸçŸ¥ç«¯å£ï¼Œæ•°å€¼ä¸€èˆ¬ä¸º 0-1023ï¼›2.ç™»è®°ç«¯å£å·ï¼Œæ•°å€¼ä¸º1024-49151ï¼Œä¸ºæ²¡æœ‰ç†ŸçŸ¥ç«¯å£å·çš„åº”ç”¨ç¨‹åºä½¿ç”¨çš„ï¼›3.å®¢æˆ·ç«¯å£å·ï¼Œæ•°å€¼ä¸º49152-65535ï¼Œç•™ç»™å®¢æˆ·è¿›ç¨‹é€‰æ‹©æš‚æ—¶ä½¿ç”¨ï¼› å¸¸ç”¨åº”ç”¨å±‚åè®®ä¸ä¼ è¾“å±‚ç«¯å£ï¼šhttp = TCP + 80ï¼›https = TCP + 443ï¼›ftp = TCP + 21ï¼›SMTP = TCP + 25ï¼›POP3 = TCP + 101ï¼›RDP = TCP + 3389ï¼›SQL = TCP + 1433ï¼›DNS = UDP + 53 or TCP + 53(æå°‘æƒ…å†µ) è®¡ç®—æœºæœåŠ¡(å¯¹å¤–çš„æœåŠ¡)è¿è¡Œååœ¨TCPæˆ–UDPçš„æŸä¸ªç«¯å£ä¾¦å¬å®¢æˆ·ç«¯è¯·æ±‚ã€‚ UDPUDP åªåœ¨ IP çš„æ•°æ®æŠ¥æœåŠ¡ä¹‹ä¸Šå¢åŠ äº†å¾ˆå°‘ä¸€ç‚¹çš„åŠŸèƒ½ï¼Œå³ç«¯å£çš„åŠŸèƒ½å’Œå·®é”™æ£€æµ‹çš„åŠŸèƒ½ã€‚ UDP æ˜¯æ— è¿æ¥çš„ï¼Œå³å‘é€æ•°æ®ä¹‹å‰ä¸éœ€è¦å»ºç«‹è¿æ¥(ä¸»è¦é’ˆå¯¹çŸ­åŒ…ï¼Œå®æ—¶æ€§è¦æ±‚ä¸é«˜çš„æ•°æ®)ã€‚ UDP ä½¿ç”¨å°½æœ€å¤§åŠªåŠ›äº¤ä»˜ï¼Œå³ä¸ä¿è¯å¯é äº¤ä»˜ï¼ŒåŒæ—¶ä¹Ÿä¸ä½¿ç”¨æ‹¥å¡æ§åˆ¶ã€‚ UDP æ˜¯é¢å‘æŠ¥æ–‡çš„ã€‚UDP æ²¡æœ‰æ‹¥å¡æ§åˆ¶ï¼Œå¾ˆé€‚åˆå¤šåª’ä½“é€šä¿¡çš„è¦æ±‚ã€‚ UDP æ”¯æŒä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹ä¸€å’Œå¤šå¯¹å¤šçš„äº¤äº’é€šä¿¡ã€‚ UDP çš„é¦–éƒ¨å¼€é”€å°ï¼Œåªæœ‰ 8 ä¸ªå­—èŠ‚ã€‚ é¢å‘æŠ¥æ–‡ï¼šé€æ–¹ UDP å¯¹åº”ç”¨ç¨‹åºäº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œåœ¨æ·»åŠ é¦–éƒ¨åå°±å‘ä¸‹äº¤ä»˜ IP å±‚ã€‚UDP å¯¹åº”ç”¨å±‚äº¤ä¸‹æ¥çš„æŠ¥æ–‡ï¼Œæ—¢ä¸åˆå¹¶ï¼Œä¹Ÿä¸æ‹†åˆ†ï¼Œè€Œæ˜¯ä¿ç•™è¿™äº›æŠ¥æ–‡çš„è¾¹ç•Œã€‚åº”ç”¨å±‚äº¤ç»™ UDP å¤šé•¿çš„æŠ¥æ–‡ï¼ŒUDP å°±ç…§æ ·å‘é€ï¼Œå³ä¸€æ¬¡å‘é€ä¸€ä¸ªæŠ¥æ–‡ã€‚æ¥æ”¶æ–¹ UDP å¯¹ IP å±‚äº¤ä¸Šæ¥çš„ UDP ç”¨æˆ·æ•°æ®æŠ¥ï¼Œåœ¨å»é™¤é¦–éƒ¨åå°±åŸå°ä¸åŠ¨åœ°äº¤ä»˜ä¸Šå±‚çš„åº”ç”¨è¿›ç¨‹ï¼Œä¸€æ¬¡äº¤ä»˜ä¸€ä¸ªå®Œæ•´çš„æŠ¥æ–‡ã€‚åº”ç”¨ç¨‹åºå¿…é¡»é€‰æ‹©åˆé€‚å¤§å°çš„æŠ¥æ–‡ã€‚ UDPé¦–éƒ¨æ ¼å¼ï¼šé¦–éƒ¨å­—æ®µåªæœ‰ 8 ä¸ªå­—èŠ‚ï¼ŒåŒ…æ‹¬æºç«¯å£ã€ç›®çš„ç«¯å£ã€é•¿åº¦ã€æ£€éªŒå’Œã€‚12 å­—èŠ‚çš„ä¼ªé¦–éƒ¨æ˜¯ä¸ºäº†è®¡ç®—æ£€éªŒå’Œä¸´æ—¶æ·»åŠ çš„ã€‚ TCPTCP æ¦‚è¿°ï¼šä¸»è¦ç‰¹ç‚¹:1.TCPæ˜¯é¢å‘è¿æ¥çš„è¿è¾“å±‚åè®®ï¼›2.æ¯ä¸€æ¡ TCP è¿æ¥åªèƒ½æœ‰ä¸¤ä¸ªç«¯ç‚¹ï¼Œæ¯ä¸€æ¡ TCP è¿æ¥åªèƒ½æ˜¯ç‚¹å¯¹ç‚¹çš„(ä¸€å¯¹ä¸€)ï¼›3.TCP æä¾›å¯é äº¤ä»˜çš„æœåŠ¡ï¼›4.TCP æä¾›å…¨åŒå·¥é€šä¿¡ï¼›5.é¢å‘å­—èŠ‚æµï¼› é¢å‘å­—èŠ‚æµçš„ä¼ è¾“è¿‡ç¨‹ï¼š æ³¨æ„ï¼š1.TCP è¿æ¥æ˜¯ä¸€æ¡è™šè¿æ¥è€Œä¸æ˜¯ä¸€æ¡çœŸæ­£çš„ç‰©ç†è¿æ¥ã€‚2.TCP è¿æ¥çš„ç«¯ç‚¹ä¸æ˜¯ä¸»æœºï¼Œä¸æ˜¯ä¸»æœºçš„IP åœ°å€ï¼Œä¸æ˜¯åº”ç”¨è¿›ç¨‹ï¼Œä¹Ÿä¸æ˜¯è¿è¾“å±‚çš„åè®®ç«¯å£ã€‚TCP è¿æ¥çš„ç«¯ç‚¹å«åšå¥—æ¥å­—(socket)ï¼Œç«¯å£å·æ‹¼æ¥åˆ° IP åœ°å€å³æ„æˆäº†å¥—æ¥å­—ã€‚å¥—æ¥å­— socket = (IPåœ°å€: ç«¯å£å·)ï¼›3.æ¯ä¸€æ¡ TCP è¿æ¥å”¯ä¸€åœ°è¢«é€šä¿¡ä¸¤ç«¯çš„ä¸¤ä¸ªç«¯ç‚¹ï¼ˆå³ä¸¤ä¸ªå¥—æ¥å­—ï¼‰æ‰€ç¡®å®šã€‚å³ï¼šTCP è¿æ¥ ::= {socket1, socket2} = {(IP1: port1), (IP2: port2)}ï¼› TCP æŠ¥æ–‡é¦–éƒ¨æ ¼å¼ï¼š æºç«¯å£å’Œç›®çš„ç«¯å£å­—æ®µâ€”â€”å„å  2 å­—èŠ‚ï¼Œç«¯å£ä¼ è¾“å±‚ä¸åº”ç”¨å±‚çš„æœåŠ¡æ¥å£ã€‚ä¼ è¾“å±‚çš„å¤ç”¨å’Œåˆ†ç”¨åŠŸèƒ½éƒ½è¦é€šè¿‡ç«¯å£æ‰èƒ½å®ç°ã€‚ åºå·å­—æ®µâ€”â€”å  4 å­—èŠ‚ï¼ŒTCP è¿æ¥ä¸­ä¼ é€çš„å­—èŠ‚æµä¸­çš„æ¯ä¸€ä¸ªæ•°æ®æ®µéƒ½ç¼–ä¸Šä¸€ä¸ªåºå·ã€‚åºå·å­—æ®µçš„å€¼åˆ™æŒ‡çš„æ˜¯æœ¬æŠ¥æ–‡æ®µæ‰€å‘é€çš„æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚ ç¡®è®¤å·å­—æ®µâ€”â€”å  4 å­—èŠ‚ï¼Œæ˜¯æœŸæœ›æ”¶åˆ°å¯¹æ–¹çš„ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µçš„æ•°æ®çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åºå·ã€‚ æ•°æ®åç§»(å³é¦–éƒ¨é•¿åº¦)â€”â€”å  4 ä½ï¼Œå®ƒè¡¨ç¤ºé¦–éƒ¨é•¿åº¦ï¼Œæœ€é•¿60ä¸ªå­—èŠ‚ï¼Œæ•…å¯å˜é•¿åº¦æœ€é•¿40ä¸ªå­—èŠ‚ã€‚ ä¿ç•™å­—æ®µâ€”â€”å  6 ä½ï¼Œä¿ç•™ä¸ºä»Šåä½¿ç”¨ï¼Œä½†ç›®å‰åº”ç½®ä¸º 0ã€‚ ç´§æ€¥ URG â€”â€” å½“ URG = 1 æ—¶ï¼Œè¡¨æ˜ç´§æ€¥æŒ‡é’ˆå­—æ®µæœ‰æ•ˆã€‚å®ƒå‘Šè¯‰ç³»ç»Ÿæ­¤æŠ¥æ–‡æ®µä¸­æœ‰ç´§æ€¥æ•°æ®ï¼Œåº”å°½å¿«ä¼ é€ã€‚ ç¡®è®¤ ACK â€”â€” åªæœ‰å½“ ACK = 1 æ—¶ç¡®è®¤å·å­—æ®µæ‰æœ‰æ•ˆã€‚å½“ ACK = 0 æ—¶ï¼Œç¡®è®¤å·æ— æ•ˆã€‚ æ¨é€ PSH â€”â€” æ¥æ”¶ TCP æ”¶åˆ° PSH = 1 çš„æŠ¥æ–‡æ®µï¼Œå°±å°½å¿«åœ°äº¤ä»˜æ¥æ”¶åº”ç”¨è¿›ç¨‹ï¼Œè€Œä¸å†ç­‰åˆ°æ•´ä¸ªç¼“å­˜éƒ½å¡«æ»¡äº†åå†å‘ä¸Šäº¤ä»˜ã€‚ å¤ä½ RST â€”â€” å½“ RST = 1 æ—¶ï¼Œè¡¨æ˜ TCP è¿æ¥ä¸­å‡ºç°ä¸¥é‡å·®é”™(å¦‚ç”±äºä¸»æœºå´©æºƒæˆ–å…¶ä»–åŸå› )ï¼Œå¿…é¡»é‡Šæ”¾è¿æ¥ï¼Œç„¶åå†é‡æ–°å»ºç«‹è¿è¾“è¿æ¥ã€‚ åŒæ­¥ SYN â€”â€” åŒæ­¥ SYN = 1 è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚æˆ–è¿æ¥æ¥å—æŠ¥æ–‡ã€‚ ç»ˆæ­¢ FIN â€”â€” ç”¨æ¥é‡Šæ”¾ä¸€ä¸ªè¿æ¥ã€‚FIN = 1 è¡¨æ˜æ­¤æŠ¥æ–‡æ®µçš„å‘é€ç«¯çš„æ•°æ®å·²å‘é€å®Œæ¯•ï¼Œå¹¶è¦æ±‚é‡Šæ”¾è¿è¾“è¿æ¥ã€‚ çª—å£å­—æ®µ â€”â€” å  2 å­—èŠ‚ï¼Œç”¨æ¥è®©å¯¹æ–¹è®¾ç½®å‘é€çª—å£çš„ä¾æ®ï¼Œå•ä½ä¸ºå­—èŠ‚ã€‚ æ£€éªŒå’Œ â€”â€” å  2 å­—èŠ‚ï¼Œæ£€éªŒå’Œå­—æ®µæ£€éªŒçš„èŒƒå›´åŒ…æ‹¬é¦–éƒ¨å’Œæ•°æ®è¿™ä¸¤éƒ¨åˆ†ã€‚åœ¨è®¡ç®—æ£€éªŒå’Œæ—¶ï¼Œè¦åœ¨ TCP æŠ¥æ–‡æ®µçš„å‰é¢åŠ ä¸Š 12 å­—èŠ‚çš„ä¼ªé¦–éƒ¨ã€‚ ç´§æ€¥æŒ‡é’ˆå­—æ®µ â€”â€” å  16 ä½ï¼ŒæŒ‡å‡ºåœ¨æœ¬æŠ¥æ–‡æ®µä¸­ç´§æ€¥æ•°æ®å…±æœ‰å¤šå°‘ä¸ªå­—èŠ‚ï¼ˆç´§æ€¥æ•°æ®æ”¾åœ¨æœ¬æŠ¥æ–‡æ®µæ•°æ®çš„æœ€å‰é¢ï¼‰ã€‚ é€‰é¡¹å­—æ®µ â€”â€” é•¿åº¦å¯å˜ï¼ŒTCP æœ€åˆåªè§„å®šäº†ä¸€ç§é€‰é¡¹ï¼Œå³æœ€å¤§æŠ¥æ–‡æ®µé•¿åº¦ MSSã€‚MSS å‘Šè¯‰å¯¹æ–¹ TCPï¼šâ€œæˆ‘çš„ç¼“å­˜æ‰€èƒ½æ¥æ”¶çš„æŠ¥æ–‡æ®µçš„æ•°æ®å­—æ®µçš„æœ€å¤§é•¿åº¦æ˜¯ MSS ä¸ªå­—èŠ‚ã€‚â€ TCP å¯é ä¼ è¾“ï¼šåœæ­¢ç­‰å¾…åè®®ï¼š ä½¿ç”¨ä¸Šè¿°çš„ç¡®è®¤å’Œé‡ä¼ æœºåˆ¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä¸å¯é çš„ä¼ è¾“ç½‘ç»œä¸Šå®ç°å¯é çš„é€šä¿¡ï¼Œè¿™ç§å¯é ä¼ è¾“åè®®å¸¸ç§°ä¸ºè‡ªåŠ¨é‡ä¼ è¯·æ±‚ARQ(Automatic Repeat reQuest) ã€‚ TCP æ»‘åŠ¨çª—å£ï¼š åœæ­¢ç­‰å¾…åè®®çš„ä¼˜ç‚¹æ˜¯ç®€å•ï¼Œä½†ç¼ºç‚¹æ˜¯ä¿¡é“åˆ©ç”¨ç‡å¤ªä½ã€‚ é’ˆå¯¹è¿™ä¸€ç¼ºç‚¹ï¼Œä¸€èˆ¬é‡‡ç”¨æ»‘åŠ¨çª—å£(æµæ°´çº¿ä¼ è¾“)å’Œç´¯ç§¯ç¡®è®¤(æ¥æ”¶çª—å£)çš„æ–¹æ³•æé«˜ä¿¡é“åˆ©ç”¨ç‡ã€‚æ»‘åŠ¨çª—å£ï¼šå‘é€æ–¹å¯è¿ç»­å‘é€å¤šä¸ªåˆ†ç»„ï¼Œä¸å¿…æ¯å‘å®Œä¸€ä¸ªåˆ†ç»„å°±åœé¡¿ä¸‹æ¥ç­‰å¾…å¯¹æ–¹çš„ç¡®è®¤ã€‚1.å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ ¹æ® B ç»™å‡ºçš„çª—å£å€¼Aæ„é€ å‡ºè‡ªå·±çš„å‘é€çª—å£ï¼›2.A å‘é€äº† 11 ä¸ªå­—èŠ‚çš„æ•°æ®ï¼›3.A æ”¶åˆ°æ–°çš„ç¡®è®¤å·åï¼Œå‘é€çª—å£å‘å‰æ»‘åŠ¨ï¼›4.è‹¥A çš„å‘é€çª—å£å†…çš„åºå·éƒ½å·²ç”¨å®Œï¼Œä½†è¿˜æ²¡æœ‰å†æ”¶åˆ°ç¡®è®¤ï¼Œå¿…é¡»åœæ­¢å‘é€ï¼›ç´¯ç§¯ç¡®è®¤ï¼šæ¥æ”¶æ–¹ä¸€èˆ¬é‡‡ç”¨ç´¯ç§¯ç¡®è®¤çš„æ–¹å¼ã€‚å³ä¸å¿…å¯¹æ”¶åˆ°çš„åˆ†ç»„é€ä¸ªå‘é€ç¡®è®¤ï¼Œè€Œæ˜¯å¯¹æŒ‰åºåˆ°è¾¾çš„æœ€åä¸€ä¸ªåˆ†ç»„å‘é€ç¡®è®¤ï¼Œè¿™æ ·å°±è¡¨ç¤ºï¼šåˆ°è¿™ä¸ªåˆ†ç»„ä¸ºæ­¢çš„æ‰€æœ‰åˆ†ç»„éƒ½å·²æ­£ç¡®æ”¶åˆ°äº†ã€‚ TCP æµé‡æ§åˆ¶ï¼šä¸€èˆ¬è¯´æ¥ï¼Œæˆ‘ä»¬æ€»æ˜¯å¸Œæœ›æ•°æ®ä¼ è¾“å¾—æ›´å¿«ä¸€äº›ã€‚ä½†å¦‚æœå‘é€æ–¹æŠŠæ•°æ®å‘é€å¾—è¿‡å¿«ï¼Œæ¥æ”¶æ–¹å°±å¯èƒ½æ¥ä¸åŠæ¥æ”¶ï¼Œè¿™å°±ä¼šé€ æˆæ•°æ®çš„ä¸¢å¤±ã€‚æµé‡æ§åˆ¶(flow control)å°±æ˜¯è®©å‘é€æ–¹çš„å‘é€é€Ÿç‡ä¸è¦å¤ªå¿«ï¼Œæ—¢è¦è®©æ¥æ”¶æ–¹æ¥å¾—åŠæ¥æ”¶ï¼Œä¹Ÿä¸è¦ä½¿ç½‘ç»œå‘ç”Ÿæ‹¥å¡ã€‚åˆ©ç”¨æ»‘åŠ¨çª—å£æœºåˆ¶å¯ä»¥å¾ˆæ–¹ä¾¿åœ°åœ¨ TCP è¿æ¥ä¸Šå®ç°æµé‡æ§åˆ¶ã€‚ æ¥æ”¶æ–¹å‘é€çš„ç¡®è®¤æŠ¥æ–‡ä¸­çš„çª—å£å­—æ®µå¯ä»¥ç”¨æ¥æ§åˆ¶å‘é€æ–¹çª—å£å¤§å°ï¼Œä»è€Œå½±å“å‘é€æ–¹çš„å‘é€é€Ÿç‡ã€‚å°†çª—å£å­—æ®µè®¾ç½®ä¸º 0ï¼Œåˆ™å‘é€æ–¹ä¸èƒ½å‘é€æ•°æ®ã€‚ TCP æ‹¥å¡æ§åˆ¶ï¼šæ‹¥å¡æ§åˆ¶ï¼šæ‰€è¦åšçš„éƒ½æœ‰ä¸€ä¸ªå‰æï¼Œå°±æ˜¯ç½‘ç»œèƒ½å¤Ÿæ‰¿å—ç°æœ‰çš„ç½‘ç»œè´Ÿè·ã€‚æ‹¥å¡æ§åˆ¶æ˜¯ä¸€ä¸ªå…¨å±€æ€§çš„è¿‡ç¨‹ï¼Œæ¶‰åŠåˆ°æ‰€æœ‰çš„ä¸»æœºã€æ‰€æœ‰çš„è·¯ç”±å™¨ï¼Œä»¥åŠä¸é™ä½ç½‘ç»œä¼ è¾“æ€§èƒ½æœ‰å…³çš„æ‰€æœ‰å› ç´ ã€‚ æµé‡æ§åˆ¶ï¼šå¾€å¾€æŒ‡åœ¨ç»™å®šçš„å‘é€ç«¯å’Œæ¥æ”¶ç«¯ä¹‹é—´çš„ç‚¹å¯¹ç‚¹é€šä¿¡é‡çš„æ§åˆ¶ã€‚ä¸»è¦æ˜¯æŠ‘åˆ¶å‘é€ç«¯å‘é€æ•°æ®çš„é€Ÿç‡ï¼Œä»¥ä¾¿ä½¿æ¥æ”¶ç«¯æ¥å¾—åŠæ¥æ”¶ã€‚ å‡ ç§æ‹¥å¡æ§åˆ¶æ–¹æ³•ï¼šæ…¢å¼€å§‹ã€æ‹¥å¡é¿å…ã€å¿«é‡ä¼ ã€å¿«æ¢å¤ æ…¢å¼€å§‹å’Œæ‹¥å¡é¿å…ç®—æ³•ï¼š 1.å‘é€çš„æœ€åˆæ‰§è¡Œæ…¢å¼€å§‹ï¼Œä»¤ cwnd = 1ï¼Œå‘é€æ–¹åªèƒ½å‘é€ 1 ä¸ªæŠ¥æ–‡æ®µï¼›å½“æ”¶åˆ°ç¡®è®¤åï¼Œå°† cwnd åŠ å€ï¼Œå› æ­¤ä¹‹åå‘é€æ–¹èƒ½å¤Ÿå‘é€çš„æŠ¥æ–‡æ®µæ•°é‡ä¸ºï¼š2ã€4ã€8 â€¦ 2.æ³¨æ„åˆ°æ…¢å¼€å§‹æ¯ä¸ªè½®æ¬¡éƒ½å°† cwnd åŠ å€ï¼Œè¿™æ ·ä¼šè®© cwnd å¢é•¿é€Ÿåº¦éå¸¸å¿«ï¼Œä»è€Œä½¿å¾—å‘é€æ–¹å‘é€çš„é€Ÿåº¦å¢é•¿é€Ÿåº¦è¿‡å¿«ï¼Œç½‘ç»œæ‹¥å¡çš„å¯èƒ½æ€§ä¹Ÿå°±æ›´é«˜ã€‚è®¾ç½®ä¸€ä¸ªæ…¢å¼€å§‹é—¨é™ ssthreshï¼Œå½“ cwnd &gt;= ssthresh æ—¶ï¼Œè¿›å…¥æ‹¥å¡é¿å…ï¼Œæ¯ä¸ªè½®æ¬¡åªå°† cwnd åŠ  1ã€‚ 3.å¦‚æœå‡ºç°äº†è¶…æ—¶ï¼Œåˆ™ä»¤ ssthresh = cwnd / 2ï¼Œç„¶åé‡æ–°æ‰§è¡Œæ…¢å¼€å§‹ã€‚ æ³¨æ„ï¼šå‘é€æ–¹éœ€è¦ç»´æŠ¤ä¸€ä¸ªå«åšæ‹¥å¡çª—å£ï¼ˆcwndï¼‰çš„çŠ¶æ€å˜é‡ï¼Œæ³¨æ„æ‹¥å¡çª—å£ä¸å‘é€æ–¹çª—å£çš„åŒºåˆ«ï¼šæ‹¥å¡çª—å£åªæ˜¯ä¸€ä¸ªçŠ¶æ€å˜é‡ï¼Œå®é™…å†³å®šå‘é€æ–¹èƒ½å‘é€å¤šå°‘æ•°æ®çš„æ˜¯å‘é€æ–¹çª—å£ã€‚ å¿«é‡ä¼ å’Œå¿«æ¢å¤ï¼š å¿«é‡ä¼ ï¼šåœ¨æ¥æ”¶æ–¹ï¼Œè¦æ±‚æ¯æ¬¡æ¥æ”¶åˆ°æŠ¥æ–‡æ®µéƒ½åº”è¯¥å¯¹æœ€åä¸€ä¸ªå·²æ”¶åˆ°çš„æœ‰åºæŠ¥æ–‡æ®µè¿›è¡Œç¡®è®¤ã€‚ä¾‹å¦‚å·²ç»æ¥æ”¶åˆ° M1 å’Œ M2ï¼Œæ­¤æ—¶æ”¶åˆ° M4ï¼Œåº”å½“å‘é€å¯¹ M2 çš„ç¡®è®¤ã€‚åœ¨å‘é€æ–¹ï¼Œå¦‚æœæ”¶åˆ°ä¸‰ä¸ªé‡å¤ç¡®è®¤ï¼Œé‚£ä¹ˆå¯ä»¥çŸ¥é“ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µä¸¢å¤±ï¼Œæ­¤æ—¶æ‰§è¡Œå¿«é‡ä¼ ï¼Œç«‹å³é‡ä¼ ä¸‹ä¸€ä¸ªæŠ¥æ–‡æ®µã€‚ä¾‹å¦‚æ”¶åˆ°ä¸‰ä¸ª M2ï¼Œåˆ™ M3 ä¸¢å¤±ï¼Œç«‹å³é‡ä¼  M3ã€‚ å¿«æ¢å¤ï¼šåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªæ˜¯ä¸¢å¤±ä¸ªåˆ«æŠ¥æ–‡æ®µï¼Œè€Œä¸æ˜¯ç½‘ç»œæ‹¥å¡ã€‚å› æ­¤æ‰§è¡Œå¿«æ¢å¤ï¼Œä»¤ ssthresh = cwnd / 2 ï¼Œcwnd = ssthreshï¼Œæ³¨æ„åˆ°æ­¤æ—¶ç›´æ¥è¿›å…¥æ‹¥å¡é¿å…ã€‚ æ³¨æ„ï¼šæ…¢å¼€å§‹å’Œå¿«æ¢å¤çš„å¿«æ…¢æŒ‡çš„æ˜¯ cwnd çš„è®¾å®šå€¼ï¼Œè€Œä¸æ˜¯ cwnd çš„å¢é•¿é€Ÿç‡ã€‚æ…¢å¼€å§‹ cwnd è®¾å®šä¸º 1ï¼Œè€Œå¿«æ¢å¤ cwnd è®¾å®šä¸º ssthreshã€‚ TCP é“¾æ¥ç®¡ç†ï¼šè¿è¾“è¿æ¥å°±æœ‰ä¸‰ä¸ªé˜¶æ®µï¼Œå³ï¼šè¿æ¥å»ºç«‹ã€æ•°æ®ä¼ é€å’Œè¿æ¥é‡Šæ”¾ã€‚è¿è¾“è¿æ¥çš„ç®¡ç†å°±æ˜¯ä½¿è¿è¾“è¿æ¥çš„å»ºç«‹å’Œé‡Šæ”¾éƒ½èƒ½æ­£å¸¸åœ°è¿›è¡Œã€‚ TCPå»ºç«‹è¿æ¥çš„ä¸‰æ¬¡æ¡æ‰‹ï¼šTCP è¿æ¥çš„å»ºç«‹éƒ½æ˜¯é‡‡ç”¨å®¢æˆ·æœåŠ¡å™¨æ–¹å¼ï¼šâ€¢ ä¸»åŠ¨å‘èµ·è¿æ¥å»ºç«‹çš„åº”ç”¨è¿›ç¨‹å«åšå®¢æˆ·(client)â€¢ è¢«åŠ¨ç­‰å¾…è¿æ¥å»ºç«‹çš„åº”ç”¨è¿›ç¨‹å«åšæœåŠ¡å™¨(server) ä¸‰æ¬¡æ¡æ‰‹ï¼š A çš„ TCP å‘ B å‘å‡ºè¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µï¼Œå…¶é¦–éƒ¨ä¸­çš„åŒæ­¥ä½ SYN = 1ï¼Œå¹¶é€‰æ‹©åºå· seq = xï¼Œè¡¨æ˜ä¼ é€æ•°æ®æ—¶çš„ç¬¬ä¸€ä¸ªæ•°æ®å­—èŠ‚çš„åºå·æ˜¯ xã€‚ B çš„ TCP æ”¶åˆ°è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µåï¼Œå¦‚åŒæ„ï¼Œåˆ™å‘å›ç¡®è®¤. B åœ¨ç¡®è®¤æŠ¥æ–‡æ®µä¸­åº”ä½¿ SYN = 1ï¼Œä½¿ ACK = 1ï¼Œå…¶ç¡®è®¤å·ack = x + 1ï¼Œè‡ªå·±é€‰æ‹©çš„åºå· seq = yã€‚ A æ”¶åˆ°æ­¤æŠ¥æ–‡æ®µåå‘ B ç»™å‡ºç¡®è®¤ï¼Œå…¶ ACK = 1ï¼Œç¡®è®¤å· ack = y + 1ã€‚ A çš„ TCP é€šçŸ¥ä¸Šå±‚åº”ç”¨è¿›ç¨‹ï¼Œè¿æ¥å·²ç»å»ºç«‹ã€‚ æ³¨æ„ï¼šä¸‰æ¬¡æ¡æ‰‹çš„åŸå› ï¼šç¬¬ä¸‰æ¬¡æ¡æ‰‹æ˜¯ä¸ºäº†é˜²æ­¢å¤±æ•ˆçš„è¿æ¥è¯·æ±‚åˆ°è¾¾æœåŠ¡å™¨ï¼Œè®©æœåŠ¡å™¨é”™è¯¯æ‰“å¼€è¿æ¥ã€‚å¦‚æœä¸è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹ï¼Œé‚£ä¹ˆæœåŠ¡å™¨å°±ä¼šæ‰“å¼€ä¸¤ä¸ªè¿æ¥ã€‚å¯¼è‡´è¿æ¥å¤±è´¥ï¼Œå¦‚æœæœ‰ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼Œå®¢æˆ·ç«¯ä¼šå¿½ç•¥æœåŠ¡å™¨ä¹‹åå‘é€çš„å¯¹æ»ç•™è¿æ¥è¯·æ±‚çš„è¿æ¥ç¡®è®¤ã€‚ TCPè¿æ¥é‡Šæ”¾çš„å››æ¬¡æŒ¥æ‰‹ï¼š å››æ¬¡æŒ¥æ‰‹ï¼š A æŠŠè¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µé¦–éƒ¨çš„ FIN = 1ï¼Œå…¶åºå·seq = uï¼Œç­‰å¾… B çš„ç¡®è®¤ã€‚ B å‘å‡ºç¡®è®¤ï¼Œç¡®è®¤å· ack = u + 1ï¼Œè€Œè¿™ä¸ªæŠ¥æ–‡æ®µè‡ªå·±çš„åºå· seq = vã€‚TCP æœåŠ¡å™¨è¿›ç¨‹é€šçŸ¥é«˜å±‚åº”ç”¨è¿›ç¨‹ã€‚ä» A åˆ° B è¿™ä¸ªæ–¹å‘çš„è¿æ¥å°±é‡Šæ”¾äº†ï¼ŒTCP è¿æ¥å¤„äºåŠå…³é—­çŠ¶æ€ã€‚B è‹¥å‘é€æ•°æ®ï¼ŒA ä»è¦æ¥æ”¶ã€‚ è‹¥ B å·²ç»æ²¡æœ‰è¦å‘ A å‘é€çš„æ•°æ®ï¼Œå…¶åº”ç”¨è¿›ç¨‹å°±é€šçŸ¥ TCP é‡Šæ”¾è¿æ¥ã€‚ A æ”¶åˆ°è¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µåï¼Œå¿…é¡»å‘å‡ºç¡®è®¤ã€‚åœ¨ç¡®è®¤æŠ¥æ–‡æ®µä¸­ ACK = 1ï¼Œç¡®è®¤å· ack = w + 1ï¼Œè‡ªå·±çš„åºå· seq = u + 1ã€‚ TCP è¿æ¥å¿…é¡»ç»è¿‡æ—¶é—´ 2MSL(æœ€å¤§æŠ¥æ–‡å­˜æ´»æ—¶é—´)åæ‰çœŸæ­£é‡Šæ”¾æ‰ã€‚ æ³¨æ„ï¼šå®¢æˆ·ç«¯Açš„TIME-WAITçŠ¶æ€å¿…é¡»ç­‰å¾…2MSLçš„åŸå› ï¼šç¬¬ä¸€ï¼Œä¸ºäº†ä¿è¯ A å‘é€çš„æœ€åä¸€ä¸ª ACK æŠ¥æ–‡æ®µèƒ½å¤Ÿåˆ°è¾¾ Bã€‚ç¬¬äºŒï¼Œé˜²æ­¢ â€œå·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µâ€å‡ºç°åœ¨æœ¬è¿æ¥ä¸­ã€‚A åœ¨å‘é€å®Œæœ€åä¸€ä¸ª ACK æŠ¥æ–‡æ®µåï¼Œå†ç»è¿‡æ—¶é—´ 2MSLï¼Œå°±å¯ä»¥ä½¿æœ¬è¿æ¥æŒç»­çš„æ—¶é—´å†…æ‰€äº§ç”Ÿçš„æ‰€æœ‰æŠ¥æ–‡æ®µï¼Œéƒ½ä»ç½‘ç»œä¸­æ¶ˆå¤±ã€‚è¿™æ ·å°±å¯ä»¥ä½¿ä¸‹ä¸€ä¸ªæ–°çš„è¿æ¥ä¸­ä¸ä¼šå‡ºç°è¿™ç§æ—§çš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µã€‚","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"ä¼ è¾“å±‚","slug":"ä¼ è¾“å±‚","permalink":"https://chrisxb1996.github.io/tags/%E4%BC%A0%E8%BE%93%E5%B1%82/"}]},{"title":"ç½‘ç»œå±‚","slug":"è®¡ç®—æœºç½‘ç»œ/ç½‘ç»œå±‚","date":"2020-05-15T13:55:05.000Z","updated":"2020-05-18T04:47:39.741Z","comments":true,"path":"2020/05/15/è®¡ç®—æœºç½‘ç»œ/ç½‘ç»œå±‚/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/15/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%BD%91%E7%BB%9C%E5%B1%82/","excerpt":"æ¦‚è¿° å› ä¸ºç½‘ç»œå±‚æ˜¯æ•´ä¸ªäº’è”ç½‘çš„æ ¸å¿ƒï¼Œå› æ­¤åº”å½“è®©ç½‘ç»œå±‚å°½å¯èƒ½ç®€å•ã€‚ç½‘ç»œå±‚å‘ä¸Šåªæä¾›ç®€å•çµæ´»çš„ã€æ— è¿æ¥çš„ã€å°½æœ€å¤§åŠªåŠ›äº¤äº’çš„æ•°æ®æŠ¥æœåŠ¡ã€‚ä½¿ç”¨ IP åè®®ï¼Œå¯ä»¥æŠŠå¼‚æ„çš„ç‰©ç†ç½‘ç»œè¿æ¥èµ·æ¥ï¼Œä½¿å¾—åœ¨ç½‘ç»œå±‚çœ‹èµ·æ¥å¥½åƒæ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ç½‘ç»œã€‚","text":"æ¦‚è¿° å› ä¸ºç½‘ç»œå±‚æ˜¯æ•´ä¸ªäº’è”ç½‘çš„æ ¸å¿ƒï¼Œå› æ­¤åº”å½“è®©ç½‘ç»œå±‚å°½å¯èƒ½ç®€å•ã€‚ç½‘ç»œå±‚å‘ä¸Šåªæä¾›ç®€å•çµæ´»çš„ã€æ— è¿æ¥çš„ã€å°½æœ€å¤§åŠªåŠ›äº¤äº’çš„æ•°æ®æŠ¥æœåŠ¡ã€‚ä½¿ç”¨ IP åè®®ï¼Œå¯ä»¥æŠŠå¼‚æ„çš„ç‰©ç†ç½‘ç»œè¿æ¥èµ·æ¥ï¼Œä½¿å¾—åœ¨ç½‘ç»œå±‚çœ‹èµ·æ¥å¥½åƒæ˜¯ä¸€ä¸ªç»Ÿä¸€çš„ç½‘ç»œã€‚ TCP/IPåè®®æ ˆ IPåœ°å€ç¼–å€ç‚¹åˆ†åè¿›åˆ¶è®°æ³•ï¼š åˆ†ç±»ï¼š ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œç½‘ç»œå·å’Œä¸»æœºå·ï¼Œå…¶ä¸­ä¸åŒåˆ†ç±»å…·æœ‰ä¸åŒçš„ç½‘ç»œå·é•¿åº¦ï¼Œå¹¶ä¸”æ˜¯å›ºå®šçš„ã€‚IP åœ°å€ ::= {&lt; ç½‘ç»œå· &gt;, &lt; ä¸»æœºå· &gt;} 1-126ï¼šAç±»åœ°å€ï¼Œ127æ˜¯æœ¬æœºåœ°å€ï¼›128-191ï¼šBç±»åœ°å€ï¼›192-223ï¼šCç±»åœ°å€ï¼›224-240ï¼šDç±»åœ°å€ï¼› ç‰¹æ®Šçš„å‡ ä¸ªåœ°å€ï¼š127.0.0.1 æœ¬åœ°ç¯å›åœ°å€ï¼›169.254.0.0 windowsé“¾æ¥å¤±è´¥è‡ªåŠ¨åˆ†é…çš„åœ°å€ï¼›10.0.0.0 ä¿ç•™çš„ç§ç½‘åœ°å€ï¼›172.16.0.0 â€” 172.31.0.0 ä¿ç•™çš„ç§ç½‘åœ°å€ï¼›192.168.0.0 â€” 192.168.255.0 ä¿ç•™çš„ç§ç½‘åœ°å€ï¼› åˆ’åˆ†å­ç½‘ï¼š é€šè¿‡åœ¨ä¸»æœºå·å­—æ®µä¸­æ‹¿ä¸€éƒ¨åˆ†ä½œä¸ºå­ç½‘å·ï¼ŒæŠŠä¸¤çº§ IP åœ°å€åˆ’åˆ†ä¸ºä¸‰çº§ IP åœ°å€ã€‚åˆ’åˆ†å­ç½‘çº¯å±ä¸€ä¸ªå•ä½å†…éƒ¨çš„äº‹æƒ…ã€‚å•ä½å¯¹å¤–ä»ç„¶è¡¨ç°ä¸ºæ²¡æœ‰åˆ’åˆ†å­ç½‘çš„ç½‘ç»œã€‚ IP åœ°å€ ::= {&lt; ç½‘ç»œå· &gt;, &lt; å­ç½‘å· &gt;, &lt; ä¸»æœºå· &gt;} è¦ä½¿ç”¨å­ç½‘ï¼Œå¿…é¡»é…ç½®å­ç½‘æ©ç ã€‚ä¾‹å¦‚ï¼šä¸€ä¸ª C ç±»åœ°å€çš„é»˜è®¤å­ç½‘æ©ç ä¸º 255.255.255.0ï¼Œå¦‚æœ B ç±»åœ°å€çš„å­ç½‘å ä¸¤ä¸ªæ¯”ç‰¹ï¼Œé‚£ä¹ˆå­ç½‘æ©ç ä¸º11111111 11111111 11111111 11000000ï¼Œä¹Ÿå°±æ˜¯ 255.255.255.192ã€‚ æ³¨æ„ï¼šå¤–éƒ¨ç½‘ç»œçœ‹ä¸åˆ°å­ç½‘çš„å­˜åœ¨ã€‚ æ„é€ è¶…ç½‘(æ— åˆ†ç±»CIDR)ï¼š CIDR æ¶ˆé™¤äº†ä¼ ç»Ÿçš„ A ç±»ã€B ç±»å’Œ C ç±»åœ°å€ä»¥åŠåˆ’åˆ†å­ç½‘çš„æ¦‚å¿µï¼Œå› è€Œå¯ä»¥æ›´åŠ æœ‰æ•ˆåœ°åˆ†é… IPv4 çš„åœ°å€ç©ºé—´ã€‚ CIDRä½¿ç”¨å„ç§é•¿åº¦çš„â€œç½‘ç»œå‰ç¼€â€(network-prefix)æ¥ä»£æ›¿åˆ†ç±»åœ°å€ä¸­çš„ç½‘ç»œå·å’Œå­ç½‘å·ã€‚ä»ä¸‰çº§ç¼–å€ï¼ˆä½¿ç”¨å­ç½‘æ©ç ï¼‰åˆå›åˆ°äº†ä¸¤çº§ç¼–å€ã€‚ IPåœ°å€ ::= {&lt;ç½‘ç»œå‰ç¼€&gt;, &lt;ä¸»æœºå·&gt;} ä¸€ä¸ª CIDR åœ°å€å—å¯ä»¥è¡¨ç¤ºå¾ˆå¤šåœ°å€ï¼Œè¿™ç§åœ°å€çš„èšåˆå¸¸ç§°ä¸ºè·¯ç”±èšåˆï¼Œå®ƒä½¿å¾—è·¯ç”±è¡¨ä¸­çš„ä¸€ä¸ªé¡¹ç›®å¯ä»¥è¡¨ç¤ºå¾ˆå¤šä¸ªï¼ˆä¾‹å¦‚ä¸Šåƒä¸ªï¼‰åŸæ¥ä¼ ç»Ÿåˆ†ç±»åœ°å€çš„è·¯ç”±ã€‚è·¯ç”±èšåˆä¹Ÿç§°ä¸ºæ„æˆè¶…ç½‘(supernetting)ã€‚ CIDR è™½ç„¶ä¸ä½¿ç”¨å­ç½‘äº†ï¼Œä½†ä»ç„¶ä½¿ç”¨â€œæ©ç â€è¿™ä¸€åè¯ï¼ˆä½†ä¸å«å­ç½‘æ©ç ï¼‰ã€‚ åœ¨è·¯ç”±è¡¨ä¸­çš„é¡¹ç›®ç”±â€œç½‘ç»œå‰ç¼€â€å’Œâ€œä¸‹ä¸€è·³åœ°å€â€ç»„æˆï¼Œåœ¨æŸ¥æ‰¾æ—¶å¯èƒ½ä¼šå¾—åˆ°ä¸æ­¢ä¸€ä¸ªåŒ¹é…ç»“æœï¼Œåº”å½“é‡‡ç”¨æœ€é•¿å‰ç¼€åŒ¹é…æ¥ç¡®å®šåº”è¯¥åŒ¹é…å“ªä¸€ä¸ªã€‚ è®¡ç®—æœºAåˆ°Bçš„é€šä¿¡è¿‡ç¨‹ï¼š ARPåè®® ä¸ç®¡ç½‘ç»œå±‚ä½¿ç”¨çš„æ˜¯ä»€ä¹ˆåè®®ï¼Œåœ¨å®é™…ç½‘ç»œçš„é“¾è·¯ä¸Šä¼ é€æ•°æ®å¸§æ—¶ï¼Œæœ€ç»ˆè¿˜æ˜¯å¿…é¡»ä½¿ç”¨ç¡¬ä»¶åœ°å€ã€‚ æ¯ä¸€ä¸ªä¸»æœºéƒ½è®¾æœ‰ä¸€ä¸ª ARP é«˜é€Ÿç¼“å­˜(ARP cache)ï¼Œé‡Œé¢æœ‰æ‰€åœ¨çš„å±€åŸŸç½‘ä¸Šçš„å„ä¸»æœºå’Œè·¯ç”±å™¨çš„ IP åœ°å€åˆ°ç¡¬ä»¶åœ°å€çš„æ˜ å°„è¡¨ã€‚ å½“ä¸»æœº A æ¬²å‘æœ¬å±€åŸŸç½‘ä¸Šçš„æŸä¸ªä¸»æœº B å‘é€ IP æ•°æ®æŠ¥æ—¶ï¼Œå°±å…ˆåœ¨å…¶ ARP é«˜é€Ÿç¼“å­˜ä¸­æŸ¥çœ‹æœ‰æ— ä¸»æœº B çš„ IP åœ°å€ã€‚å¦‚æœ‰ï¼Œå°±å¯æŸ¥å‡ºå…¶å¯¹åº”çš„ç¡¬ä»¶åœ°å€ï¼Œå†å°†æ­¤ç¡¬ä»¶åœ°å€å†™å…¥ MAC å¸§ï¼Œç„¶åé€šè¿‡å±€åŸŸç½‘å°†è¯¥ MAC å¸§å‘å¾€æ­¤ç¡¬ä»¶åœ°å€ã€‚ æ³¨æ„ï¼šARP æ˜¯è§£å†³åŒä¸€ä¸ªå±€åŸŸç½‘ä¸Šçš„ä¸»æœºæˆ–è·¯ç”±å™¨çš„ IP åœ°å€å’Œç¡¬ä»¶åœ°å€çš„æ˜ å°„é—®é¢˜ã€‚å¦‚æœæ‰€è¦æ‰¾çš„ä¸»æœºå’Œæºä¸»æœºä¸åœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ä¸Šï¼Œé‚£ä¹ˆå°±è¦é€šè¿‡ ARP æ‰¾åˆ°ä¸€ä¸ªä½äºæœ¬å±€åŸŸç½‘ä¸Šçš„æŸä¸ªè·¯ç”±å™¨çš„ç¡¬ä»¶åœ°å€ï¼Œç„¶åæŠŠåˆ†ç»„å‘é€ç»™è¿™ä¸ªè·¯ç”±å™¨ï¼Œè®©è¿™ä¸ªè·¯ç”±å™¨æŠŠåˆ†ç»„è½¬å‘ç»™ä¸‹ä¸€ä¸ªç½‘ç»œã€‚å‰©ä¸‹çš„å·¥ä½œå°±ç”±ä¸‹ä¸€ä¸ªç½‘ç»œæ¥åšã€‚ IPæ•°æ®åŒ… ä¸€ä¸ª IP æ•°æ®åŒ…ç”±é¦–éƒ¨å’Œæ•°æ®ä¸¤éƒ¨åˆ†ç»„æˆã€‚ é¦–éƒ¨çš„å‰ä¸€éƒ¨åˆ†æ˜¯å›ºå®šé•¿åº¦ï¼Œå…± 20 å­—èŠ‚ï¼Œæ˜¯æ‰€æœ‰ IP æ•°æ®æŠ¥å¿…é¡»å…·æœ‰çš„ã€‚ åœ¨é¦–éƒ¨çš„å›ºå®šéƒ¨åˆ†çš„åé¢æ˜¯ä¸€äº›å¯é€‰å­—æ®µï¼Œå…¶é•¿åº¦æ˜¯å¯å˜çš„ã€‚ ç‰ˆæœ¬â€”â€”å  4 ä½ï¼šæŒ‡ IP åè®®çš„ç‰ˆæœ¬ï¼š4ï¼ˆIPv4ï¼‰å’Œ 6ï¼ˆIPv6ï¼‰ é¦–éƒ¨é•¿åº¦â€”â€”å  4 ä½ï¼šå¯è¡¨ç¤ºçš„æœ€å¤§æ•°å€¼ï¼Œæ˜¯ 15 ä¸ªå•ä½(ä¸€ä¸ªå•ä½ä¸º 4 å­—èŠ‚)ï¼Œå› æ­¤ IP çš„é¦–éƒ¨é•¿åº¦çš„æœ€å¤§å€¼æ˜¯ 60 å­—èŠ‚ã€‚ åŒºåˆ†æœåŠ¡â€”â€”å  8 ä½ï¼šç”¨æ¥è·å¾—æ›´å¥½çš„æœåŠ¡ï¼Œåœ¨ä¸€èˆ¬çš„æƒ…å†µä¸‹éƒ½ä¸ä½¿ç”¨è¿™ä¸ªå­—æ®µ ã€‚ æ€»é•¿åº¦â€”â€”å  16 ä½ï¼šæŒ‡é¦–éƒ¨å’Œæ•°æ®ä¹‹å’Œçš„é•¿åº¦ï¼Œå•ä½ä¸ºå­—èŠ‚ï¼Œå› æ­¤æ•°æ®æŠ¥çš„æœ€å¤§é•¿åº¦ä¸º 65535 å­—èŠ‚ã€‚æ€»é•¿åº¦å¿…é¡»ä¸è¶…è¿‡æœ€å¤§ä¼ é€å•å…ƒ MTUã€‚ æ ‡è¯†â€”â€”å  16 ä½ï¼šå®ƒæ˜¯ä¸€ä¸ªè®¡æ•°å™¨ï¼Œç”¨æ¥äº§ç”Ÿæ•°æ®æŠ¥çš„æ ‡è¯†ã€‚ æ ‡å¿—â€”â€”å  3 ä½ï¼šç›®å‰åªæœ‰å‰ä¸¤ä½æœ‰æ„ä¹‰ã€‚ ç”Ÿå­˜æ—¶é—´â€”â€”å  8 ä½ï¼šè®°ä¸º TTL (Time To Live)ï¼Œæ•°æ®æŠ¥åœ¨ç½‘ç»œä¸­å¯é€šè¿‡çš„è·¯ç”±å™¨ä¸ªæ•°çš„æœ€å¤§å€¼ã€‚ åè®®â€”â€”å  8 ä½ï¼šè¯¥å­—æ®µæŒ‡å‡ºæ­¤æ•°æ®æŠ¥æºå¸¦çš„æ•°æ®ä½¿ç”¨ä½•ç§åè®®ä»¥ä¾¿ç›®çš„ä¸»æœºçš„ IP å±‚å°†æ•°æ®éƒ¨åˆ†ä¸Šäº¤ç»™å“ªä¸ªå¤„ç†è¿‡ç¨‹ã€‚ é¦–éƒ¨æ£€éªŒå’Œâ€”â€”å  16 ä½ï¼šå› ä¸ºæ•°æ®æŠ¥æ¯ç»è¿‡ä¸€ä¸ªè·¯ç”±å™¨ï¼Œéƒ½è¦é‡æ–°è®¡ç®—æ£€éªŒå’Œï¼Œå› æ­¤æ£€éªŒå’Œä¸åŒ…å«æ•°æ®éƒ¨åˆ†å¯ä»¥å‡å°‘è®¡ç®—çš„å·¥ä½œé‡(ç®€å•è®¡ç®—)ã€‚ æºåœ°å€å’Œç›®çš„åœ°å€â€”â€”å  32 ä½ï¼šéƒ½å„å  4 å­—èŠ‚ã€‚ ç‰‡åç§»â€”â€”å  312ä½ï¼šè¾ƒé•¿çš„åˆ†ç»„åœ¨åˆ†ç‰‡åæŸç‰‡åœ¨åŸåˆ†ç»„ä¸­çš„ç›¸å¯¹ä½ç½®ã€‚ç‰‡åç§»ä»¥ 8 ä¸ªå­—èŠ‚ä¸ºåç§»å•ä½ã€‚ æ³¨æ„ï¼šIP é¦–éƒ¨çš„å¯å˜éƒ¨åˆ†å°±æ˜¯ä¸€ä¸ªé€‰é¡¹å­—æ®µï¼Œç”¨æ¥æ”¯æŒæ’é”™ã€æµ‹é‡ä»¥åŠå®‰å…¨ç­‰æªæ–½ï¼Œå†…å®¹å¾ˆä¸°å¯Œã€‚é€‰é¡¹å­—æ®µçš„é•¿åº¦å¯å˜ï¼Œä» 1 ä¸ªå­—èŠ‚åˆ° 40 ä¸ªå­—èŠ‚ä¸ç­‰ï¼Œå–å†³äºæ‰€é€‰æ‹©çš„é¡¹ç›®ã€‚å¢åŠ é¦–éƒ¨çš„å¯å˜éƒ¨åˆ†æ˜¯ä¸ºäº†å¢åŠ  IP æ•°æ®æŠ¥çš„åŠŸèƒ½ï¼Œä½†è¿™åŒæ—¶ä¹Ÿä½¿å¾— IP æ•°æ®æŠ¥çš„é¦–éƒ¨é•¿åº¦æˆä¸ºå¯å˜çš„ã€‚è¿™å°±å¢åŠ äº†æ¯ä¸€ä¸ªè·¯ç”±å™¨å¤„ç†æ•°æ®æŠ¥çš„å¼€é”€ã€‚å®é™…ä¸Šè¿™äº›é€‰é¡¹å¾ˆå°‘è¢«ä½¿ç”¨ã€‚ IPè½¬å‘åˆ†ç»„ è·¯ç”±å°±æ˜¯è·¯ç”±å™¨ä»ä¸€ä¸ªç½‘æ®µåˆ°å¦å¤–ä¸€ä¸ªç½‘æ®µè½¬å‘æ•°æ®åŒ…çš„è¿‡ç¨‹ï¼Œå³æ•°æ®åŒ…é€šè¿‡è·¯ç”±å™¨è½¬å‘ï¼Œå°±æ˜¯æ•°æ®è·¯ç”±ã€‚ ç½‘ç»œç•…é€šæ¡ä»¶ï¼Œè¦æ±‚æ•°æ®åŒ…å¿…é¡»èƒ½å¤Ÿåˆ°è¾¾ç›®æ ‡åœ°å€ï¼ŒåŒæ—¶æ•°æ®åŒ…å¿…é¡»èƒ½å¤Ÿè¿”å›å‘é€åœ°å€ã€‚(æœ‰å»æœ‰å›) è¿™å°±è¦æ±‚æ²¿é€”ç»è¿‡çš„è·¯ç”±å™¨å¿…é¡»çŸ¥é“åˆ°ç›®æ ‡ç½‘ç»œå¦‚ä½•è½¬å‘æ•°æ®åŒ…ï¼Œå³åˆ°è¾¾ç›®çš„ç½‘ç»œä¸‹ä¸€è·³è½¬å‘ç»™å“ªä¸ªè·¯ç”±å™¨ï¼Œä¹Ÿå°±æ˜¯å¿…é¡»æœ‰åˆ°è¾¾ç›®æ ‡ç½‘ç»œçš„è·¯ç”±ï¼Œæ²¿é€”çš„è·¯ç”±å™¨è¿˜å¿…é¡»æœ‰æ•°æ®åŒ…è¿”å›æ‰€éœ€çš„è·¯ç”±ã€‚ æ³¨æ„ï¼šIP æ•°æ®æŠ¥çš„é¦–éƒ¨ä¸­æ²¡æœ‰åœ°æ–¹å¯ä»¥ç”¨æ¥æŒ‡æ˜â€œä¸‹ä¸€è·³è·¯ç”±å™¨çš„ IP åœ°å€â€ã€‚å½“è·¯ç”±å™¨æ”¶åˆ°å¾…è½¬å‘çš„æ•°æ®æŠ¥ï¼Œä¸æ˜¯å°†ä¸‹ä¸€è·³è·¯ç”±å™¨çš„ IP åœ°å€å¡«å…¥ IP æ•°æ®æŠ¥ï¼Œè€Œæ˜¯é€äº¤ä¸‹å±‚çš„ç½‘ç»œæ¥å£è½¯ä»¶ã€‚ç½‘ç»œæ¥å£è½¯ä»¶ä½¿ç”¨ ARP è´Ÿè´£å°†ä¸‹ä¸€è·³è·¯ç”±å™¨çš„ IP åœ°å€è½¬æ¢æˆç¡¬ä»¶åœ°å€ï¼Œå¹¶å°†æ­¤ç¡¬ä»¶åœ°å€æ”¾åœ¨é“¾è·¯å±‚çš„ MAC å¸§çš„é¦–éƒ¨ï¼Œç„¶åæ ¹æ®è¿™ä¸ªç¡¬ä»¶åœ°å€æ‰¾åˆ°ä¸‹ä¸€è·³è·¯ç”±å™¨ã€‚ ç½‘é™…æ§åˆ¶æŠ¥æ–‡åè®® ICMP ICMP æ˜¯ä¸ºäº†æ›´æœ‰æ•ˆåœ°è½¬å‘ IP æ•°æ®æŠ¥å’Œæé«˜äº¤ä»˜æˆåŠŸçš„æœºä¼šã€‚å®ƒå°è£…åœ¨ IP æ•°æ®æŠ¥ä¸­ï¼ŒICMP æŠ¥æ–‡ä½œä¸º IP å±‚æ•°æ®æŠ¥çš„æ•°æ®ï¼ŒåŠ ä¸Šæ•°æ®æŠ¥çš„é¦–éƒ¨ï¼Œç»„æˆ IP æ•°æ®æŠ¥å‘é€å‡ºå»ã€‚ICMP ä¸æ˜¯é«˜å±‚åè®®ï¼Œè€Œæ˜¯ IP å±‚çš„åè®®ã€‚ ICMP æŠ¥æ–‡çš„ç§ç±»æœ‰ä¸¤ç§ï¼Œå³ ICMP å·®é”™æŠ¥å‘ŠæŠ¥æ–‡å’Œ ICMP è¯¢é—®æŠ¥æ–‡ã€‚ ICMP æŠ¥æ–‡çš„å‰ 4 ä¸ªå­—èŠ‚æ˜¯ç»Ÿä¸€çš„æ ¼å¼ï¼Œå…±æœ‰ä¸‰ä¸ªå­—æ®µï¼šå³ç±»å‹ã€ä»£ç å’Œæ£€éªŒå’Œã€‚æ¥ç€çš„ 4 ä¸ªå­—èŠ‚çš„å†…å®¹ä¸ ICMP çš„ç±»å‹æœ‰å…³ã€‚ å‡ ç§å¸¸è§çš„ICMPæŠ¥æ–‡ç±»å‹ï¼š Pingï¼šç”¨æ¥æµ‹è¯•ä¸¤ä¸ªä¸»æœºä¹‹é—´çš„è¿é€šæ€§ï¼›æ˜¯åº”ç”¨å±‚ç›´æ¥ä½¿ç”¨ç½‘ç»œå±‚ ICMP çš„ä¾‹å­ï¼Œå®ƒæ²¡æœ‰é€šè¿‡è¿è¾“å±‚çš„ TCP æˆ–UDPï¼› Tracerouteï¼š æ˜¯ ICMP çš„å¦ä¸€ä¸ªåº”ç”¨ï¼Œç”¨æ¥è·Ÿè¸ªä¸€ä¸ªåˆ†ç»„ä»æºç‚¹åˆ°ç»ˆç‚¹çš„è·¯å¾„ï¼Œå‘é€çš„ IP æ•°æ®æŠ¥å°è£…çš„æ˜¯æ— æ³•äº¤ä»˜çš„ UDP ç”¨æˆ·æ•°æ®æŠ¥ï¼Œå¹¶ç”±ç›®çš„ä¸»æœºå‘é€ç»ˆç‚¹ä¸å¯è¾¾å·®é”™æŠ¥å‘ŠæŠ¥æ–‡ï¼› è·¯ç”±é€‰æ‹©åè®®åŸºæœ¬æ¦‚å¿µï¼šä»è·¯ç”±ç®—æ³•çš„è‡ªé€‚åº”æ€§è€ƒè™‘å¯åˆ†ä¸ºï¼šé™æ€è·¯ç”±é€‰æ‹©ç­–ç•¥å’ŒåŠ¨æ€è·¯ç”±é€‰æ‹©ç­–ç•¥ï¼š é™æ€è·¯ç”±é€‰æ‹©ç­–ç•¥â€”â€”å³éè‡ªé€‚åº”è·¯ç”±é€‰æ‹©ï¼Œå…¶ç‰¹ç‚¹æ˜¯ç®€å•å’Œå¼€é”€è¾ƒå°ï¼Œä½†ä¸èƒ½åŠæ—¶é€‚åº”ç½‘ç»œçŠ¶æ€çš„å˜åŒ–ã€‚ åŠ¨æ€è·¯ç”±é€‰æ‹©ç­–ç•¥â€”â€”å³è‡ªé€‚åº”è·¯ç”±é€‰æ‹©ï¼Œå…¶ç‰¹ç‚¹æ˜¯èƒ½è¾ƒå¥½åœ°é€‚åº”ç½‘ç»œçŠ¶æ€çš„å˜åŒ–ï¼Œä½†å®ç°èµ·æ¥è¾ƒä¸ºå¤æ‚ï¼Œå¼€é”€ä¹Ÿæ¯”è¾ƒå¤§ã€‚ è·¯ç”±é€‰æ‹©åè®®éƒ½æ˜¯è‡ªé€‚åº”çš„ï¼Œèƒ½éšç€ç½‘ç»œé€šä¿¡é‡å’Œæ‹“æ‰‘ç»“æ„çš„å˜åŒ–è€Œè‡ªé€‚åº”åœ°è¿›è¡Œè°ƒæ•´ã€‚äº’è”ç½‘å¯ä»¥åˆ’åˆ†ä¸ºè®¸å¤šè¾ƒå°çš„è‡ªæ²»ç³»ç»Ÿ ASï¼Œä¸€ä¸ª AS å¯ä»¥ä½¿ç”¨ä¸€ç§å’Œåˆ«çš„ AS ä¸åŒçš„è·¯ç”±é€‰æ‹©åè®®ã€‚å¯ä»¥æŠŠè·¯ç”±é€‰æ‹©åè®®åˆ’åˆ†ä¸ºä¸¤å¤§ç±»ï¼š è‡ªæ²»ç³»ç»Ÿå†…éƒ¨çš„è·¯ç”±é€‰æ‹©ï¼šRIP å’Œ OSPFï¼› è‡ªæ²»ç³»ç»Ÿé—´çš„è·¯ç”±é€‰æ‹©ï¼šBGP å†…éƒ¨ç½‘å…³åè®® RIPï¼š RIPæ˜¯ä¸€ç§åˆ†å¸ƒå¼çš„åŸºäºè·ç¦»å‘é‡çš„è·¯ç”±é€‰æ‹©åè®®ï¼ŒRIP åè®®ä¸­çš„è·ç¦»å³ä¸ºè·³æ•°ï¼ŒRIPå…è®¸ä¸€æ¡è·¯å¾„æœ€å¤šåªèƒ½åŒ…å« 15 ä¸ªè·¯ç”±å™¨ã€‚è·³æ•°çš„æœ€å¤§å€¼ä¸º16 æ—¶ç›¸å½“äºä¸å¯è¾¾ã€‚å¯è§RIPåªé€‚ç”¨äºå°å‹äº’è”ç½‘ã€‚ RIPåè®®çš„ä¸‰ä¸ªè¦ç‚¹ï¼š1.ä»…å’Œç›¸é‚»è·¯ç”±å™¨äº¤æ¢ä¿¡æ¯ï¼›2.äº¤æ¢çš„ä¿¡æ¯æ˜¯å½“å‰æœ¬è·¯ç”±å™¨æ‰€çŸ¥é“çš„å…¨éƒ¨ä¿¡æ¯ï¼Œå³è‡ªå·±çš„è·¯ç”±è¡¨ï¼›3.æŒ‰å›ºå®šçš„æ—¶é—´é—´éš”(30ç§’)äº¤æ¢è·¯ç”±ä¿¡æ¯ï¼› ä¼˜ç¼ºç‚¹ï¼šä¼˜ç‚¹ï¼šRIP åè®®å®ç°ç®€å•ï¼Œå¼€é”€å°ã€‚ç¼ºç‚¹ï¼šä½†æ˜¯ RIP èƒ½ä½¿ç”¨çš„æœ€å¤§è·ç¦»ä¸º 15ï¼Œé™åˆ¶äº†ç½‘ç»œçš„è§„æ¨¡ï¼›å¹¶ä¸”å½“ç½‘ç»œå‡ºç°æ•…éšœæ—¶ï¼Œè¦ç»è¿‡æ¯”è¾ƒé•¿çš„æ—¶é—´æ‰èƒ½å°†æ­¤æ¶ˆæ¯ä¼ é€åˆ°æ‰€æœ‰è·¯ç”±å™¨ï¼›åŒæ—¶ä»…åŸºäºè·³æ•°é€‰æ‹©æœ€ä½³è·¯ç”±ä¹Ÿä¸å¤Ÿåˆç†ï¼› å†…éƒ¨ç½‘å…³åè®® OSPF(Open Shortest Path First) åŸºæœ¬ç‰¹ç‚¹ï¼š1.â€œå¼€æ”¾â€è¡¨æ˜ OSPF åè®®ä¸æ˜¯å—æŸä¸€å®¶å‚å•†æ§åˆ¶ï¼Œè€Œæ˜¯å…¬å¼€å‘è¡¨çš„;2.â€œæœ€çŸ­è·¯å¾„ä¼˜å…ˆâ€æ˜¯å› ä¸ºä½¿ç”¨äº† Dijkstra æå‡ºçš„æœ€çŸ­è·¯å¾„ç®—æ³•SPF; ä¸‰ä¸ªè¦ç‚¹ :1.å‘æœ¬è‡ªæ²»ç³»ç»Ÿä¸­æ‰€æœ‰è·¯ç”±å™¨å‘é€ä¿¡æ¯ï¼Œä½¿ç”¨çš„æ–¹æ³•æ˜¯æ´ªæ³›æ³•ã€‚2.å‘é€çš„ä¿¡æ¯å°±æ˜¯ä¸æœ¬è·¯ç”±å™¨ç›¸é‚»çš„æ‰€æœ‰è·¯ç”±å™¨çš„é“¾è·¯çŠ¶æ€ï¼Œä½†è¿™åªæ˜¯è·¯ç”±å™¨æ‰€çŸ¥é“çš„éƒ¨åˆ†ä¿¡æ¯ã€‚3.åªæœ‰å½“é“¾è·¯çŠ¶æ€å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè·¯ç”±å™¨æ‰ç”¨æ´ªæ³›æ³•å‘æ‰€æœ‰è·¯ç”±å™¨å‘é€æ­¤ä¿¡æ¯ã€‚ OSPF èƒ½å¤Ÿç”¨äºè§„æ¨¡å¾ˆå¤§çš„ç½‘ï¼Œçš„æ›´æ–°è¿‡ç¨‹æ”¶æ•›å¾—å¿«; å¤–éƒ¨ç½‘å…³åè®® BGP BGP æ˜¯ä¸åŒè‡ªæ²»ç³»ç»Ÿçš„è·¯ç”±å™¨ä¹‹é—´äº¤æ¢è·¯ç”±ä¿¡æ¯çš„åè®®ã€‚ å› ç‰¹ç½‘çš„è§„æ¨¡å¤ªå¤§ï¼Œä½¿å¾—è‡ªæ²»ç³»ç»Ÿä¹‹é—´è·¯ç”±é€‰æ‹©éå¸¸å›°éš¾ï¼› è¾¹ç•Œç½‘å…³åè®® BGP åªèƒ½æ˜¯åŠ›æ±‚å¯»æ‰¾ä¸€æ¡èƒ½å¤Ÿåˆ°è¾¾ç›®çš„ç½‘ç»œä¸”æ¯”è¾ƒå¥½çš„è·¯ç”±ï¼ˆä¸èƒ½å…œåœˆå­ï¼‰ï¼Œè€Œå¹¶éè¦å¯»æ‰¾ä¸€æ¡æœ€ä½³è·¯ç”±ï¼› æ¯ä¸ª AS éƒ½å¿…é¡»é…ç½® BGP å‘è¨€äººï¼Œé€šè¿‡åœ¨ä¸¤ä¸ªç›¸é‚» BGP å‘è¨€äººä¹‹é—´å»ºç«‹ TCP è¿æ¥æ¥äº¤æ¢è·¯ç”±ä¿¡æ¯ã€‚ è™šæ‹Ÿä¸“ç”¨ç½‘VPNä¸“ç”¨ç½‘æ®µï¼š10.0.0.0 åˆ° 10.255.255.255172.16.0.0 åˆ° 172.31.255.255192.168.0.0 åˆ° 192.168.255.255 è¿™äº›åœ°å€åªèƒ½ç”¨äºä¸€ä¸ªæœºæ„çš„å†…éƒ¨é€šä¿¡ï¼Œè€Œä¸èƒ½ç”¨äºå’Œå› ç‰¹ç½‘ä¸Šçš„ä¸»æœºé€šä¿¡ã€‚ ä¸‹å›¾ä¸­ï¼Œåœºæ‰€ A å’Œ B çš„é€šä¿¡ç»è¿‡äº’è”ç½‘ï¼Œå¦‚æœåœºæ‰€ A çš„ä¸»æœº X è¦å’Œå¦ä¸€ä¸ªåœºæ‰€ B çš„ä¸»æœº Y é€šä¿¡ï¼ŒIP æ•°æ®æŠ¥çš„æºåœ°å€æ˜¯ 10.1.0.1ï¼Œç›®çš„åœ°å€æ˜¯ 10.2.0.3ã€‚æ•°æ®æŠ¥å…ˆå‘é€åˆ°ä¸äº’è”ç½‘ç›¸è¿çš„è·¯ç”±å™¨ R1ï¼ŒR1 å¯¹å†…éƒ¨æ•°æ®è¿›è¡ŒåŠ å¯†ï¼Œç„¶åé‡æ–°åŠ ä¸Šæ•°æ®æŠ¥çš„é¦–éƒ¨ï¼Œæºåœ°å€æ˜¯è·¯ç”±å™¨ R1 çš„å…¨çƒåœ°å€ 125.1.2.3ï¼Œç›®çš„åœ°å€æ˜¯è·¯ç”±å™¨ R2 çš„å…¨çƒåœ°å€ 194.4.5.6ã€‚è·¯ç”±å™¨ R2 æ”¶åˆ°æ•°æ®æŠ¥åå°†æ•°æ®éƒ¨åˆ†è¿›è¡Œè§£å¯†ï¼Œæ¢å¤åŸæ¥çš„æ•°æ®æŠ¥ï¼Œæ­¤æ—¶ç›®çš„åœ°å€ä¸º 10.2.0.3ï¼Œå°±äº¤ä»˜ç»™ Yã€‚ ç½‘ç»œåœ°å€è½¬æ¢NATéœ€è¦åœ¨ä¸“ç”¨ç½‘è¿æ¥åˆ°å› ç‰¹ç½‘çš„è·¯ç”±å™¨ä¸Šå®‰è£… NAT è½¯ä»¶ã€‚è£…æœ‰ NAT è½¯ä»¶çš„è·¯ç”±å™¨å«åš NATè·¯ç”±å™¨ï¼Œå®ƒè‡³å°‘æœ‰ä¸€ä¸ªæœ‰æ•ˆçš„å¤–éƒ¨å…¨çƒåœ°å€ IPã€‚ æ‰€æœ‰ä½¿ç”¨æœ¬åœ°åœ°å€çš„ä¸»æœºåœ¨å’Œå¤–ç•Œé€šä¿¡æ—¶éƒ½è¦åœ¨ NAT è·¯ç”±å™¨ä¸Šå°†å…¶æœ¬åœ°åœ°å€è½¬æ¢æˆ IPæ‰èƒ½å’Œå› ç‰¹ç½‘è¿ã€‚ åœ¨ä»¥å‰ï¼ŒNAT å°†æœ¬åœ° IP å’Œå…¨çƒ IP ä¸€ä¸€å¯¹åº”ï¼Œè¿™ç§æ–¹å¼ä¸‹æ‹¥æœ‰ n ä¸ªå…¨çƒ IP åœ°å€çš„ä¸“ç”¨ç½‘å†…æœ€å¤šåªå¯ä»¥åŒæ—¶æœ‰ n å°ä¸»æœºæ¥å…¥äº’è”ç½‘ã€‚ä¸ºäº†æ›´æœ‰æ•ˆåœ°åˆ©ç”¨å…¨çƒ IP åœ°å€ï¼Œç°åœ¨å¸¸ç”¨çš„ NAT è½¬æ¢è¡¨æŠŠä¼ è¾“å±‚çš„ç«¯å£å·ä¹Ÿç”¨ä¸Šäº†ï¼Œä½¿å¾—å¤šä¸ªä¸“ç”¨ç½‘å†…éƒ¨çš„ä¸»æœºå…±ç”¨ä¸€ä¸ªå…¨çƒ IP åœ°å€ã€‚ä½¿ç”¨ç«¯å£å·çš„ NAT ä¹Ÿå«åšç½‘ç»œåœ°å€ä¸ç«¯å£è½¬æ¢ NAPTã€‚ Internetç»„æ’­ç®¡ç†åè®® IGMP å½“æŸä¸ªä¸»æœºåŠ å…¥æ–°çš„å¤šæ’­ç»„æ—¶ï¼Œè¯¥ä¸»æœºåº”å‘å¤šæ’­ç»„çš„å¤šæ’­åœ°å€å‘é€IGMP æŠ¥æ–‡ï¼Œå£°æ˜è‡ªå·±è¦æˆä¸ºè¯¥ç»„çš„æˆå‘˜ã€‚æœ¬åœ°çš„å¤šæ’­è·¯ç”±å™¨æ”¶åˆ° IGMP æŠ¥æ–‡åï¼Œå°†ç»„æˆå‘˜å…³ç³»è½¬å‘ç»™å› ç‰¹ç½‘ä¸Šçš„å…¶ä»–å¤šæ’­è·¯ç”±å™¨ã€‚ å› ä¸ºç»„æˆå‘˜å…³ç³»æ˜¯åŠ¨æ€çš„ï¼Œå› æ­¤æœ¬åœ°å¤šæ’­è·¯ç”±å™¨è¦å‘¨æœŸæ€§åœ°æ¢è¯¢æœ¬åœ°å±€åŸŸç½‘ä¸Šçš„ä¸»æœºï¼Œä»¥ä¾¿çŸ¥é“è¿™äº›ä¸»æœºæ˜¯å¦è¿˜ç»§ç»­æ˜¯ç»„çš„æˆå‘˜ã€‚","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"ç½‘ç»œå±‚","slug":"ç½‘ç»œå±‚","permalink":"https://chrisxb1996.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B1%82/"}]},{"title":"æ•°æ®é“¾è·¯å±‚","slug":"è®¡ç®—æœºç½‘ç»œ/æ•°æ®é“¾è·¯å±‚","date":"2020-05-15T07:05:33.000Z","updated":"2020-05-18T04:47:50.792Z","comments":true,"path":"2020/05/15/è®¡ç®—æœºç½‘ç»œ/æ•°æ®é“¾è·¯å±‚/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/15/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/","excerpt":"åŸºæœ¬é—®é¢˜åŸºæœ¬æ¦‚å¿µï¼š1.ä¸»æœºH1å‘H2å‘é€æ•°æ®ï¼šå±‚æ¬¡ä¸Šæ¥çœ‹ï¼šä»…ä»æ•°æ®é“¾è·¯å±‚è§‚å¯Ÿå¸§çš„æµåŠ¨ï¼š æ³¨æ„ï¼šå¯ä»¥çœ‹åˆ°è·¯ç”±å™¨åªåˆ°ç½‘ç»œå±‚(ä¸‰å±‚åè®®)ï¼Œæ²¡æœ‰åº”ç”¨å±‚ï¼Œå’Œä¼ è¾“å±‚ï¼›","text":"åŸºæœ¬é—®é¢˜åŸºæœ¬æ¦‚å¿µï¼š1.ä¸»æœºH1å‘H2å‘é€æ•°æ®ï¼šå±‚æ¬¡ä¸Šæ¥çœ‹ï¼šä»…ä»æ•°æ®é“¾è·¯å±‚è§‚å¯Ÿå¸§çš„æµåŠ¨ï¼š æ³¨æ„ï¼šå¯ä»¥çœ‹åˆ°è·¯ç”±å™¨åªåˆ°ç½‘ç»œå±‚(ä¸‰å±‚åè®®)ï¼Œæ²¡æœ‰åº”ç”¨å±‚ï¼Œå’Œä¼ è¾“å±‚ï¼› 2.æ•°æ®é“¾è·¯å±‚ä¼ è¾“çš„æ˜¯å¸§ï¼š æ•°æ®é“¾è·¯å±‚çš„ä¸‰ä¸ªåŸºæœ¬ç‚¹ï¼š1.å°è£…æˆå¸§2.é€æ˜ä¼ è¾“3.å·®é”™æ§åˆ¶ å°è£…æˆå¸§ï¼šå°è£…æˆå¸§(framing)å°±æ˜¯åœ¨ä¸€æ®µæ•°æ®çš„å‰ååˆ†åˆ«æ·»åŠ é¦–éƒ¨å’Œå°¾éƒ¨ï¼Œç„¶åå°±æ„æˆäº†ä¸€ä¸ªå¸§ã€‚ç¡®å®šå¸§çš„ç•Œé™ã€‚é¦–éƒ¨å’Œå°¾éƒ¨çš„ä¸€ä¸ªé‡è¦ä½œç”¨å°±æ˜¯è¿›è¡Œå¸§å®šç•Œã€‚ é€æ˜ä¼ è¾“ï¼šå‘é€ç«¯çš„æ•°æ®é“¾è·¯å±‚åœ¨æ•°æ®ä¸­å‡ºç°æ§åˆ¶å­—ç¬¦â€œSOHâ€æˆ–â€œEOTâ€çš„å‰é¢æ’å…¥ä¸€ä¸ªè½¬ä¹‰å­—ç¬¦â€œESCâ€ã€‚å¦‚æœè½¬ä¹‰å­—ç¬¦ä¹Ÿå‡ºç°æ•°æ®å½“ä¸­ï¼Œé‚£ä¹ˆåº”åœ¨è½¬ä¹‰å­—ç¬¦å‰æ’å…¥ä¸€ä¸ªè½¬ä¹‰å­—ç¬¦ã€‚åœ¨æ¥æ”¶ç«¯è¿›è¡Œå¤„ç†ä¹‹åå¯ä»¥è¿˜åŸå‡ºåŸå§‹æ•°æ®ã€‚è¿™ä¸ªè¿‡ç¨‹é€æ˜ä¼ è¾“çš„å†…å®¹æ˜¯è½¬ä¹‰å­—ç¬¦ï¼Œç”¨æˆ·å¯Ÿè§‰ä¸åˆ°è½¬ä¹‰å­—ç¬¦çš„å­˜åœ¨ã€‚ å·®é”™æ§åˆ¶ï¼šåœ¨æ•°æ®é“¾è·¯å±‚ä¼ é€çš„å¸§ä¸­ï¼Œå¹¿æ³›ä½¿ç”¨äº†å¾ªç¯å†—ä½™æ£€éªŒ (CRC) çš„æ£€é”™æŠ€æœ¯ï¼šCRCæ˜¯ä¸€ç§æ— æ¯”ç‰¹å·®é”™ï¼Œè€Œä¸æ˜¯æ— ä¼ è¾“å·®é”™çš„æ£€æµ‹æœºåˆ¶ã€‚å°†å¾—åˆ°çš„FCS(å¸§æ£€éªŒåºåˆ— )æ·»åŠ åœ¨åŸåºåˆ—åé¢ï¼Œåœ¨æ¥æ”¶ç«¯æ£€éªŒï¼šè‹¥å¾—å‡ºçš„ä½™æ•° R = 0ï¼Œåˆ™åˆ¤å®šè¿™ä¸ªå¸§æ²¡æœ‰å·®é”™ï¼Œå°±æ¥å—(accept)ï¼›è‹¥ä½™æ•° R != 0ï¼Œåˆ™åˆ¤å®šè¿™ä¸ªå¸§æœ‰å·®é”™ï¼Œå°±ä¸¢å¼ƒï¼Œåœ¨é«˜å±‚è¿›è¡Œé‡ä¼ æŒ‡ä»¤ã€‚ æ•°æ®é“¾è·¯å±‚çš„ä¿¡é“ç±»å‹ç‚¹å¯¹ç‚¹ä¿¡é“ï¼šä½¿ç”¨ä¸€å¯¹ä¸€çš„ç‚¹å¯¹ç‚¹é€šä¿¡æ–¹å¼ï¼Œä¸ä¼šå‘ç”Ÿç¢°æ’ï¼Œå› æ­¤ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œä½¿ç”¨ PPP åè®®è¿›è¡Œæ§åˆ¶ã€‚PPP åè®®æ˜¯ç”¨æˆ·è®¡ç®—æœºå’Œ ISP è¿›è¡Œé€šä¿¡æ—¶æ‰€ä½¿ç”¨çš„æ•°æ®é“¾è·¯å±‚åè®®ï¼Œæ”¯æŒèº«ä»½éªŒè¯ï¼Œæ”¯æŒå¤šä¸ªç½‘ç»œå±‚åè®®ã€‚PPPåè®®å¸§æ ¼å¼ï¼š1.Aã€Cï¼šåœ¨ç‚¹åˆ°ç‚¹ä¿¡é“æ²¡æœ‰å®é™…æ„ä¹‰ï¼Œå›ºå®šä¸ºï¼šFFã€03ï¼›2.åè®®å­—æ®µ(2å­—èŠ‚)ï¼šç”¨äºæ ‡è¯†ä¿¡æ¯éƒ¨åˆ†æ˜¯ä»€ä¹ˆå†…å®¹ï¼›3.FCS(2å­—èŠ‚)ï¼šè¡¨ç¤ºCRCå¾—åˆ°çš„å¸§æ£€éªŒåºåˆ—ï¼› å¹¿æ’­ä¿¡é“ï¼šè¿™ç§ä¿¡é“ä½¿ç”¨ä¸€å¯¹å¤šçš„å¹¿æ’­é€šä¿¡æ–¹å¼ï¼Œå› æ­¤è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ã€‚å¹¿æ’­ä¿¡é“ä¸Šè¿æ¥çš„ä¸»æœºå¾ˆå¤šï¼Œå› æ­¤å¿…é¡»ä½¿ç”¨ä¸“ç”¨çš„å…±äº«ä¿¡é“åè®®æ¥åè°ƒè¿™äº›ä¸»æœºçš„æ•°æ®å‘é€(éšæœºæ¥å…¥)ï¼šCSMA/CD(è½½æ³¢ç›‘å¬å¤šç‚¹æ¥å…¥/ç¢°æ’æ£€æµ‹) åè®®ï¼šå¤šç‚¹æ¥å…¥ï¼šè¡¨ç¤ºè®¸å¤šè®¡ç®—æœºä»¥å¤šç‚¹æ¥å…¥çš„æ–¹å¼è¿æ¥åœ¨ä¸€æ ¹æ€»çº¿ä¸Šã€‚è½½æ³¢ç›‘å¬ï¼šæ˜¯æŒ‡æ¯ä¸€ä¸ªç«™åœ¨å‘é€æ•°æ®ä¹‹å‰å…ˆè¦æ£€æµ‹ä¸€ä¸‹æ€»çº¿ä¸Šæ˜¯å¦æœ‰å…¶ä»–è®¡ç®—æœºåœ¨å‘é€æ•°æ®ï¼Œå¦‚æœæœ‰ï¼Œåˆ™æš‚æ—¶ä¸è¦å‘é€æ•°æ®ï¼Œä»¥å…å‘ç”Ÿç¢°æ’ã€‚ç¢°æ’æ£€æµ‹ï¼šåœ¨å‘é€ä¸­ï¼Œå¦‚æœç›‘å¬åˆ°ä¿¡é“å·²æœ‰å…¶å®ƒä¸»æœºæ­£åœ¨å‘é€æ•°æ®ï¼Œå°±è¡¨ç¤ºå‘ç”Ÿäº†ç¢°æ’ã€‚è™½ç„¶æ¯ä¸ªä¸»æœºåœ¨å‘é€æ•°æ®ä¹‹å‰éƒ½å·²ç»ç›‘å¬åˆ°ä¿¡é“ä¸ºç©ºé—²ï¼Œä½†æ˜¯ç”±äºä¼ æ’­æ—¶å»¶çš„å­˜åœ¨ï¼Œè¿˜æ˜¯æœ‰å¯èƒ½ä¼šå‘ç”Ÿç¢°æ’ã€‚ è®°ç«¯åˆ°ç«¯çš„ä¼ æ’­æ—¶å»¶ä¸º Ï„ï¼Œæœ€å…ˆå‘é€çš„ç«™ç‚¹æœ€å¤šç»è¿‡ 2Ï„ å°±å¯ä»¥çŸ¥é“æ˜¯å¦å‘ç”Ÿäº†ç¢°æ’ï¼Œç§° 2Ï„ ä¸º äº‰ç”¨æœŸ ã€‚åªæœ‰ç»è¿‡äº‰ç”¨æœŸä¹‹åè¿˜æ²¡æœ‰æ£€æµ‹åˆ°ç¢°æ’ï¼Œæ‰èƒ½è‚¯å®šè¿™æ¬¡å‘é€ä¸ä¼šå‘ç”Ÿç¢°æ’ã€‚ä»¥å¤ªç½‘ä¸­ç»è¿‡è®¡ç®—ï¼Œæœ€çŸ­æœ‰æ•ˆå¸§é•¿ä¸º512bitï¼Œä¹Ÿå°±æ˜¯64ä¸ªå­—èŠ‚ï¼Œè§„å®šå‡¡æ˜¯é•¿åº¦å°äº64å­—èŠ‚çš„å¸§éƒ½æ˜¯æ— æ•ˆå¸§ã€‚å½“å‘ç”Ÿç¢°æ’æ—¶ï¼Œç«™ç‚¹è¦åœæ­¢å‘é€ï¼Œç­‰å¾…ä¸€æ®µæ—¶é—´å†å‘é€ã€‚è¿™ä¸ªæ—¶é—´é‡‡ç”¨ æˆªæ–­äºŒè¿›åˆ¶æŒ‡æ•°é€€é¿ç®—æ³• æ¥ç¡®å®šã€‚ä»ç¦»æ•£çš„æ•´æ•°é›†åˆ {0, 1, .., (2k-1)} ä¸­éšæœºå–å‡ºä¸€ä¸ªæ•°ï¼Œè®°ä½œ rï¼Œç„¶åå– r å€çš„äº‰ç”¨æœŸä½œä¸ºé‡ä¼ ç­‰å¾…æ—¶é—´ã€‚æ³¨æ„ï¼šè¯¥åè®®åªèƒ½(åªèƒ½è¿›è¡ŒåŠåŒå·¥é€šä¿¡)ã€‚ ä»¥å¤ªå±€åŸŸç½‘æ¦‚è¿°ï¼šä»¥å¤ªç½‘æ˜¯ä¸€ç§æ˜Ÿå‹æ‹“æ‰‘ç»“æ„å±€åŸŸç½‘ã€‚æ—©æœŸä½¿ç”¨é›†çº¿å™¨(hub)è¿›è¡Œè¿æ¥ï¼Œé›†çº¿å™¨æ˜¯ä¸€ç§ç‰©ç†å±‚è®¾å¤‡ï¼Œ ä½œç”¨äºæ¯”ç‰¹è€Œä¸æ˜¯å¸§ã€‚ç›®å‰ä»¥å¤ªç½‘ä½¿ç”¨äº¤æ¢æœºæ›¿ä»£äº†é›†çº¿å™¨ï¼Œäº¤æ¢æœºæ˜¯ä¸€ç§é“¾è·¯å±‚è®¾å¤‡ï¼Œå®ƒä¸ä¼šå‘ç”Ÿç¢°æ’ï¼Œèƒ½æ ¹æ® MAC åœ°å€è¿›è¡Œå­˜å‚¨è½¬å‘ã€‚ä»¥å¤ªç½‘æä¾›çš„æœåŠ¡æ˜¯ä¸å¯é çš„äº¤ä»˜ï¼Œå³å°½æœ€å¤§åŠªåŠ›çš„äº¤ä»˜ã€‚å½“æ¥æ”¶ç«™æ”¶åˆ°æœ‰å·®é”™çš„æ•°æ®å¸§æ—¶å°±ä¸¢å¼ƒæ­¤å¸§ï¼Œå…¶ä»–ä»€ä¹ˆä¹Ÿä¸åšã€‚å·®é”™çš„çº æ­£ç”±é«˜å±‚æ¥å†³å®šã€‚å¦‚æœé«˜å±‚å‘ç°ä¸¢å¤±äº†ä¸€äº›æ•°æ®è€Œè¿›è¡Œé‡ä¼ ï¼Œä½†ä»¥å¤ªç½‘å¹¶ä¸çŸ¥é“è¿™æ˜¯ä¸€ä¸ªé‡ä¼ çš„å¸§ï¼Œè€Œæ˜¯å½“ä½œä¸€ä¸ªæ–°çš„æ•°æ®å¸§æ¥å‘é€ã€‚ ä¿¡é“åˆ©ç”¨ç‡ï¼šä¸€ä¸ªå¸§ä»å¼€å§‹å‘é€ï¼Œç»å¯èƒ½å‘ç”Ÿçš„ç¢°æ’åï¼Œå°†å†é‡ä¼ æ•°æ¬¡ï¼Œåˆ°å‘é€æˆåŠŸä¸”ä¿¡é“è½¬ä¸ºç©ºé—²æ—¶ä¸ºæ­¢ï¼Œæ˜¯å‘é€ä¸€å¸§æ‰€éœ€çš„å¹³å‡æ—¶é—´ã€‚ ä¿¡é“åˆ©ç”¨ç‡å¯ä»¥è¡¨ç¤ºä¸ºï¼šT0/å‘é€ä¸€å¸§æ‰€éœ€çš„å¹³å‡æ—¶é—´ã€‚ MACå±‚(æ•°æ®é“¾è·¯å±‚çš„å­å±‚)ï¼šåœ¨å±€åŸŸç½‘ä¸­ï¼Œç¡¬ä»¶åœ°å€åˆç§°ä¸ºç‰©ç†åœ°å€ï¼Œæˆ– MAC åœ°å€ã€‚MAC åœ°å€æ˜¯é“¾è·¯å±‚åœ°å€ï¼Œé•¿åº¦ä¸º 6 å­—èŠ‚ï¼ˆ48 ä½ï¼‰ï¼Œç”¨äºå”¯ä¸€æ ‡è¯†ç½‘ç»œé€‚é…å™¨ï¼ˆç½‘å¡ï¼‰ã€‚ä¸€å°ä¸»æœºæ‹¥æœ‰å¤šå°‘ä¸ªç½‘ç»œé€‚é…å™¨å°±æœ‰å¤šå°‘ä¸ª MAC åœ°å€ã€‚ä¾‹å¦‚ç¬”è®°æœ¬ç”µè„‘æ™®éå­˜åœ¨æ— çº¿ç½‘ç»œé€‚é…å™¨å’Œæœ‰çº¿ç½‘ç»œé€‚é…å™¨ï¼Œå› æ­¤å°±æœ‰ä¸¤ä¸ª MAC åœ°å€ã€‚ä»¥å¤ªç½‘MACå¸§æ ¼å¼ï¼š æ‰©å±•ä»¥å¤ªç½‘ç½‘æ¡¥(æ·˜æ±°)ï¼šåœ¨æ•°æ®é“¾è·¯å±‚æ‰©å±•å±€åŸŸç½‘æ˜¯ä½¿ç”¨ç½‘æ¡¥ã€‚ç½‘æ¡¥å·¥ä½œåœ¨æ•°æ®é“¾è·¯å±‚ï¼Œå®ƒæ ¹æ® MAC å¸§çš„ç›®çš„åœ°å€å¯¹æ”¶åˆ°çš„å¸§è¿›è¡Œè½¬å‘ã€‚ç½‘æ¡¥å…·æœ‰è¿‡æ»¤å¸§çš„åŠŸèƒ½ã€‚å½“ç½‘æ¡¥æ”¶åˆ°ä¸€ä¸ªå¸§æ—¶ï¼Œå¹¶ä¸æ˜¯å‘æ‰€æœ‰çš„æ¥å£è½¬å‘æ­¤å¸§ï¼Œè€Œæ˜¯å…ˆæ£€æŸ¥æ­¤å¸§çš„ç›®çš„ MAC åœ°å€ï¼Œç„¶åå†ç¡®å®šå°†è¯¥å¸§è½¬å‘åˆ°å“ªä¸€ä¸ªæ¥å£ã€‚ äº¤æ¢æœºï¼šäº¤æ¢æœºå…·æœ‰è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œå­¦ä¹ çš„æ˜¯äº¤æ¢è¡¨çš„å†…å®¹ï¼Œäº¤æ¢è¡¨ä¸­å­˜å‚¨ç€ MAC åœ°å€åˆ°æ¥å£çš„æ˜ å°„ã€‚æ­£æ˜¯ç”±äºè¿™ç§è‡ªå­¦ä¹ èƒ½åŠ›ï¼Œå› æ­¤äº¤æ¢æœºæ˜¯ä¸€ç§å³æ’å³ç”¨è®¾å¤‡ï¼Œä¸éœ€è¦ç½‘ç»œç®¡ç†å‘˜æ‰‹åŠ¨é…ç½®äº¤æ¢è¡¨å†…å®¹ã€‚1.ç«¯å£ç‹¬äº«å¸¦å®½ï¼›2.æ¯”é›†çº¿å™¨å®‰å…¨ï¼Œå¯ä»¥è®¾ç½®å›ºå®šMACåœ°å€ï¼›3.æ¥å£åˆ°è®¡ç®—æœºå…¨åŒå·¥ï¼›4.å…¨åŒå·¥æ¨¡å¼ä¸å†ä½¿ç”¨CSMA/CDåè®®ï¼›5.æ¥å£å¯ä»¥å·¥ä½œåœ¨ä¸åŒçš„é€Ÿç‡ï¼›6.å¹¿æ’­å¸§ä¼šè½¬å‘åˆ°å…¨éƒ¨ç«¯å£ï¼› è™šæ‹Ÿå±€åŸŸç½‘(VLAN):è™šæ‹Ÿå±€åŸŸç½‘å¯ä»¥å»ºç«‹ä¸ç‰©ç†ä½ç½®æ— å…³çš„é€»è¾‘ç»„ï¼Œåªæœ‰åœ¨åŒä¸€ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ä¸­çš„æˆå‘˜æ‰ä¼šæ”¶åˆ°é“¾è·¯å±‚å¹¿æ’­ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼šåœ¨ç ”å‘éƒ¨æŸå°ä¸»æœºå¹¿æ’­çš„æ¶ˆæ¯åªèƒ½ä½ç ”å‘éƒ¨æ”¶åˆ°ï¼Œé”€å”®éƒ¨å’ŒäººåŠ›èµ„æºéƒ¨åˆ™æ”¶ä¸åˆ°æ¶ˆæ¯ã€‚ä½¿ç”¨ VLAN å¹²çº¿è¿æ¥æ¥å»ºç«‹è™šæ‹Ÿå±€åŸŸç½‘ï¼Œæ¯å°äº¤æ¢æœºä¸Šçš„ä¸€ä¸ªç‰¹æ®Šæ¥å£è¢«è®¾ç½®ä¸ºå¹²çº¿æ¥å£ï¼Œä»¥äº’è¿ VLAN äº¤æ¢æœºã€‚IEEE å®šä¹‰äº†ä¸€ç§æ‰©å±•çš„ä»¥å¤ªç½‘å¸§æ ¼å¼ 802.1Qï¼Œå®ƒåœ¨æ ‡å‡†ä»¥å¤ªç½‘å¸§ä¸ŠåŠ è¿›äº† 4 å­—èŠ‚é¦–éƒ¨ VLAN æ ‡ç­¾ï¼Œç”¨äºè¡¨ç¤ºè¯¥å¸§å±äºå“ªä¸€ä¸ªè™šæ‹Ÿå±€åŸŸç½‘ã€‚","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"æ•°æ®é“¾è·¯å±‚","slug":"æ•°æ®é“¾è·¯å±‚","permalink":"https://chrisxb1996.github.io/tags/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/"}]},{"title":"è®¡ç®—æœºç½‘ç»œæ¦‚è¿°","slug":"è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œæ¦‚è¿°","date":"2020-05-15T06:26:57.000Z","updated":"2020-05-16T09:21:03.551Z","comments":true,"path":"2020/05/15/è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œæ¦‚è¿°/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/15/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%A6%82%E8%BF%B0/","excerpt":"OSIä¸ƒå±‚å‚è€ƒæ¨¡å‹:1.åº”ç”¨å±‚ï¼šèƒ½å¤Ÿäº§ç”Ÿç½‘ç»œæµé‡èƒ½å¤Ÿå’Œç”¨æˆ·äº¤äº’çš„åº”ç”¨ç¨‹åºï¼›2.è¡¨ç¤ºå±‚ï¼šåŠ å¯†ï¼Œå‹ç¼©ï¼Œå¼€å‘äººå‘˜ï¼›3.ä¼šè¯å±‚ï¼šæœåŠ¡å’Œå®¢æˆ·å»ºç«‹çš„ä¼šè¯ï¼šnetstat -nï¼›4.ä¼ è¾“å±‚ï¼šå¯é ä¼ è¾“å»ºç«‹ä¼šè¯ï¼Œä¸å¯é ä¼ è¾“ï¼Œæµé‡æ§åˆ¶ï¼›5.ç½‘ç»œå±‚ï¼šIPåœ°å€ç¼–å€ï¼Œé€‰æ‹©æœ€ä½³è·¯å¾„ï¼›","text":"OSIä¸ƒå±‚å‚è€ƒæ¨¡å‹:1.åº”ç”¨å±‚ï¼šèƒ½å¤Ÿäº§ç”Ÿç½‘ç»œæµé‡èƒ½å¤Ÿå’Œç”¨æˆ·äº¤äº’çš„åº”ç”¨ç¨‹åºï¼›2.è¡¨ç¤ºå±‚ï¼šåŠ å¯†ï¼Œå‹ç¼©ï¼Œå¼€å‘äººå‘˜ï¼›3.ä¼šè¯å±‚ï¼šæœåŠ¡å’Œå®¢æˆ·å»ºç«‹çš„ä¼šè¯ï¼šnetstat -nï¼›4.ä¼ è¾“å±‚ï¼šå¯é ä¼ è¾“å»ºç«‹ä¼šè¯ï¼Œä¸å¯é ä¼ è¾“ï¼Œæµé‡æ§åˆ¶ï¼›5.ç½‘ç»œå±‚ï¼šIPåœ°å€ç¼–å€ï¼Œé€‰æ‹©æœ€ä½³è·¯å¾„ï¼›6.æ•°æ®é“¾è·¯å±‚ï¼šæ•°æ®å¦‚ä½•å°è£…ï¼Œæ·»åŠ ç‰©ç†å±‚åœ°å€(MAC)ï¼›7.ç‰©ç†å±‚ï¼šç”µå‹ï¼Œå€Ÿå£æ ‡å‡†ï¼› ç½‘ç»œæ’é”™ï¼šä»åº•å±‚åˆ°é«˜å±‚ äº”å±‚å‚è€ƒæ¨¡å‹:ä¼ è¾“çš„è¿‡ç¨‹ï¼š","categories":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}],"tags":[{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"}]},{"title":"è®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼","date":"2020-05-14T07:56:13.000Z","updated":"2020-05-15T06:47:57.322Z","comments":true,"path":"2020/05/14/è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼-å·¥å‚æ¨¡å¼/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/14/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/","excerpt":"æ ¸å¿ƒï¼šå®ç°äº†åˆ›å»ºè€…å’Œè°ƒç”¨è€…çš„åˆ†ç¦»ï¼Œç”¨å·¥å‚æ–¹æ³•ä»£æ›¿newæ“ä½œã€‚å°†é€‰æ‹©å®ç°ç±»ã€åˆ›å»ºå¯¹è±¡ç»Ÿä¸€ç®¡ç†å’Œæ§åˆ¶ã€‚ä»è€Œå°†è°ƒç”¨è€…è·Ÿæˆ‘ä»¬çš„å®ç°ç±»è§£è€¦ã€‚ä¸‰ç§ç±»å‹çš„å·¥å‚æ¨¡å¼ï¼š1.ç®€å•å·¥å‚ï¼ˆä½¿ç”¨è¾ƒå¤šï¼‰ï¼šåˆå«é™æ€å·¥å‚æ¨¡å¼ï¼Œå°±æ˜¯å·¥å‚ç±»ä¸€èˆ¬æ˜¯ä½¿ç”¨é™æ€æ–¹æ³•ï¼Œé€šè¿‡ä¸åŒçš„æ–¹æ³•(æˆ–æ˜¯é€šè¿‡ä¼ é€’ä¸åŒçš„å‚æ•°)æ¥è¿”å›ä¸åŒçš„å¯¹è±¡å®ä¾‹ï¼›2.å·¥å‚æ–¹æ³•ï¼šä¸ºäº†é¿å…ç®€å•å·¥å‚æ¨¡å¼çš„ç¼ºç‚¹ï¼Œä¸å®Œå…¨æ»¡è¶³OCPï¼ˆå¼€é—­åŸåˆ™ï¼‰ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼å’Œç®€å•å·¥å‚æ¨¡å¼æœ€å¤§çš„ä¸åŒï¼šç®€å•å·¥å‚æ¨¡å¼åªæœ‰ä¸€ä¸ªï¼ˆå¯¹äºä¸€ä¸ªé¡¹ç›®æˆ–è€…ä¸€ä¸ªç‹¬ç«‹æ¨¡å—è€Œè¨€ï¼‰å·¥å‚ç±»ï¼Œè€Œå·¥å‚æ–¹æ³•æ¨¡å¼æœ‰ä¸€ç»„å®ç°äº†ç›¸åŒæ¥å£çš„å·¥å‚ç±»ã€‚æ ¹æ®è®¾è®¡ç†è®ºå»ºè®®ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œä½†å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ç”¨ç®€å•å·¥å‚æ¨¡å¼ï¼›","text":"æ ¸å¿ƒï¼šå®ç°äº†åˆ›å»ºè€…å’Œè°ƒç”¨è€…çš„åˆ†ç¦»ï¼Œç”¨å·¥å‚æ–¹æ³•ä»£æ›¿newæ“ä½œã€‚å°†é€‰æ‹©å®ç°ç±»ã€åˆ›å»ºå¯¹è±¡ç»Ÿä¸€ç®¡ç†å’Œæ§åˆ¶ã€‚ä»è€Œå°†è°ƒç”¨è€…è·Ÿæˆ‘ä»¬çš„å®ç°ç±»è§£è€¦ã€‚ä¸‰ç§ç±»å‹çš„å·¥å‚æ¨¡å¼ï¼š1.ç®€å•å·¥å‚ï¼ˆä½¿ç”¨è¾ƒå¤šï¼‰ï¼šåˆå«é™æ€å·¥å‚æ¨¡å¼ï¼Œå°±æ˜¯å·¥å‚ç±»ä¸€èˆ¬æ˜¯ä½¿ç”¨é™æ€æ–¹æ³•ï¼Œé€šè¿‡ä¸åŒçš„æ–¹æ³•(æˆ–æ˜¯é€šè¿‡ä¼ é€’ä¸åŒçš„å‚æ•°)æ¥è¿”å›ä¸åŒçš„å¯¹è±¡å®ä¾‹ï¼›2.å·¥å‚æ–¹æ³•ï¼šä¸ºäº†é¿å…ç®€å•å·¥å‚æ¨¡å¼çš„ç¼ºç‚¹ï¼Œä¸å®Œå…¨æ»¡è¶³OCPï¼ˆå¼€é—­åŸåˆ™ï¼‰ã€‚å·¥å‚æ–¹æ³•æ¨¡å¼å’Œç®€å•å·¥å‚æ¨¡å¼æœ€å¤§çš„ä¸åŒï¼šç®€å•å·¥å‚æ¨¡å¼åªæœ‰ä¸€ä¸ªï¼ˆå¯¹äºä¸€ä¸ªé¡¹ç›®æˆ–è€…ä¸€ä¸ªç‹¬ç«‹æ¨¡å—è€Œè¨€ï¼‰å·¥å‚ç±»ï¼Œè€Œå·¥å‚æ–¹æ³•æ¨¡å¼æœ‰ä¸€ç»„å®ç°äº†ç›¸åŒæ¥å£çš„å·¥å‚ç±»ã€‚æ ¹æ®è®¾è®¡ç†è®ºå»ºè®®ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œä½†å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¸€èˆ¬éƒ½ç”¨ç®€å•å·¥å‚æ¨¡å¼ï¼›3.æŠ½è±¡å·¥å‚ï¼šç”¨æ¥ç”Ÿäº§ä¸åŒäº§å“æ—çš„å…¨éƒ¨äº§å“ï¼šåœ¨æœ‰å¤šä¸ªä¸šåŠ¡å“ç§ã€ä¸šåŠ¡åˆ†ç±»æ—¶ï¼Œé€šè¿‡æŠ½è±¡å·¥å‚æ¨¡å¼äº§ç”Ÿéœ€è¦çš„å¯¹è±¡æ˜¯ä¸€ç§éå¸¸å¥½çš„è§£å†³æ–¹å¼ï¼› ä¸ä½¿ç”¨å·¥å‚æ¨¡å¼çš„æƒ…å†µï¼š 123456public class Audi implements Car&#123; @Override public void run() &#123; System.out.println(\"Audiè·‘ï¼ï¼ï¼\"); &#125;&#125; 123456public class Byd implements Car&#123; @Override public void run() &#123; System.out.println(\"Bydè·‘ï¼ï¼ï¼\"); &#125;&#125; 12345678public class test01 &#123; //è°ƒç”¨è€… public static void main(String[] args) &#123; Car c1 = new Audi(); Car c2 = new Byd(); c1.run(); c2.run(); &#125;&#125; ç®€å•å·¥å‚ï¼š 12345678public class CarFactory &#123; public static Car createAudi()&#123; return new Audi(); &#125; public static Car createByd()&#123; return new Byd(); &#125;&#125; 12345678public class test01 &#123;//è°ƒç”¨è€… public static void main(String[] args) &#123; Car car1 = CarFactory.createAudi(); Car car2 = CarFactory.createByd(); car1.run(); car2.run(); &#125;&#125; å·¥å‚æ–¹æ³•ï¼šå¢åŠ ä¸¤ä¸ªå®ç°ç±»ï¼š 1234567891011121314151617public interface CarFactory &#123; Car createCar();&#125;public class AudiFactory implements CarFactory&#123; @Override public Car createCar() &#123; return new Audi(); &#125;&#125;public class BydFactory implements CarFactory&#123; @Override public Car createCar() &#123; return new Byd(); &#125;&#125; 12345678public class test01 &#123;//è°ƒç”¨è€… public static void main(String[] args) &#123; Car car1 = new AudiFactory().createCar(); Car car2 = new BydFactory().createCar(); car1.run(); car2.run(); &#125;&#125; æŠ½è±¡å·¥å‚ï¼š","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"å·¥å‚æ¨¡å¼","slug":"å·¥å‚æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"}]},{"title":"è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼","date":"2020-05-13T09:12:28.000Z","updated":"2020-05-14T13:07:29.495Z","comments":true,"path":"2020/05/13/è®¾è®¡æ¨¡å¼/è®¾è®¡æ¨¡å¼-å•ä¾‹æ¨¡å¼/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/13/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F-%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/","excerpt":"æ ¸å¿ƒä½œç”¨ï¼šä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªè®¿é—®è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®ç‚¹,å‡å°‘äº†ç³»ç»Ÿæ€§èƒ½å¼€é”€ã€‚å¸¸è§åº”ç”¨åœºæ™¯ï¼šWindowsçš„ä»»åŠ¡ç®¡ç†å™¨å°±æ˜¯å¾ˆå…¸å‹çš„å•ä¾‹æ¨¡å¼ï¼›æ•°æ®åº“è¿æ¥æ± çš„è®¾è®¡ä¸€èˆ¬ä¹Ÿæ˜¯é‡‡ç”¨å•ä¾‹æ¨¡å¼â€¦å¸¸è§çš„äº”ç§å•ä¾‹æ¨¡å¼å®ç°æ–¹å¼ï¼š 1.é¥¿æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡é«˜ã€‚ ä½†æ˜¯ï¼Œä¸èƒ½å»¶æ—¶åŠ è½½ï¼› 2.æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡ä¸é«˜ï¼Œå¯ä»¥å»¶æ—¶åŠ è½½ï¼› 3.é™æ€å†…éƒ¨ç±»å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡é«˜ï¼Œå¯ä»¥å»¶æ—¶åŠ è½½ï¼›","text":"æ ¸å¿ƒä½œç”¨ï¼šä¿è¯ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶ä¸”æä¾›ä¸€ä¸ªè®¿é—®è¯¥å®ä¾‹çš„å…¨å±€è®¿é—®ç‚¹,å‡å°‘äº†ç³»ç»Ÿæ€§èƒ½å¼€é”€ã€‚å¸¸è§åº”ç”¨åœºæ™¯ï¼šWindowsçš„ä»»åŠ¡ç®¡ç†å™¨å°±æ˜¯å¾ˆå…¸å‹çš„å•ä¾‹æ¨¡å¼ï¼›æ•°æ®åº“è¿æ¥æ± çš„è®¾è®¡ä¸€èˆ¬ä¹Ÿæ˜¯é‡‡ç”¨å•ä¾‹æ¨¡å¼â€¦å¸¸è§çš„äº”ç§å•ä¾‹æ¨¡å¼å®ç°æ–¹å¼ï¼š 1.é¥¿æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡é«˜ã€‚ ä½†æ˜¯ï¼Œä¸èƒ½å»¶æ—¶åŠ è½½ï¼› 2.æ‡’æ±‰å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡ä¸é«˜ï¼Œå¯ä»¥å»¶æ—¶åŠ è½½ï¼› 3.é™æ€å†…éƒ¨ç±»å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡é«˜ï¼Œå¯ä»¥å»¶æ—¶åŠ è½½ï¼› 4.æšä¸¾å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡é«˜ï¼Œä¸èƒ½å»¶æ—¶åŠ è½½ã€‚å¹¶ä¸”å¯ä»¥å¤©ç„¶çš„é˜²æ­¢åå°„å’Œååºåˆ—åŒ–åˆ›å»ºå¯¹è±¡çš„æ¼æ´ï¼ 5.åŒé‡æ£€æµ‹é”å¼ï¼šJVMåº•å±‚å†…éƒ¨æ¨¡å‹åŸå› ï¼Œå¶å°”ä¼šå‡ºé—®é¢˜ã€‚ä¸å»ºè®®ä½¿ç”¨ï¼› é¥¿æ±‰å¼ï¼š 1234567891011//é¥¿æ±‰å¼ï¼špublic class SingletonDemo01 &#123; //ç±»åˆå§‹åŒ–æ—¶ï¼Œä¸Šæ¥å…ˆåˆ›å»ºå¯¹è±¡ï¼ˆæ²¡æœ‰å»¶æ—¶åŠ è½½çš„ä¼˜åŠ¿ï¼‰ï¼ŒåŠ è½½ç±»æ—¶ï¼Œå¤©ç„¶çº¿ç¨‹å®‰å…¨ private static SingletonDemo01 instance = new SingletonDemo01(); //æ„é€ å™¨ç§æœ‰ private SingletonDemo01()&#123;&#125; //ä¼˜ç‚¹ï¼šæ–¹æ³•æ²¡æœ‰åŒæ­¥è°ƒç”¨æ•ˆç‡é«˜ public static SingletonDemo01 getInstance()&#123; return instance; &#125;&#125; æ‡’æ±‰å¼ï¼š 123456789101112//æ‡’æ±‰å¼ï¼špublic class SingletonDemo02 &#123; //ç±»åˆå§‹åŒ–æ—¶ï¼Œä¸åˆ›å»ºå¯¹è±¡ï¼ˆå»¶æ—¶åŠ è½½ï¼ŒçœŸæ­£ç”¨çš„æ—¶å€™å†åˆ›å»ºï¼‰ private static SingletonDemo02 instance; //æ„é€ å™¨ç§æœ‰ private SingletonDemo02()&#123;&#125; //éœ€è¦åŠ åŒæ­¥ï¼Œä¿è¯å•ä¾‹æ¨¡å¼ï¼Œæ•ˆç‡è¾ƒä½ public static synchronized SingletonDemo02 getInstance()&#123; if(instance == null) instance = new SingletonDemo02(); return instance; &#125;&#125; é™æ€å†…éƒ¨ç±»å¼: 123456789101112//é™æ€å†…éƒ¨ç±»æ–¹å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼Œè°ƒç”¨æ•ˆç‡é«˜ï¼Œå®ç°å»¶æ—¶åŠ è½½public class SingletonDemo03 &#123; private static class SingletonInnerClass&#123; private static final SingletonDemo03 instance = new SingletonDemo03(); &#125; //æ„é€ å™¨ç§æœ‰ private SingletonDemo03()&#123;&#125; //ä¼˜ç‚¹ï¼šæ–¹æ³•æ²¡æœ‰åŒæ­¥è°ƒç”¨æ•ˆç‡é«˜ public static SingletonDemo03 getInstance()&#123; return SingletonInnerClass.instance; &#125;&#125; æšä¸¾å¼: 1234567//æšä¸¾ç±»æ–¹å¼ï¼šçº¿ç¨‹å®‰å…¨ï¼Œä½†æ²¡æœ‰å»¶æ—¶åŠ è½½ï¼›åŒæ—¶èƒ½å¤Ÿé¿å…åå°„å’Œååºåˆ—çš„æ¼æ´public enum SingletonDemo04 &#123; INSTANCE; //å¯ä»¥è‡ªå·±æ·»åŠ ä¸€äº›æ“ä½œæ–¹æ³• public static void instanceOper()&#123; &#125;&#125; å¦‚ä½•é€‰ç”¨åˆé€‚çš„å•ä¾‹æ¨¡å¼ï¼šå•ä¾‹å¯¹è±¡å ç”¨èµ„æºå°‘ï¼Œä¸éœ€è¦å»¶æ—¶åŠ è½½ï¼šæšä¸¾å¼ &gt; é¥¿æ±‰å¼;å•ä¾‹å¯¹è±¡å ç”¨èµ„æºå¤§ï¼Œéœ€è¦ å»¶æ—¶åŠ è½½ï¼šé™æ€å†…éƒ¨ç±»å¼ &gt; æ‡’æ±‰å¼;","categories":[{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"å•ä¾‹æ¨¡å¼","slug":"å•ä¾‹æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"}]},{"title":"JVMæ ¸å¿ƒæœºåˆ¶-ç±»åŠ è½½è¿‡ç¨‹","slug":"Java/JVMæ ¸å¿ƒæœºåˆ¶-ç±»åŠ è½½è¿‡ç¨‹","date":"2020-05-13T06:38:30.000Z","updated":"2020-05-18T04:49:14.599Z","comments":true,"path":"2020/05/13/Java/JVMæ ¸å¿ƒæœºåˆ¶-ç±»åŠ è½½è¿‡ç¨‹/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/13/Java/JVM%E6%A0%B8%E5%BF%83%E6%9C%BA%E5%88%B6-%E7%B1%BB%E5%8A%A0%E8%BD%BD%E8%BF%87%E7%A8%8B/","excerpt":"ç±»åŠ è½½çš„ä½œç”¨ï¼šå°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºä¸­çš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œåœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºç±»æ•°æ®çš„è®¿é—®å…¥å£ï¼š ç±»åŠ è½½å™¨çš„å±‚æ¬¡ç»“æ„(æ ‘çŠ¶ç»“æ„): å¼•å¯¼ç±»åŠ è½½å™¨ï¼ˆbootstrap class loaderï¼‰ï¼šå®ƒç”¨æ¥åŠ è½½ Java çš„æ ¸å¿ƒåº“)ï¼Œæ˜¯ç”¨Cæ¥å®ç°çš„ï¼Œå¹¶ä¸ç»§æ‰¿è‡ª java.lang.ClassLoaderï¼›","text":"ç±»åŠ è½½çš„ä½œç”¨ï¼šå°†classæ–‡ä»¶å­—èŠ‚ç å†…å®¹åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¹¶å°†è¿™äº›é™æ€æ•°æ®è½¬æ¢æˆæ–¹æ³•åŒºä¸­çš„è¿è¡Œæ—¶æ•°æ®ç»“æ„ï¼Œåœ¨å †ä¸­ç”Ÿæˆä¸€ä¸ªä»£è¡¨è¿™ä¸ªç±»çš„java.lang.Classå¯¹è±¡ï¼Œä½œä¸ºæ–¹æ³•åŒºç±»æ•°æ®çš„è®¿é—®å…¥å£ï¼š ç±»åŠ è½½å™¨çš„å±‚æ¬¡ç»“æ„(æ ‘çŠ¶ç»“æ„): å¼•å¯¼ç±»åŠ è½½å™¨ï¼ˆbootstrap class loaderï¼‰ï¼šå®ƒç”¨æ¥åŠ è½½ Java çš„æ ¸å¿ƒåº“)ï¼Œæ˜¯ç”¨Cæ¥å®ç°çš„ï¼Œå¹¶ä¸ç»§æ‰¿è‡ª java.lang.ClassLoaderï¼› æ‰©å±•ç±»åŠ è½½å™¨ï¼ˆextensions class loaderï¼‰ï¼šç”¨æ¥åŠ è½½ Java çš„æ‰©å±•åº“ï¼ŒJava è™šæ‹Ÿæœºçš„å®ç°ä¼šæä¾›ä¸€ä¸ªæ‰©å±•åº“ç›®å½•ã€‚è¯¥ç±»åŠ è½½å™¨åœ¨æ­¤ç›®å½•é‡Œé¢æŸ¥æ‰¾å¹¶åŠ è½½ Javaç±»ï¼Œç”±ExtClassLoaderå®ç°ï¼› åº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼ˆapplication class loaderï¼‰ï¼šå®ƒæ ¹æ® Java åº”ç”¨çš„ç±»è·¯å¾„æ¥åŠ è½½ Java ç±»ï¼Œä¸€èˆ¬æ¥è¯´ï¼ŒJava åº”ç”¨çš„ç±»éƒ½æ˜¯ç”±å®ƒæ¥å®ŒæˆåŠ è½½çš„ï¼Œç”±AppClassLoaderå®ç°ï¼› è‡ªå®šä¹‰ç±»åŠ è½½å™¨ï¼š å¼€å‘äººå‘˜å¯ä»¥é€šè¿‡ç»§æ‰¿ java.lang.ClassLoaderç±»çš„æ–¹å¼ï¼Œå®ç°è‡ªå·±çš„ç±»åŠ è½½å™¨ï¼Œä»¥æ»¡è¶³ä¸€äº›ç‰¹æ®Šçš„éœ€æ±‚ã€‚ æ³¨æ„ï¼šç±»åŠ è½½å™¨åŠ è½½ç±»çš„æ—¶å€™æ˜¯çº¿ç¨‹å®‰å…¨çš„ åŒäº²å§”æ‰˜æœºåˆ¶ï¼š å°±æ˜¯æŸä¸ªç‰¹å®šçš„ç±»åŠ è½½å™¨åœ¨æ¥åˆ°åŠ è½½ç±»çš„è¯·æ±‚æ—¶ï¼Œé¦–å…ˆå°†åŠ è½½ä»»åŠ¡å§”æ‰˜ç»™çˆ¶ç±»åŠ è½½å™¨ï¼Œä¾æ¬¡è¿½æº¯ï¼Œç›´åˆ°æœ€é«˜çš„çˆ·çˆ·è¾ˆçš„ï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨å¯ä»¥å®Œæˆç±»åŠ è½½ä»»åŠ¡ï¼Œå°±æˆåŠŸè¿”å›ï¼›åªæœ‰çˆ¶ç±»åŠ è½½å™¨æ— æ³•å®Œæˆæ­¤åŠ è½½ä»»åŠ¡æ—¶ï¼Œæ‰è‡ªå·±å»åŠ è½½ã€‚ åŒäº²å§”æ‰˜æœºåˆ¶æ˜¯ä¸ºäº†ä¿è¯ Java æ ¸å¿ƒåº“çš„ç±»å‹å®‰å…¨ï¼Œè¿™ç§æœºåˆ¶å°±ä¿è¯ä¸ä¼šå‡ºç°ç”¨æˆ·è‡ªå·±èƒ½å®šä¹‰java.lang.Objectç±»çš„æƒ…å†µã€‚ ç±»åŠ è½½å™¨é™¤äº†ç”¨äºåŠ è½½ç±»ï¼Œä¹Ÿæ˜¯å®‰å…¨çš„æœ€åŸºæœ¬çš„å±éšœã€‚ åŒäº²å§”æ‰˜æœºåˆ¶æ˜¯ä»£ç†æ¨¡å¼çš„ä¸€ç§ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç±»åŠ è½½å™¨éƒ½é‡‡ç”¨åŒäº²å§”æ‰˜æœºåˆ¶ï¼štomcatæœåŠ¡å™¨ç±»åŠ è½½å™¨ä¹Ÿä½¿ç”¨ä»£ç†æ¨¡å¼ï¼Œæ‰€ä¸åŒçš„æ˜¯å®ƒæ˜¯é¦–å…ˆå°è¯•å»åŠ è½½æŸä¸ªç±»ï¼Œå¦‚æœæ‰¾ä¸åˆ°å†ä»£ç†ç»™çˆ¶ç±»åŠ è½½å™¨ï¼Œè¿™ä¸ä¸€èˆ¬ç±»åŠ è½½å™¨çš„é¡ºåºæ˜¯ç›¸åçš„ã€‚","categories":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"},{"name":"JVM","slug":"JVM","permalink":"https://chrisxb1996.github.io/tags/JVM/"}]},{"title":"Java åŠ¨æ€ç¼–è¯‘","slug":"Java/Java-åŠ¨æ€ç¼–è¯‘","date":"2020-05-12T07:20:23.000Z","updated":"2020-05-14T03:19:01.203Z","comments":true,"path":"2020/05/12/Java/Java-åŠ¨æ€ç¼–è¯‘/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/12/Java/Java-%E5%8A%A8%E6%80%81%E7%BC%96%E8%AF%91/","excerpt":"Java1.6ä»¥åå¼•å…¥åŠ¨æ€ç¼–è¯‘ï¼Œåœ¨åšä¸€ä¸ªæµè§ˆå™¨ç«¯ç¼–å†™javaä»£ç ï¼Œä¸Šä¼ æœåŠ¡å™¨ç¼–è¯‘å’Œè¿è¡Œçš„åœ¨çº¿è¯„æµ‹ç³»ç»Ÿæˆ–æ˜¯æœåŠ¡å™¨åŠ¨æ€åŠ è½½æŸäº›ç±»æ–‡ä»¶è¿›è¡Œç¼–è¯‘çš„æ—¶å€™å°±ç”¨åˆ°äº†åŠ¨æ€ç¼–è¯‘ï¼šé€šè¿‡JavaCompileråŠ¨æ€ç¼–è¯‘ï¼š 1234567public static int compileFile(String sourceFile)&#123; //åŠ¨æ€ç¼–è¯‘ JavaCompiler compiler = ToolProvider.getSystemJavaCompiler(); int result = compiler.run(null, null, null,sourceFile); System.out.println(result==0?\"ç¼–è¯‘æˆåŠŸ\":\"ç¼–è¯‘å¤±è´¥\"); return result;&#125; â€¢ ç¬¬ä¸€ä¸ªå‚æ•°ï¼šä¸ºjavaç¼–è¯‘å™¨æä¾›å‚æ•°â€¢ ç¬¬äºŒä¸ªå‚æ•°ï¼šå¾—åˆ° Java ç¼–è¯‘å™¨çš„è¾“å‡ºä¿¡æ¯","text":"Java1.6ä»¥åå¼•å…¥åŠ¨æ€ç¼–è¯‘ï¼Œåœ¨åšä¸€ä¸ªæµè§ˆå™¨ç«¯ç¼–å†™javaä»£ç ï¼Œä¸Šä¼ æœåŠ¡å™¨ç¼–è¯‘å’Œè¿è¡Œçš„åœ¨çº¿è¯„æµ‹ç³»ç»Ÿæˆ–æ˜¯æœåŠ¡å™¨åŠ¨æ€åŠ è½½æŸäº›ç±»æ–‡ä»¶è¿›è¡Œç¼–è¯‘çš„æ—¶å€™å°±ç”¨åˆ°äº†åŠ¨æ€ç¼–è¯‘ï¼šé€šè¿‡JavaCompileråŠ¨æ€ç¼–è¯‘ï¼š 1234567public static int compileFile(String sourceFile)&#123; //åŠ¨æ€ç¼–è¯‘ JavaCompiler compiler = ToolProvider.getSystemJavaCompiler(); int result = compiler.run(null, null, null,sourceFile); System.out.println(result==0?\"ç¼–è¯‘æˆåŠŸ\":\"ç¼–è¯‘å¤±è´¥\"); return result;&#125; â€¢ ç¬¬ä¸€ä¸ªå‚æ•°ï¼šä¸ºjavaç¼–è¯‘å™¨æä¾›å‚æ•°â€¢ ç¬¬äºŒä¸ªå‚æ•°ï¼šå¾—åˆ° Java ç¼–è¯‘å™¨çš„è¾“å‡ºä¿¡æ¯â€¢ ç¬¬ä¸‰ä¸ªå‚æ•°ï¼šæ¥æ”¶ç¼–è¯‘å™¨çš„ é”™è¯¯ä¿¡æ¯â€¢ ç¬¬å››ä¸ªå‚æ•°ï¼šå¯å˜å‚æ•°ï¼ˆæ˜¯ä¸€ä¸ªStringæ•°ç»„ï¼‰èƒ½ä¼ å…¥ä¸€ä¸ªæˆ–å¤šä¸ª Java æºæ–‡ä»¶â€¢ è¿”å›å€¼ï¼š0è¡¨ç¤ºç¼–è¯‘æˆåŠŸï¼Œé0è¡¨ç¤ºç¼–è¯‘å¤±è´¥ åŠ¨æ€è¿è¡Œç¼–è¯‘å¥½çš„ç±»ï¼š é€šè¿‡Runtime.getRuntime()è¿è¡Œå¯åŠ¨æ–°çš„è¿›ç¨‹è¿è¡Œ12Runtime run = Runtime.getRuntime();Process process = run.exec(\"java -cp path HelloWorld\"); é€šè¿‡åå°„è¿è¡Œç¼–è¯‘å¥½çš„ç±»12345678910111213//é€šè¿‡åå°„è¿è¡Œç¨‹åºpublic static void runJavaClassByReflect(String dir,String classFile) throws Exception&#123; try &#123; URL[] urls = new URL[] &#123;new URL(\"file:/\"+dir)&#125;; URLClassLoader loader = new URLClassLoader(urls); Class c = loader.loadClass(classFile); //è°ƒç”¨åŠ è½½ç±»çš„mainæ–¹æ³• Method m = c.getMethod(\"main\",String[].class) m.invoke(null, (Object)new String[]&#123;&#125;);//åå°„è°ƒç”¨mainæ–¹æ³•åŠ (object)å¼ºåˆ¶è½¬å‹ &#125; catch (Exception e) &#123; e.printStackTrace(); &#125;&#125;","categories":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"}]},{"title":"Java åå°„","slug":"Java/Java-åå°„","date":"2020-05-11T13:35:34.000Z","updated":"2020-05-13T06:36:53.159Z","comments":true,"path":"2020/05/11/Java/Java-åå°„/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/11/Java/Java-%E5%8F%8D%E5%B0%84/","excerpt":"è™½ç„¶Javaä¸æ˜¯åŠ¨æ€è¯­è¨€1ï¼Œä½†Javaè¯­è¨€å…·æœ‰ä¸€å®šçš„åŠ¨æ€æ€§ï¼Œå¯ä»¥åˆ©ç”¨åå°„æœºåˆ¶ï¼Œå­—èŠ‚ç æ“ä½œè·å¾—ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ï¼ŒJavaçš„åŠ¨æ€æ€§è®©ç¼–ç¨‹æ›´åŠ çµæ´»ã€‚åå°„ï¼šæŒ‡çš„æ˜¯å¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ è½½ã€æ¢çŸ¥ã€ä½¿ç”¨ç¼–è¯‘æœŸé—´å®Œå…¨æœªçŸ¥çš„ç±»ã€‚åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å†…å­˜ä¸­ï¼Œå°±äº§ç”Ÿäº†ä¸€ä¸ª Class ç±»å‹çš„å¯¹è±¡(ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ª Class å¯¹è±¡)ï¼Œè¿™ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„ã€‚è¿™ä¸ªå¯¹è±¡å°±åƒä¸€é¢é•œå­ï¼Œé€è¿‡è¿™ä¸ªé•œå­çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œå½¢è±¡çš„ç§°ä¸ºåå°„ã€‚åå°„æœºåˆ¶çš„ä½œç”¨ï¼šé‡ç‚¹åœ¨äºåŠ¨æ€æ€§ï¼šåŠ¨æ€åŠ è½½ç±»ã€åŠ¨æ€è·å–ç±»çš„ä¿¡æ¯ï¼ˆå±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ï¼‰ï¼›åŠ¨æ€åˆ›å»ºå¯¹è±¡ï¼›åŠ¨æ€è°ƒç”¨æ–¹æ³•ã€æ„é€ å™¨ï¼›åŠ¨æ€å¤„ç†å±æ€§ï¼›æ­¤å¤–è¿˜èƒ½å¤„ç†æ³›å‹ã€æ³¨è§£ã€‚","text":"è™½ç„¶Javaä¸æ˜¯åŠ¨æ€è¯­è¨€1ï¼Œä½†Javaè¯­è¨€å…·æœ‰ä¸€å®šçš„åŠ¨æ€æ€§ï¼Œå¯ä»¥åˆ©ç”¨åå°„æœºåˆ¶ï¼Œå­—èŠ‚ç æ“ä½œè·å¾—ç±»ä¼¼åŠ¨æ€è¯­è¨€çš„ç‰¹æ€§ï¼ŒJavaçš„åŠ¨æ€æ€§è®©ç¼–ç¨‹æ›´åŠ çµæ´»ã€‚åå°„ï¼šæŒ‡çš„æ˜¯å¯ä»¥åœ¨ç¨‹åºè¿è¡Œæ—¶åŠ è½½ã€æ¢çŸ¥ã€ä½¿ç”¨ç¼–è¯‘æœŸé—´å®Œå…¨æœªçŸ¥çš„ç±»ã€‚åŠ è½½å®Œç±»ä¹‹åï¼Œåœ¨å †å†…å­˜ä¸­ï¼Œå°±äº§ç”Ÿäº†ä¸€ä¸ª Class ç±»å‹çš„å¯¹è±¡(ä¸€ä¸ªç±»åªæœ‰ä¸€ä¸ª Class å¯¹è±¡)ï¼Œè¿™ä¸ªå¯¹è±¡å°±åŒ…å«äº†å®Œæ•´çš„ç±»çš„ç»“æ„ä¿¡æ¯ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå¯¹è±¡çœ‹åˆ°ç±»çš„ç»“æ„ã€‚è¿™ä¸ªå¯¹è±¡å°±åƒä¸€é¢é•œå­ï¼Œé€è¿‡è¿™ä¸ªé•œå­çœ‹åˆ°ç±»çš„ç»“æ„ï¼Œå½¢è±¡çš„ç§°ä¸ºåå°„ã€‚åå°„æœºåˆ¶çš„ä½œç”¨ï¼šé‡ç‚¹åœ¨äºåŠ¨æ€æ€§ï¼šåŠ¨æ€åŠ è½½ç±»ã€åŠ¨æ€è·å–ç±»çš„ä¿¡æ¯ï¼ˆå±æ€§ã€æ–¹æ³•ã€æ„é€ å™¨ï¼‰ï¼›åŠ¨æ€åˆ›å»ºå¯¹è±¡ï¼›åŠ¨æ€è°ƒç”¨æ–¹æ³•ã€æ„é€ å™¨ï¼›åŠ¨æ€å¤„ç†å±æ€§ï¼›æ­¤å¤–è¿˜èƒ½å¤„ç†æ³›å‹ã€æ³¨è§£ã€‚è·å–Classå¯¹è±¡ï¼š1.Class.forName();(å¸¸ç”¨)2.getClass();3..class;ä»£ç ï¼š javaBean:1234567891011121314151617181920212223242526272829303132public class User &#123; private int id; private int age; private String name; //javabeanä¸€å®šè¦æœ‰æ— å‚æ„é€ å™¨ public User() &#123; &#125; public User(int id, int age, String name) &#123; super(); this.id = id; this.age = age; this.name = name; &#125; public int getId() &#123; return id; &#125; public void setId(int id) &#123; this.id = id; &#125; public int getAge() &#123; return age; &#125; public void setAge(int age) &#123; this.age = age; &#125; public String getName() &#123; return name; &#125; public void setName(String name) &#123; this.name = name; &#125;&#125; è·å¾—Userç±»çš„åå°„å¯¹è±¡ï¼š1234567String path = \"com.sxt.test.bean.User\";Class clazz = Class.forName(path);//æ–¹æ³•ä¸€User u = new User();Class clazz2 = u.getClass();//æ–¹æ³•äºŒClass clazz3 = com.sxt.test.bean.User.class;//æ–¹æ³•ä¸‰ è·å¾—Userç±»çš„å±æ€§ï¼š1Field f = clazz.getDeclaredField(\"name\"); è·å¾—Userç±»çš„æ–¹æ³•ï¼š123Method m01 = clazz.getDeclaredMethod(\"getName\", null);//å¦‚æœæ–¹æ³•æœ‰å‚æ•°ï¼Œåˆ™å¿…é¡»ä¼ é€’å‚æ•°ç±»å‹å¯¹åº”çš„Classå¯¹è±¡Method m02 = clazz.getDeclaredMethod(\"setName\", String.class); è·å¾—Userç±»æŒ‡å®šçš„æ„é€ å™¨ï¼š1Constructor constructor = clazz.getDeclaredConstructor(int.class,int.class,String.class); é€šè¿‡åå°„APIåŠ¨æ€çš„æ“ä½œï¼šæ„é€ å™¨ï¼Œæ–¹æ³•ï¼Œå±æ€§ï¼š123456789101112131415//é€šè¿‡åå°„APIè°ƒç”¨æ„é€ æ–¹æ³•ï¼Œæ„é€ å¯¹è±¡User u1 = (User) clazz.getConstructor().newInstance();//è°ƒç”¨äº†Userçš„æ— å‚æ„é€ å™¨User u2 = (User)clazz.getConstructor(int.class,int.class,String.class).newInstance(1001,18,\"å¸­åš\");//è°ƒç”¨äº†Userå¸¦å‚æ„é€ å™¨//é€šè¿‡åå°„APIè°ƒç”¨æ™®é€šæ–¹æ³• invoke(å¯¹è±¡ï¼Œå‚æ•°)æ–¹æ³•User u3 = (User) clazz.getConstructor().newInstance();Method method = clazz.getDeclaredMethod(\"setName\", String.class);method.invoke(u3, \"aaa\");//u3.setName(\"aaa\");//é€šè¿‡åå°„APIæ“ä½œå±æ€§User u4 = (User) clazz.getConstructor().newInstance();Field f = clazz.getDeclaredField(\"name\");//é€šè¿‡åå°„è·å¾—å±æ€§f.setAccessible(true); //è¿™ä¸ªå±æ€§ä¸éœ€è¦åšå®‰å…¨æ£€æŸ¥ï¼Œå¯ä»¥ç›´æ¥è®¿é—®f.set(u4, \"bbb\"); //é€šè¿‡åå°„ç›´æ¥å†™u4å±æ€§f.get(u4);//é€šè¿‡åå°„è¯»å–u4å±æ€§ é€šè¿‡åå°„è¯»å–æ³›å‹çš„ä¿¡æ¯ï¼šParameterizedType: è¡¨ç¤ºä¸€ç§å‚æ•°åŒ–çš„ç±»å‹ï¼Œæ¯”å¦‚Collectionï¼› é€šè¿‡åå°„è¯»å–æ³¨è§£çš„ä¿¡æ¯ï¼Œæ¨¡æ‹Ÿå¤„ç†æ³¨è§£ä¿¡æ¯çš„æµç¨‹ï¼Œå…·ä½“å‚è§ï¼šJava æ³¨è§£ åå°„çš„æ€§èƒ½é—®é¢˜ï¼šä½¿ç”¨åå°„æ€§èƒ½ä¼šé™ä½(çº¦30å€)ï¼ŒsetAccessibleï¼šå¯ç”¨å’Œç¦ç”¨è®¿é—®å®‰å…¨æ£€æŸ¥çš„å¼€å…³ï¼Œè®¾ä¸º true åˆ™è¡¨ç¤ºåå°„çš„å¯¹è±¡åœ¨ä½¿ç”¨æ—¶ç¦æ­¢ Java è¯­è¨€è®¿é—®æ£€æŸ¥ã€‚ç¦æ­¢å®‰å…¨æ£€æŸ¥ï¼Œå¯ä»¥æé«˜åå°„çš„è¿è¡Œé€Ÿåº¦(å¤§çº¦æé«˜å››å€)ã€‚ 1.åŠ¨æ€è¯­è¨€ï¼šç¨‹åºè¿è¡Œæ—¶ï¼Œå¯ä»¥æ”¹å˜ç¨‹åºç»“æ„æˆ–å˜é‡ç±»å‹ã€‚å¸¸è§çš„åŠ¨æ€è¯­è¨€ï¼šPythonã€rubyã€javascript â†©","categories":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"},{"name":"reflection","slug":"reflection","permalink":"https://chrisxb1996.github.io/tags/reflection/"},{"name":"åå°„","slug":"åå°„","permalink":"https://chrisxb1996.github.io/tags/%E5%8F%8D%E5%B0%84/"}]},{"title":"Java æ³¨è§£","slug":"Java/Java-æ³¨è§£","date":"2020-05-10T03:56:57.000Z","updated":"2020-05-14T03:16:59.928Z","comments":true,"path":"2020/05/10/Java/Java-æ³¨è§£/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/10/Java/Java-%E6%B3%A8%E8%A7%A3/","excerpt":"Annotationçš„ä½œç”¨ï¼š1.ä¸æ˜¯ç¨‹åºæœ¬èº«ï¼Œå¯ä»¥å¯¹ç¨‹åºä½œå‡ºè§£é‡Šã€‚(è¿™ä¸€ç‚¹ï¼Œè·Ÿæ³¨é‡Šæ²¡ä»€ä¹ˆåŒºåˆ«)2.å¯ä»¥è¢«å…¶ä»–ç¨‹åº(æ¯”å¦‚ï¼šç¼–è¯‘å™¨ï¼Œå…¶ä»–ç±»(é€šè¿‡åå°„))è¯»å–ã€‚(æ³¨è§£ä¿¡æ¯å¤„ç†æµç¨‹ï¼Œæ˜¯æ³¨è§£å’Œæ³¨é‡Šçš„é‡å¤§åŒºåˆ«å¦‚æœæ²¡æœ‰æ³¨è§£ä¿¡æ¯å¤„ç†æµç¨‹ï¼Œåˆ™æ³¨è§£æ¯«æ— æ„ä¹‰)Annotationçš„æ ¼å¼ï¼šæ³¨è§£æ˜¯ä»¥â€œ@æ³¨é‡Šåâ€åœ¨ä»£ç ä¸­å­˜åœ¨çš„ï¼Œè¿˜å¯ä»¥æ·»åŠ ä¸€äº›å‚æ•°å€¼ï¼Œä¾‹å¦‚:@SuppressWarnings(value=â€uncheckedâ€)ã€‚(æŠ‘åˆ¶è­¦å‘Š)Annotationåœ¨å“ªé‡Œä½¿ç”¨ï¼šå¯ä»¥é™„åŠ åœ¨package, class, method, fieldç­‰ä¸Šé¢ï¼Œç›¸å½“äºç»™å®ƒä»¬æ·»åŠ äº†é¢å¤–çš„è¾…åŠ©ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç¼–ç¨‹å®ç°å¯¹è¿™äº›å…ƒæ•°æ®çš„è®¿é—®ã€‚","text":"Annotationçš„ä½œç”¨ï¼š1.ä¸æ˜¯ç¨‹åºæœ¬èº«ï¼Œå¯ä»¥å¯¹ç¨‹åºä½œå‡ºè§£é‡Šã€‚(è¿™ä¸€ç‚¹ï¼Œè·Ÿæ³¨é‡Šæ²¡ä»€ä¹ˆåŒºåˆ«)2.å¯ä»¥è¢«å…¶ä»–ç¨‹åº(æ¯”å¦‚ï¼šç¼–è¯‘å™¨ï¼Œå…¶ä»–ç±»(é€šè¿‡åå°„))è¯»å–ã€‚(æ³¨è§£ä¿¡æ¯å¤„ç†æµç¨‹ï¼Œæ˜¯æ³¨è§£å’Œæ³¨é‡Šçš„é‡å¤§åŒºåˆ«å¦‚æœæ²¡æœ‰æ³¨è§£ä¿¡æ¯å¤„ç†æµç¨‹ï¼Œåˆ™æ³¨è§£æ¯«æ— æ„ä¹‰)Annotationçš„æ ¼å¼ï¼šæ³¨è§£æ˜¯ä»¥â€œ@æ³¨é‡Šåâ€åœ¨ä»£ç ä¸­å­˜åœ¨çš„ï¼Œè¿˜å¯ä»¥æ·»åŠ ä¸€äº›å‚æ•°å€¼ï¼Œä¾‹å¦‚:@SuppressWarnings(value=â€uncheckedâ€)ã€‚(æŠ‘åˆ¶è­¦å‘Š)Annotationåœ¨å“ªé‡Œä½¿ç”¨ï¼šå¯ä»¥é™„åŠ åœ¨package, class, method, fieldç­‰ä¸Šé¢ï¼Œç›¸å½“äºç»™å®ƒä»¬æ·»åŠ äº†é¢å¤–çš„è¾…åŠ©ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æœºåˆ¶ç¼–ç¨‹å®ç°å¯¹è¿™äº›å…ƒæ•°æ®çš„è®¿é—®ã€‚è‡ªå®šä¹‰æ³¨è§£ï¼šæ ¼å¼ï¼špublic @interface æ³¨è§£å {å®šä¹‰ä½“}1.æ–¹æ³•çš„åç§°å°±æ˜¯å‚æ•°çš„åç§°;2.è¿”å›å€¼ç±»å‹å°±æ˜¯å‚æ•°çš„ç±»å‹ï¼ˆè¿”å›å€¼ç±»å‹åªèƒ½æ˜¯åŸºæœ¬ç±»å‹ã€Classã€Stringã€enumï¼‰;3.å¯ä»¥é€šè¿‡defaultæ¥å£°æ˜å‚æ•°çš„é»˜è®¤å€¼1;4.å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°æˆå‘˜ï¼Œä¸€èˆ¬å‚æ•°åä¸ºvalue;å…ƒæ³¨è§£ï¼šå…ƒæ³¨è§£çš„ä½œç”¨å°±æ˜¯è´Ÿè´£æ³¨è§£å…¶ä»–æ³¨è§£ã€‚ Javaå®šä¹‰äº†4ä¸ªæ ‡å‡†çš„meta-annotationç±»å‹ï¼Œå®ƒä»¬è¢«ç”¨æ¥æä¾›å¯¹å…¶å®ƒ annotationç±»å‹ä½œè¯´æ˜ã€‚1.@Targetï¼šç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼ˆå³:è¢«æè¿°çš„æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼‰ElementType.TYPEï¼›ElementType.FIELDâ€¦2.@Retentionï¼šè¡¨ç¤ºéœ€è¦åœ¨ä»€ä¹ˆçº§åˆ«ä¿å­˜è¯¥æ³¨é‡Šä¿¡æ¯ï¼Œç”¨äºæè¿°æ³¨è§£çš„ç”Ÿå‘½å‘¨æœŸSOURCEï¼›CLASSï¼›RUNTIME(å¯è¢«åå°„æœºåˆ¶è¯»å–)3.@Documented4.@Inheritedé€šè¿‡åå°„è¯»å–æ³¨è§£çš„æµç¨‹ï¼š è‡ªå®šä¹‰ç±»æ³¨è§£ï¼š 12345@Target(value = &#123;ElementType.TYPE&#125;)@Retention(RetentionPolicy.RUNTIME)public @interface test01Table &#123; String value();&#125; è‡ªå®šä¹‰å±æ€§æ³¨è§£ï¼š 1234567@Target(value = &#123;ElementType.FIELD&#125;)@Retention(RetentionPolicy.RUNTIME)public @interface test01Field &#123; String columnName(); String type(); int length();&#125; åœ¨test01ä¸­åŠ å…¥æ³¨è§£ï¼š 123456789@test01Table(\"tb_member\")public class test01 &#123; @test01Field(columnName = \"id\", type = \"int\", length = 10) private int id; @test01Field(columnName = \"sname\", type = \"varchar\", length = 10) private String name; @test01Field(columnName = \"age\", type = \"int\", length = 3) private int age;&#125; è¯»å–test01ä¸­çš„æ³¨è§£ï¼š 12345678910111213141516171819202122232425262728/** * é€šè¿‡åå°„è¯»å–è‡ªå®šä¹‰æ³¨è§£ */public class ReadAnnotation &#123; public static void main(String[] args) &#123; try &#123; Class clazz = Class.forName(\"com.sgg.annotation.test01\"); //è·å¾—ç±»çš„æœ‰æ•ˆæ³¨è§£ Annotation[] annotations = clazz.getAnnotations(); for(Annotation a : annotations)&#123; System.out.println(a); &#125; //è·å¾—ç±»çš„åˆ¶å®šæ³¨è§£ test01Table tt = (test01Table)clazz.getAnnotation(test01Table.class); System.out.println(tt.value()); //è·å¾—ç±»çš„å±æ€§çš„å¯¹åº”æ³¨è§£ Field f = clazz.getDeclaredField(\"id\"); test01Field tf = (test01Field)f.getAnnotation(test01Field.class); System.out.println(tf.columnName() +\"--\"+ tf.type() +\"--\"+ tf.length()); //æ¥ä¸‹æ¥å¯ä»¥åˆ©ç”¨æ³¨è§£ä¿¡æ¯å†™å‡ºDDLè¯­å¥ï¼Œå®Œæˆç›¸åº”çš„æ•°æ®åº“æ“ä½œ &#125; catch (Exception e) &#123; e.printStackTrace(); &#125; &#125;&#125; 1.æ³¨è§£å…ƒç´ å¿…é¡»è¦æœ‰å€¼ã€‚æˆ‘ä»¬å®šä¹‰æ³¨è§£å…ƒç´ æ—¶ï¼Œç»å¸¸ä½¿ç”¨ç©ºå­—ç¬¦ä¸²ã€0ä½œä¸ºé»˜è®¤å€¼ã€‚ä¹Ÿç»å¸¸ä½¿ç”¨è´Ÿæ•°(æ¯”å¦‚ï¼š-1)è¡¨ç¤ºä¸å­˜åœ¨çš„å«ä¹‰ â†©","categories":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/categories/Java/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"},{"name":"annotation","slug":"annotation","permalink":"https://chrisxb1996.github.io/tags/annotation/"}]},{"title":"ç”¨hexoæ­å»ºä¸ªäººåšå®¢","slug":"ç”¨hexoæ­å»ºä¸ªäººåšå®¢","date":"2020-05-09T08:50:49.000Z","updated":"2020-06-10T12:35:19.710Z","comments":true,"path":"2020/05/09/ç”¨hexoæ­å»ºä¸ªäººåšå®¢/","link":"","permalink":"https://chrisxb1996.github.io/2020/05/09/%E7%94%A8hexo%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/","excerpt":"å‡†å¤‡å·¥ä½œå®‰è£…gitï¼šhttps://git-scm.comå®‰è£…nodejsï¼šhttps://nodejs.org/en/å®‰è£…hexo1.ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼šsudo su2.å¯ä»¥éªŒè¯æ˜¯å¦è£…å¥½gitå’Œnodejsè¾“å…¥ï¼šgit -versionï¼›node -vï¼›npm -vï¼›æŸ¥çœ‹å¯¹åº”çš„ç‰ˆæœ¬æ˜¯å¦ä¸€è‡´ã€‚","text":"å‡†å¤‡å·¥ä½œå®‰è£…gitï¼šhttps://git-scm.comå®‰è£…nodejsï¼šhttps://nodejs.org/en/å®‰è£…hexo1.ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œï¼šsudo su2.å¯ä»¥éªŒè¯æ˜¯å¦è£…å¥½gitå’Œnodejsè¾“å…¥ï¼šgit -versionï¼›node -vï¼›npm -vï¼›æŸ¥çœ‹å¯¹åº”çš„ç‰ˆæœ¬æ˜¯å¦ä¸€è‡´ã€‚3.åœ¨å›½å†…å»ºè®®å…ˆå®‰è£…æ·˜å®é•œåƒæº cnpmå†è¿›è¡Œå®‰è£…hexoï¼šè¾“å…¥ï¼šnpm install -g cnpm â€“registry=https://registry.npm.taobao.org; å®‰è£…å®ŒåæŸ¥ çœ‹æ˜¯å¦å®‰è£…æˆåŠŸï¼š cnpm -vï¼š åˆ©ç”¨cnpmå®‰è£…hexoåšå®¢ ï¼šcnpm install -g hexo-cli å®‰è£…æˆåŠŸå¯æŸ¥çœ‹hexoä¿¡æ¯ï¼šhexo -v: 4.å¯ä»¥æ–°å»ºä¸€ä¸ª æ–‡ä»¶å¤¹ä½œä¸ºå­˜æ”¾ç›®å½•ï¼šmkdir blogï¼Œè¿›åˆ°ç›®å½•ä¸­ï¼šcd blog/ (æ³¨æ„æ“ä½œéƒ½åœ¨å½“å‰æ–‡ä»¶å¤¹ä¸‹è¿›è¡Œæ“ä½œ)5.è‡³æ­¤ï¼Œhexoå·²ç»ä¸ºä½ ç”Ÿæˆäº†åŸºç¡€åšå®¢æ¡†æ¶ï¼Œå¯åŠ¨hexoè¾“å…¥ :hexo s6.åœ¨æµè§ˆå™¨è¾“å…¥åœ°å€http://localhost:4000 å¯ä»¥çœ‹åˆ°åŸºæœ¬æ¡†æ¶å·²ç»ç”Ÿæˆã€‚","categories":[{"name":"hexo","slug":"hexo","permalink":"https://chrisxb1996.github.io/categories/hexo/"}],"tags":[{"name":"git","slug":"git","permalink":"https://chrisxb1996.github.io/tags/git/"},{"name":"hexo","slug":"hexo","permalink":"https://chrisxb1996.github.io/tags/hexo/"},{"name":"nodejs","slug":"nodejs","permalink":"https://chrisxb1996.github.io/tags/nodejs/"}]}],"categories":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/categories/Java/"},{"name":"å‰‘æŒ‡offer","slug":"å‰‘æŒ‡offer","permalink":"https://chrisxb1996.github.io/categories/%E5%89%91%E6%8C%87offer/"},{"name":"Leetcode","slug":"Leetcode","permalink":"https://chrisxb1996.github.io/categories/Leetcode/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"hexo","slug":"hexo","permalink":"https://chrisxb1996.github.io/categories/hexo/"}],"tags":[{"name":"Java","slug":"Java","permalink":"https://chrisxb1996.github.io/tags/Java/"},{"name":"å‰‘æŒ‡offer","slug":"å‰‘æŒ‡offer","permalink":"https://chrisxb1996.github.io/tags/%E5%89%91%E6%8C%87offer/"},{"name":"æ•°æ®ç»“æ„å’Œç®—æ³•","slug":"æ•°æ®ç»“æ„å’Œç®—æ³•","permalink":"https://chrisxb1996.github.io/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%92%8C%E7%AE%97%E6%B3%95/"},{"name":"Spring","slug":"Spring","permalink":"https://chrisxb1996.github.io/tags/Spring/"},{"name":"SpringBoot","slug":"SpringBoot","permalink":"https://chrisxb1996.github.io/tags/SpringBoot/"},{"name":"Leetcode","slug":"Leetcode","permalink":"https://chrisxb1996.github.io/tags/Leetcode/"},{"name":"åŒæŒ‡é’ˆ","slug":"åŒæŒ‡é’ˆ","permalink":"https://chrisxb1996.github.io/tags/%E5%8F%8C%E6%8C%87%E9%92%88/"},{"name":"è®¾è®¡æ¨¡å¼","slug":"è®¾è®¡æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"},{"name":"è§‚å¯Ÿè€…æ¨¡å¼","slug":"è§‚å¯Ÿè€…æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E8%A7%82%E5%AF%9F%E8%80%85%E6%A8%A1%E5%BC%8F/"},{"name":"æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼","slug":"æ¨¡ç‰ˆæ–¹æ³•æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E6%A8%A1%E7%89%88%E6%96%B9%E6%B3%95%E6%A8%A1%E5%BC%8F/"},{"name":"ç­–ç•¥æ¨¡å¼","slug":"ç­–ç•¥æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E7%AD%96%E7%95%A5%E6%A8%A1%E5%BC%8F/"},{"name":"è®¡ç®—æœºç½‘ç»œ","slug":"è®¡ç®—æœºç½‘ç»œ","permalink":"https://chrisxb1996.github.io/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/"},{"name":"åº”ç”¨å±‚","slug":"åº”ç”¨å±‚","permalink":"https://chrisxb1996.github.io/tags/%E5%BA%94%E7%94%A8%E5%B1%82/"},{"name":"ä¼ è¾“å±‚","slug":"ä¼ è¾“å±‚","permalink":"https://chrisxb1996.github.io/tags/%E4%BC%A0%E8%BE%93%E5%B1%82/"},{"name":"ç½‘ç»œå±‚","slug":"ç½‘ç»œå±‚","permalink":"https://chrisxb1996.github.io/tags/%E7%BD%91%E7%BB%9C%E5%B1%82/"},{"name":"æ•°æ®é“¾è·¯å±‚","slug":"æ•°æ®é“¾è·¯å±‚","permalink":"https://chrisxb1996.github.io/tags/%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/"},{"name":"å·¥å‚æ¨¡å¼","slug":"å·¥å‚æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F/"},{"name":"å•ä¾‹æ¨¡å¼","slug":"å•ä¾‹æ¨¡å¼","permalink":"https://chrisxb1996.github.io/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/"},{"name":"JVM","slug":"JVM","permalink":"https://chrisxb1996.github.io/tags/JVM/"},{"name":"reflection","slug":"reflection","permalink":"https://chrisxb1996.github.io/tags/reflection/"},{"name":"åå°„","slug":"åå°„","permalink":"https://chrisxb1996.github.io/tags/%E5%8F%8D%E5%B0%84/"},{"name":"annotation","slug":"annotation","permalink":"https://chrisxb1996.github.io/tags/annotation/"},{"name":"git","slug":"git","permalink":"https://chrisxb1996.github.io/tags/git/"},{"name":"hexo","slug":"hexo","permalink":"https://chrisxb1996.github.io/tags/hexo/"},{"name":"nodejs","slug":"nodejs","permalink":"https://chrisxb1996.github.io/tags/nodejs/"}]}